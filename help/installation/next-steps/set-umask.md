---
title: umask の設定（オプション）
description: ファイルシステムの権限を制限することで、Adobe Commerce オンプレミスのインストールのセキュリティ体制を強化します。
feature: Install, Configuration
exl-id: 18d65d75-7be0-4488-bf35-4b058e4ae5ea
source-git-commit: ddf988826c29b4ebf054a4d4fb5f4c285662ef4e
workflow-type: tm+mt
source-wordcount: '296'
ht-degree: 0%

---

# umask の設定（オプション）

Web サーバーグループには、ファイルシステム内の特定のディレクトリに対する書き込み権限が必要です。ただし、特に実稼動環境では、セキュリティを強化する必要がある場合があります。 [umask](https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html) を使用して、これらの権限をさらに制限できる柔軟性を提供します。

この解決策は、アプリケーションのルートディレクトリに `magento_umask` という名前のファイルをオプションで作成し、web サーバーグループおよびその他すべてのユーザーの権限を制限できるようにすることです。

>[!NOTE]
>
>umask の変更は、1 人のユーザーまたは共有ホスティングシステムでのみ行うことをお勧めします。 プライベート・アプリケーション・サーバがある場合、グループはファイル・システムへの書き込みアクセス権を持つ必要があります。umask はグループからの書き込みアクセス権を削除します。

デフォルトの umask （`magento_umask` を指定しない）は `002` です。つまり、

* 775 （ディレクトリの場合）。ユーザーによるフル・コントロール、グループによるフル・コントロールを意味し、すべてのユーザーがディレクトリをトラバースできるようにします。 これらの権限は、通常、共有ホスティングプロバイダーで必要です。

* 664 （ファイルの場合）。ユーザーによる書き込み可能、グループによる書き込み可能、他のすべてのユーザーの読み取り専用を意味します。

一般的な推奨事項は、`022` ファイルで `magento_umask` の値を使用することです。つまり、次のようになります。

* 755 （ディレクトリの場合）：ユーザーのフルコントロール。他のユーザーはディレクトリをトラバースできます。
* 644 （ファイルの場合）：ユーザーには読み取り/書き込み権限、その他のすべてのユーザーには読み取り専用アクセス権限。

`magento_umask` を設定するには：

1. コマンドラインターミナルで、[&#x200B; ファイルシステムの所有者 &#x200B;](../prerequisites/file-system/overview.md) としてアプリケーションサーバーにログインします。
1. アプリケーションインストールディレクトリに移動します。

   ```bash
   cd <Application install directory>
   ```

1. 次のコマンドを使用して、`magento_umask` という名前のファイルを作成し、`umask` の値をファイルに書き込みます。

   ```bash
   echo <desired umask number> > magento_umask
   ```

   これで、`magento_umask` に `<Magento install dir>` という名前のファイルが作成され、コンテンツは `umask` 番号のみになります。

1. 変更を適用するには、ログアウトしてから [&#x200B; ファイルシステムの所有者 &#x200B;](../prerequisites/file-system/overview.md) としてログインし直します。
