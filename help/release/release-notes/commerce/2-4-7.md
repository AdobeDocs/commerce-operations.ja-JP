---
title: Adobe Commerce 2.4.7-beta1 リリースノート
description: 2.4.7-beta1 Adobe Commerceリリースの新機能、機能強化、バグ修正および既知の問題について説明します。
badgeCoreBeta: label="2.4.7-beta1" type="informative"
source-git-commit: c0506139a4b4d08bee0a15f32543c56aa42ac6bc
workflow-type: tm+mt
source-wordcount: '8274'
ht-degree: 0%

---

# Adobe Commerce 2.4.7-beta1 リリースノート


>[!IMPORTANT]
>
>ベータ版リリースには欠陥が含まれている場合があり、「現状のまま」提供され、いかなる保証も付与されません。 Adobeは、(Adobeサポートサービスまたはその他の方法で ) ベータリリースを維持、修正、更新、変更、変更またはその他のサポートする義務を負いません。 ベータリリースの正しい機能やパフォーマンス、および付属のドキュメントや資料に何らかの方法で依存しないように注意してください。 したがって、ベータリリースを使用する場合は、完全にお客様自身のリスクに従います。


Adobe Commerce 2.4.7-beta1 には、200 件を超える品質の修正および機能強化が含まれています。 Core Composer の依存関係とサードパーティライブラリが、利用可能な最新バージョンにアップグレードされました。 Composer 2.5 のサポートが追加されましたが、Composer 2.2.x は引き続きサポートされます。

このリリースでは、カスタム属性のGraphQL対応範囲と、GraphQLのキャッシュ機能の強化が強化されました。

{{bics}}

## その他のリリース情報

これらの機能のコードはAdobe Commerceコアコードのリリースにバンドルされていますが、これらのプロジェクト (B2B、Page Builder、Progressive Web Application(PWA)Studio など ) のいくつかも個別にリリースされています。 これらのプロジェクトのバグ修正は、個別のプロジェクト固有のリリース情報に記載されています。この情報は、各プロジェクトのドキュメントに記載されています。

## Adobe Commerce 2.4.7-beta1

Adobe Commerce 2.4.7-beta1 は、次のコンポーネントバージョンに対してテストされています。

* Composer 2.5
* Elasticsearch8.5
* MariaDB 10.6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 および 8.1
* RabbitMQ 3.11
* Redis 7.0
* ワニス 7.3

当社の技術スタックは、PHP および MySQL 上で構築されています。 詳しくは、 [必要システム構成](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Adobe Commerce 2.4.7 のハイライト

このリリースでは、次の点に注意してください。

### セキュリティの強化

このリリースには、13 件のセキュリティ修正とプラットフォームのセキュリティ改善が含まれています。

これらの問題に関する確認済みの攻撃は、現在までには発生していません。 ただし、一部の脆弱性は、顧客情報にアクセスするために悪用されたり、管理者セッションを引き継ぐ可能性があります。 これらの問題のほとんどは、攻撃者が最初に管理者へのアクセス権を取得する必要があります。 その結果、以下の取り組みに限定されない限り、管理者を保護するために必要なすべての手順を実行するように促されます。

* IP許可リストに加える
* [二段階認証](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* VPN の使用
* ではなく一意の場所の使用 `/admin`
* パスワードの衛生状態が良好

詳しくは、 [Adobeセキュリティ情報](https://helpx.adobe.com/security/products/magento/apsb23-35.html) を参照してください。

#### その他のセキュリティ強化

このリリースのセキュリティ強化により、最新のセキュリティのベストプラクティスへの準拠が改善されました。この変更により、既存の REST エンドポイントのデフォルト動作が変更されます。

**REST およびGraphQL API を介して送信される支払い情報のネイティブなレート制限**. REST とGraphQLを使用して送信される支払い情報に対して、マーチャントがレート制限を設定できるようになりました。 この保護の層は、カーディング攻撃の防止をサポートし、多くのクレジットカード番号を一度にテストするカーディング攻撃の量を減らす可能性があります。 詳しくは、 [レート制限](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/). <!-- AC-1271 -->

のデフォルトの動作 [`isEmailAvailable`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQLクエリと ([`V1/customers/isEmailAvailable`](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) REST エンドポイントが変更されました。 デフォルトでは、API は常にを返すようになりました `false`. 商人は元の行動を有効にすることができます。 `true` 電子メールがデータベースに存在せず、 `false` 存在する場合は。 <!-- AC-6695 -->


### Platform の機能強化

このリリースのプラットフォームをアップグレードすると、最新のセキュリティのベストプラクティスへの準拠が向上します。 Adobe Commerce 2.4.7-beta1 には、次の機能が含まれます。

* Composer 2.5.x。Composer 2.2.x との互換性が維持されます。  <!-- AC-8129 -->

* **Vanish キャッシュ 7.3 のサポート**. このリリースは Vanish Cache 7.3 の最新バージョンと互換性があります。互換性は 6.0.x および 7.2.x バージョンに残りますが、Adobe Commerce 2.4.7-beta1 は Vanish Cache バージョン 7.3 または 6.0 LTS でのみ使用することをお勧めします。

* **RabbitMQ 3.11 のサポート**. このリリースは、RabbitMQ 3.11 の最新バージョンと互換性があります。互換性は引き続きRabbitMQ 3.9 （2023 年 8 月までサポート）と互換性がありますが、Adobe Commerce 2.4.7-beta1 はRabbitMQ 3.11 とのみで使用することをお勧めします。

#### その他のアップグレードと交換

古い JavaScript ライブラリは、次のような最新バージョンにアップグレードされました。

* `moment.js` ライブラリ (v2.29.4) <!-- AC-7389 -->
* `jQuery UI` ライブラリ (v1.13.2)  <!-- AC-7775 -->
* `jQuery` 検証プラグインライブラリ (v1.19.5) <!-- AC-8077 -->

### パフォーマンスと拡張性の強化

このリリースでは、大規模なデプロイメント構成での保存操作の処理速度が大幅に向上しました。

* **多数のストアを持つデプロイメントで、ストアレベルの構成の保存操作を高速化**. 500 を超えるストアを含むデプロイメントでの設定の保存には時間がかかる場合があります。 新しい [`Async Config`](../../../performance/configuration.md#asynchronous-configuration-save-badge-247-beta1typeinformative-urlhelpreleaserelease-notescommerce2-4-7md-tooltipavailable-in-247-beta1-only) モジュールは、 `cron` メッセージキュー内の保存操作を処理するためにコンシューマーを使用するジョブ。 `AsyncConfig` が **無効** デフォルトでは。  <!-- ACPT-831 -->

* **大規模な設定のための設定キャッシュの生成を高速化**. この `bin/magento cache:clean config` コマンドは、config キャッシュが有効な場合に、config キャッシュを事前に警告するようになりました。 これにより、大規模な設定での設定キャッシュの生成に必要なダウンタイムが短縮されます。 設定の保存操作で、 `config_scopes` キャッシュをキャッシュに書き込む前にキャッシュを作成することで、設定データの書き込み中に他のリクエストがロックアウトされる時間を短縮できます。
<!-- ACPT-992 -->

### GraphQL API 用アプリケーションサーバー

このリリースでは、Swoole PHP 拡張で実装される新しい PHP アプリケーションサーバーが導入されています。 このアプリケーションサーバーを使用すると、Adobe Commerceは Commerce GraphQL API リクエスト間の状態を維持でき、ブートストラップをおこなう必要がなくなります。 プロセス間でアプリケーション状態を共有すると、API リクエストの効率が大幅に向上し、API の応答時間は 50 ～ 60 ミリ秒減少する可能性があります。

この `ApplicationServer` モジュールは、PHP アプリケーションサーバーを実装します。このサーバーは、オンプレミスのデプロイメントにのみ使用できます。 このサーバーを実装する開発者は、Swoole と Nginx もインストールして設定する必要があります。

このアプリケーションサーバーのベータ版は、オンプレミスのデプロイメントでのみ利用できます。クラウドベースのデプロイメントはサポートされていません。 B2B GraphQL機能はまだサポートされていません。 このバージョンの PHP アプリケーションサーバーが設定されている場合、オンプレミスデプロイメントでGraphQLの要求が期待どおりに動作しないことがあります。 詳しくは、 [GraphQL API 用アプリケーションサーバー](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/performance-best-practices/application-server.html). <!-- ACPT-27 -->

### Adobe Commerce Extension Metapackage

このリリースでは、Adobe Commerce Extension メタパッケージ v2.0.0-beta1 が導入されました。このリリースは、このコアリリースで選択されたAdobe Commerce拡張機能を自動的にバンドルします。 このメタパッケージに含まれる拡張機能のバージョンは、 `composer update` を実行すると、最新のコアリリースにアップグレードする際にこれらの拡張機能をアップグレードするプロセスが簡単になります。 これらの拡張機能は、独立したリリーススケジュールを維持します。

Adobe Commerce 2.4.7-beta1 用Adobe Commerce拡張機能メタパッケージには、次の 3 つの拡張機能が含まれています。

* [ボルトクイックチェックアウト](https://experienceleague.adobe.com/docs/commerce-merchant-services/quick-checkout/overview.html)
* [Adobe CommerceのAdobe I/Oイベント](https://developer.adobe.com/commerce/events/get-started/)
* [支払いサービス](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)

この拡張機能メタパッケージの今後のバージョンには、追加の拡張機能が含まれる予定です。

### B2B

このリリースには、B2B ネゴシエーション可能な見積もり、REST API の更新、および複数のバグ修正に関する新機能と機能強化が含まれています。

* **販売者が見積もりを開始しました**. B2B セールス担当者は、管理者の Quote グリッドと Customer グリッドから直接見積もりを開始できるようになりました。 詳しくは、 [見積もりの作成](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-request.html)

* **品目割引**. 割引は、割引率、固定値、または見積内の特定の品目に対する拡張価格として適用できるようになりました。

* **見積もりの注記交換**. ネゴシエーション・プロセス中に、B2B の購入者と販売者は、見積書に直接メモを追加できます。 透明性を確保するために、行項目と見積もり履歴には、注記の作成と更新が含まれます。 詳しくは、 [見積もりの交渉](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-price-negotiation.html)

* **見積もりの詳細ビューの改善**. 見積もりの詳細ページを表示している間、販売者と購入者は、SKU 別または製品カタログ別に品目を追加し、メモを追加または編集し、品目の割引を適用し、見積もりの詳細ページから直接製品設定にアクセスできます。

* REST API の更新

   * このリリースで導入された販売者が開始した見積もり機能に対して Web API カバレッジを提供するエンドポイントが追加されました。 詳しくは、 [ネゴシエーション可能な見積もりの管理](https://developer.adobe.com/commerce/webapi/rest/b2b/negotiable-manage/).

     `POST /V1/negotiableQuote/draft`

   * 共有カタログのストアフロント機能の強化された Web API カバレッジには、カスタム価格アクションを割り当ててリセットする新しいエンドポイントが含まれます。

     `POST /V1/sharedCatalog/:sharedCatalogId/assignCustomPrices`
     `POST /V1/sharedCatalog/:sharedCatalogId/resetCustomPrices`

  新しい `quickorder_active` フィールド `storeConfig` および `availableStores` クエリ。 このフィールドは、クイックオーダー機能が有効になっているかどうかを示します。

コマース B2B 向けの REST およびGraphQL API の適用範囲について詳しくは、 [Commerce Web API](https://developer.adobe.com/commerce/webapi/) 開発者向けドキュメント。 詳しくは、 [B2B リリースノート](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html) バグ修正の説明を参照してください。

### GraphQL

このリリースでは、GraphQLのキャッシュ機能が強化され、次のようなカスタム属性に対するGraphQLスキーマのサポートが追加されました。

* **カスタム属性のサポートの強化**. GraphQLのカスタム属性のサポートは、API データを強化して、すべての属性タイプをサポートするようにしました。 GraphQL EAV 属性スキーマで、管理者で顧客属性と顧客アドレスオブジェクトを拡張し、GraphQLを使用してそれらを取得できるようになりました。 機能強化の特定の領域は次のとおりです。 <!-- LYNX-61 110-->

   * 顧客や顧客の住所などの特定の領域に対するカスタム属性のサポートを拡張/追加
   * カスタム属性のキャッシュを追加しました
   * 製品の既存のカスタム属性のサポートの強化

* **GraphQLのキャッシュ機能の強化により、ページ読み込み速度が向上**. これらのクエリにキャッシュ機能が追加され、ほとんどのPWAページのページ読み込み時間が短縮されました。

   * [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) <!-- B2B-2487 2258 -->
   * [`currency`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/) <!-- B2B-2255 -->
   * [`countries`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) および [`country`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/) <!-- B2B-2256 -->
   * [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) <!-- B2B-2257 -->
   * [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata) <!-- B2B-2259 -->


* 追加された `quickorder_active` フィールドから [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) および [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) クエリ。 このフィールドは、クイックオーダー機能が有効になっているかどうかを示します。 <!-- LYNX-58 -->

* GraphQLパーサーのパフォーマンスが向上し、 `parse` メソッドはリクエストごとに呼び出されます。 現在は 1 回呼び出されます。 以前は、パーサーが少なくとも 3 回呼び出されていました。 <!-- B2B-2606 -->

#### 新しいクエリ

[`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) <!-- LYNX-152 160-->

#### 非推奨のクエリ

* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) <!-- LYNX-77-->
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Page Builder

Page Builder v.1.7.4 はAdobe Commerce 2.4.7-beta1 と互換性があります。

### PWA Studio

PWA Studiov.13.2.x はAdobe Commerce 2.4.7-beta1 と互換性があります。 アクセシビリティを向上させるための複数の機能強化が含まれています。 バグ修正について詳しくは、 [PWA Studioリリース](https://github.com/magento/pwa-studio/releases). 詳しくは、 [バージョンの互換性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) を参照してください。

## 修正された問題

Adobe Commerce 2.4.7-beta1 コアコードでの数百の問題を修正しました。 このリリースに含まれる修正された問題のサブセットを以下で説明します。

### インストール、アップグレード、導入

<!-- ACP2E-1505 -->

* この `bin/magento setup:upgrade` コマンドが次のタイプの MySQL メモリ制限関連エラーで失敗しなくなりました。 `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. 複数選択の属性の移行が最適化され、次の期間中に消費メモリを削減 `setup:upgrade`.

<!-- ACP2E-1751 -->

* 管理者とコマンドラインの両方で、データベースバックアップの生成が期待どおりに動作するようになりました。 以前は、Adobe Commerceが次のエラーをスローしていました。 `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* 実行中 `setup:config:set` 指定せずに `--lock-db-prefix` パラメーターで、現在の値が `env.php` ファイル。

<!-- ACP2E-1498 -->

* Vanish の設定が更新され、ゲストユーザーが他の顧客グループに関連するキャッシュ済みコンテンツにアクセスできなくなりました。

<!-- AC-7113 -->

* 買い物客は、分割データベースを実装するデプロイメントに、 **[!UICONTROL Checkout Async]** が有効になっている。 以前は、Adobe Commerceが次のエラーをスローしていました。 `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` テーブルと関連付けられたテーブルの両方をインストールする新しいモジュールをインストールすると、が正常に完了するようになりました。 `mview` インデクサー。

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` メッセージキューのトピックにトピック名が含まれていない場合に、より有益なエラーメッセージを表示するようになりました。 [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` 結合された XML ファイルが無効な場合に、より有益なエラーメッセージが表示されるようになりました。 エラーメッセージにファイル名が含まれるようになりました。

### 製品のバンドル

<!-- ACP2E-1478 -->

* 製品オプションで SKU を重複させずに、バンドル製品が正常に読み込まれるようになりました。 以前は、Adobe Commerceで、重複したエントリを持つバンドル製品を読み込むと、製品オプションに複数の重複 SKU が作成されていました。

<!-- ACP2E-1388 -->

* バンドル内の製品の 1 つが在庫切れの場合に、バンドル製品の価格が正しく計算されるようになりました。 以前は、バンドルの一部であった製品が在庫切れの場合、価格の計算から削除されていました。

<!-- ACP2E-1503 -->

* 必要な子製品の最後の購入時に、バンドル製品が在庫切れと表示されるようになりました。 以前は、単純な製品が在庫切れの場合、バンドル製品は在庫内として店頭に表示されていました。

<!-- ACP2E-1443 -->

* 不要なオプションを含むバンドル製品を、 `addBundleProductsToCart` 突然変異が解決された。

<!-- ACP2E-1264 -->

* この `categoryList` クエリで、 **[!UICONTROL Show out-of-stock products]** 設定が有効になっています。 以前は、在庫切れのオプションはクエリ応答に含まれていませんでした。

<!-- ACP2E-1345 -->

* で作成された製品をバンドル `POST V1/products` カタログ価格の範囲がに設定されている場合に成功するようになりました。 `website`. 以前は、整合性制約違反が発生していました。 [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### キャッシュ

<!-- ACP2E-1524 -->

* 親製品の子製品の 1 つが管理者から保存されたときに、その親製品のページキャッシュが期待どおりにクリアされるようになりました。 他の製品タイプと同様に、設定可能なバリアントのキャッシュの無効化に到達するために、プラグインチェックが導入されました。インデクサーの状態（スケジュール設定またはリアルタイム）に関係ありません。 以前は、設定可能なバリエーションが管理者から更新された後、ストアフロントで価格が正しく更新されませんでした。

<!-- ACP2E-1454 -->

* AWS資格情報のキャッシュメカニズムが追加されました。 資格情報プロバイダーは、Magentoキャッシュを使用して、EC2 構成用にAWSから取得した資格情報をキャッシュするようになりました。

<!-- AC-7639 -->

* 設定可能な製品に関連付けられたシンプルな製品が保存された際に、設定可能なキャッシュタグを追加することを目的とするプラグインが、期待どおりに動作するようになりました。 シンプルな製品が次の方法で更新されると、関連する設定可能なキャッシュタグがすべて期待どおりに削除されます。 `POST V1/products`. 以前は、すべての価格が店頭で更新されたわけではなく、キャッシュを手動でクリアする必要がありました。 [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### 買い物かごとチェックアウト

<!-- ACP2E-1614 -->

* キャッシュがフラッシュされた後、買い物かご内の製品が関連製品リストやアップセル製品リストから除外されなくなりました。

<!-- ACP2E-1580 -->

* 買い物かごの税金および送料見積もりに、デフォルトの宛先設定が正確に反映されるようになりました。 以前は、デフォルトの税金宛先の計算設定を構成し、「都道府県/地域」と「郵便番号」を指定した場合、郵便番号の値のみが買い物かごの **[!UICONTROL Estimate Tax and Shipping]**. これは、Adobe Commerceが、管理者からデフォルトの地域 ID を設定する条件文を呼び出す前に、地域 ID を undefined に設定していたためです。

<!-- ACP2E-1547 -->

* 永続的な買い物かごが有効な場合、Adobe Commerceがチェックアウト中にこのエラーをスローしなくなりました。 `Invalid state change requested`. 以前は、このエラーがスローされると、同じ `quote_id` 時々作成されました。

<!-- ACP2E-1456 -->

* ミニ買い物かごに、買い物かごの税金設定を反映したバンドル製品価格が表示されるようになりました。 以前は、ミニカートには常にバンドル製品の価格に税が含まれていました。

<!-- ACP2E-1414 -->

* アクティブな買い物かごに依存する顧客セグメントルールのパフォーマンスが向上し、買い物かごへの製品の追加に要する時間が短縮されました。

<!-- AC-7503 -->

* これで、買い物かごページから提供された送料の推定が正確になりました。 `collectShippingRates` が 1 回のみ設定されるようになりました。 以前は、送料の見積もりが複製されていました。 [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* この `cart` 指定した買い物かご内の製品が在庫切れの場合に、クエリがエラーを返さなくなりました。 以前は、このクエリを使用して購入する買い物客は、品目が在庫切れで、チェックアウトページが空白の場合に、購入を完了できませんでした。

<!-- ACP2E-1459 -->

* へのゲスト API リクエスト `POST V1/default/V1/guest-carts/<cartId>/shipping-information` もはや～を返さない `cancel` モバイル環境でのログイン中にページがリロードされた場合のステータス。 以前は、Adobe Commerceで 500 エラーがスローされ、この例外が記録されていました。 `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* 無料配送の適格要件は、 **[!UICONTROL Subtotal (Excl. Tax)]** 条件が適用されます。 [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* この `cart` クエリが製品の正しい階層の価格を返すようになりました。 [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* チェックアウトページに情報のエラーメッセージが追加され、購入者を誘導するために、出荷ページのクーポンの申し込みが、選択した発送方法と競合する場合に役立ちます。 以前は、メッセージが買い物客に前のページに戻るように伝えていました。

<!-- ENGCOM-8387 -->

* ゲストによるチェックアウトが有効になっている場合ではなく、必要な場合にのみ認証ポップアップが初期化されるようになりました。 ゲスト買い物客がチェックアウトに進もうとすると、ゲストのチェックアウトが無効になると、これが初期化されます。 [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### 買い物かごの価格ルール

<!-- ACP2E-1516 -->

* ある発送方法に関連する買い物かごの価格ルールを店舗に対して設定し、この発送方法をチェックアウト時に別の方法に変更すると、買い物かごの価格ルールが期待どおりに適用されるようになりました。 以前は、 `applied_rule_ids` 値は `sales_order_item` 表、および買い物かごの価格ルールが注文に適用されていませんでした。

### カタログ

<!-- ACP2E-1479 -->

* カスタムオプションで作成した製品を画像を削除した後に保存した場合、Adobe Commerceで警告メッセージが表示されなくなりました。

<!-- ACP2E-1419 -->

* 製品の在庫が再び在庫されたときに送信される製品在庫アラート電子メールで、製品のサムネール画像が期待どおりに表示されるようになりました。 以前は、この画像はアラート E メールには表示されませんでした

<!-- AC-3003 -->

* カテゴリツリー内の製品数（管理者） **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) は現在は正確です。 以前は、カテゴリ製品数を `catalog_category_product_index` 表。 このバグをトリガーしたタイポを修正しました。 [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* 製品の詳細ページのメイン製品画像は、 `product_image_white_borders` テーマ内 `view.xml` は無効です。 以前は、Fotorama JS の高さ設定が正しくないため、ページ読み込み中に製品画像が下方にシフトしていました。

<!-- ACP2E-1361 -->

* 顧客が価格ドロップアラートを購読した際、製品価格の下落に関する通知が届くようになりました。 以前は、アプリケーションレベルのキャッシュのため、価格下落通知が送信されない場合がありました。

<!-- ACP2E-1422 -->

* Web API を使用して製品属性を作成するプロセスに、サーバー側の検証が追加されました。 次を有効にすることはできません： **[!UICONTROL Use in Layered Navigation Catalog]** フィールドに **[!UICONTROL Catalog Input Type for Store Owner]** フィールド値： `Text Field`,  `Text Area`,  `Text Editor`, `Date`または `Date and Time`. 以前は、製品はカテゴリや検索結果から除外されていました。

<!-- ACP2E-1413 -->

* 買い物客がページを開いた後、カテゴリページが正しいページネーションで再読み込みされ、ページネーションを変更し、製品ページに移動して、カテゴリページに戻るようになりました。  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* 設定可能な製品のオプションである、在庫切れのシンプルな製品が、 **[!UICONTROL Display Out of Stock Products]** が **はい**. 以前は、ステータスと実際の可用性に関わらず、すべてのオプションが使用可能として表示されていました。

<!-- ACP2E-1384 -->

* 特定のストアビューの Web サイトのスコープ属性を更新しても、グローバルスコープの属性の値が上書きされなくなりました。 以前は、同じ SKU と `store_view_code` その結果、既定の範囲と [ すべてのストア ] 表示範囲の価格が不正確になっていました。

<!-- ACP2E-1632 -->

* マーチャントは、GIF画像を管理者から製品の画像ギャラリーに追加できるようになりました。 以前は、Adobe Commerceに次のエラーが表示されていました。  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* 未定義の配列キーによるエラーを処理するためのチェックが追加されました。 以前は、宣言スキーマのホワイトリストの生成中にエラーが発生していました。

<!-- ACP2E-1749 -->

* Adobe Commerceは、カスタム日付の有効な結果を返すようになりました `01/01/1970`. 以前は、カスタム属性が次のエラーを返していました。 `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` フラグメントを使用するクエリで、カテゴリ情報が期待どおりに返されるようになりました。 以前は、カテゴリページで内部サーバーエラーが発生していました。 [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* の問題 `cataloginventory_stock` 部分的なインデックス再作成プロセスが解決され、インデクサーのパフォーマンスが向上しました。 以前は、在庫カテゴリと製品カテゴリが正確に更新されていませんでした。

<!-- AC-8226 -->

* 製品が属するカテゴリが新しい親に移動された場合、Adobe Commerceでは、製品の 301 リダイレクトが生成されるようになりました。 [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### カタログルール

<!-- ACP2E-1579 -->

* 複数の Web サイト環境で、カタログルールが期待どおりに適用されるようになりました。

### クーポン

<!-- ACP2E-1551 -->

* 買い物客は、同じ買い物かご価格ルールで生成された、2 つの異なる自動生成クーポンコードを使用できるようになりました。 この `Uses per Coupon` クーポンタイプが `Auto` （クーポンタイプ=と同様）`Specific Coupon`) ) をクリックします。 これにより、買い物客は、コードが異なる場合に、同じ買い物かご価格に複数のクーポンコードを適用できます。

<!-- ACP2E-1496 -->

* 買い物客の単一使用クーポン値は、適用された順序がキャンセルされた際に、期待どおりに復元されるようになりました。

<!-- ACP2E-1195 -->

* この `GET V1/coupons/<couponId>` エンドポイントは、自動生成されたクーポンと同様に、手動で作成されたクーポンに対して、期待される完全な応答を返すようになりました。  以前は、一部のフィールドが省略されていました ( 例： `usage_limit`, `usage_per_customer`、および `created_at`) をクリックします。

### cron

<!-- AC-7987 -->

* 管理者ユーザーが、 `bin/magento cron:run` プロセスは現在実行中です。 現在実行中のプロセスのタイトルに、グループ名とジョブ名が一覧表示されるようになりました。 [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### 顧客

<!-- AC-6748 -->

* Adobe Commerceに **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]**、および **[!UICONTROL Fax]** 設定に基づいて顧客を編集ページのフィールド [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### 電子メール

<!-- ACP2E-1529 -->

* 会社管理者の電子メールに `CMS Block URL` 変数を使用します。

<!-- AC-2903 -->

* 顧客の E メールアドレスに、読み分け符号を含めることができるようになりました。 以前は、フロントエンド検証では、E メールアドレスに DiaCritics を含むユーザーの作成が禁止されていました。 [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* 在庫および価格のアラート E メールが、Web サイトのデフォルトのストア表示で設定した言語に従って翻訳されるようになりました。 以前は、これらのメールは翻訳されていませんでした。

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` では、注文の準備ができたときにのみ注文の受け取り準備ができたことを警告する E メールを顧客に送信するようになりました。 リクエストが例外なしで実行された場合にのみ、電子メールがトリガーされるようになりました。

### フレームワーク

<!-- ACP2E-1492 -->

* 同時要求による更新中の競合状態を防ぐため、注文に対してミューテックスが実装されました。 以前は、注文のキャンセルに対する同時リクエスト（競合状態）により、 `inventory_reservation` 表。

<!-- ACP2E-1381 -->

* この `populateWithArray` 関数は、オブジェクトのプロパティをスネークケースに正しく変換し、との互換性を持たせるようになりました。 `AbstractModel` ゲッターとセッター 以前は、データ属性名に複数の大文字が連続して含まれている場合、スネークケースのフォーマットが正しくありませんでした。

<!-- ACP2E-1522 -->

* 自動増分値 ( `catalog_product_entity_varchar` 製品を保存すると、テーブルが正しく増分されるようになりました。 以前は、この値が 10 ずつ増えていました。

<!-- ACP2E-1701 -->

* JavaScript/CSS キャッシュをフラッシュしようとした際に、Adobe Commerceでこのファイルシステム例外がスローされなくなりました。  `No such file or directory`.

<!-- ACP2E-1358 -->

* の値 `value_id` in `customer_entity_int` が正しく増分されるようになりました。 の代わりに更新クエリが実行されます `insert on duplicate key update` これらの属性を組み込むエンティティを更新する際に使用します。 その結果、EAV モデル内で使用される自動増分列が線形的に増加します。 以前は、列の自動増分処理は、挿入クエリの失敗により値をスキップしていました。 [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* 不要な空白を次の場所から削除しました： `id` 必要のない属性。 ( このバグは、Adobe Commerce 2.4.6 のコード変更によって導入されました )。

<!-- AC-7923 -->

* ストアがシングルストアモードの場合、ストアコードはストア URL に表示されなくなりました。 [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* に対してマイナーな更新がおこなわれました `around` プラグイン [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* スウォッチ `Helper` 誤ったインポート別名を削除するためにリファクタリングされました。 [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* 管理者ユーザーは、 `sitemap.xml` ファイルに書き込まれます。 以前は、管理者ユーザーは管理者からファイルを削除できましたが、ファイルシステムには残っていました。  [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* クーポンは、適用された注文で支払いが失敗した場合に使用されるようにフラグ付けされなくなりました。 キューのメッセージは、コンシューマーの開始時に、公開された順序で処理されるようになりました。 以前は、最初のメッセージはキューから取り出され、メッセージがキューに登録されたかどうかを確認するだけでした。その後、拒否されたので、最初のメッセージが最後に処理されました。

<!-- ACP2E-1627 -->

* Adobe Commerceで、ユーザーが発送ラベルを印刷しようとしたときに、ログファイルで例外がスローされなくなりました。 以前は、拡張機能によって添付ファイルを含む応答ヘッダーが変更された場合、ログファイルで例外がスローされていました。

<!-- AC-7986 -->

* さらに多くのHTMLクラスのサポートが `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)


### 一般的な修正点

<!-- ACP2E-1508 -->

* カテゴリの RSS フィードの要求時に、次の場合にエラーが発生しなくなりました： **[!UICONTROL RSS Feed Top Level Category]** が有効になっている。 以前は、RSS フィードのカテゴリページを参照すると、Elasticsearchが発生していました `CRITICAL` 次の場合のログファイルのエラー **[!UICONTROL RSS Feed Top Level Category]** が有効になっている。

<!-- ACP2E-1490 -->

* 正しい値が `gws_store_groups` ユーザーロールの作成中にロールの範囲が変更された場合。 以前は、ロールの範囲が `All`、 `gws_store_groups` ユーザーの作成中は値が null として保存されましたが、ロールの編集中は保存されませんでした。 また、役割の範囲が `Custom`、 `gws_store_groups` の値は常に null として保存されました。

<!-- ACP2E-1446 -->

* これで、パスワードのリセットページにアクセスできるようになりました。 **[!UICONTROL Add Store Code to Urls]** の設定が有効になっています。 管理者のパスワードリセットリンクにより、以前にログインページ（404 ページ）が開いていました。

<!-- ACP2E-1274 -->

* Admin 統計ダッシュボードの日付範囲は、設定で指定されたタイムゾーンに基づいて計算され、データベースからデータを取得するために UTC に変換されるようになりました。

<!-- ACP2E-1665 -->

* ストアビューをフィルタリングし、「 **[!UICONTROL Save]** 管理者 **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. 以前は、 **[!UICONTROL Save]** ページは更新されましたが、コンテキストは失われ、選択したストア表示は表示されなくなりました。

<!-- ACP2E-1631 -->

* クリック **[!UICONTROL Send invitation]** ボタン（管理者） **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) は、フォームキーと共にPOSTリクエストを送信し、招待を正常に送信するようになりました。 以前は、このボタンをクリックした際に、HTTPPOSTメソッドもフォームキーも存在しませんでした。

<!-- ACP2E-1608 -->

* AWS S3 を使用して、0 バイトファイルをリモートストレージに正常にコピーできるようになりました。

<!-- AC-7402 -->

* ストア ID が Web サイト ID と一致しない別の Web サイトに対して、その顧客が作成された場合、管理者ユーザーは、その顧客が管理者から新しい顧客アドレスを追加できるようになりました。 以前は、Adobe Commerceに次のポップアップメッセージが表示されていました。 `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* CMS ブロックエディターページに正しいウィジェットが表示されるようになりました。 `block_id` の値です。  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### ギフトカードとラッピング

<!-- ACP2E-1586 -->

* 小計は、カスタムギフトカードの金額に対して正しく計算されるようになりました。

<!-- ACP2E-1350 -->

* 複数のアドレスを持つチェックアウト時にギフトカードが正しく適用されるようになりました。 以前は、複数の住所への出荷時にギフトカードの金額が正しく適用されず、ギフトカードの金額が無効になっていました。

<!-- ACP2E-1341 -->

* 次の期間にエミュレーションが開始 `send()` エミュレーションが完了した後、 `getInfoBlockHtml()` を呼び出すと、エラーは記録されません。 以前は、 `system.log` ファイルに次のエラーがあふれています： `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* これで、 `updateCartItems` ミューテーション：買い物かご内のギフトカードを更新する場合に使用します。 以前は、このミューテーションによって買い物かご内で更新できるのはカードの金額のみでした。

<!-- ACP2E-1669 -->

* ギフト用ラッピングは、マージされた買い物かごに基づく見積もりに、期待どおりに含まれるようになりました。 以前は、ギフトメッセージは正常にマージされましたが、選択項目をラッピングしていませんでした。

<!-- AC-7530 -->

* この `addProductsToCart` クエリがギフトカードを買い物かごに正常に追加しました。 以前は、このクエリではギフトカードの受信者名が想定されていましたが、送信者名が代わりに返されていました。 Adobe Commerceが次のエラーをスローしました： `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* チェックアウトワークフローのGoogle reCAPTCHA が、小切手、注文、カスタム支払い方法に対して期待どおりに機能するようになりました。

<!-- ACP2E-1311 -->

* Google ReCAPTCHA チェックボックスが読み込まれる前は、Adobe Commerceフォームを送信できなくなりました。

<!-- ACP2E-1338 -->

* reCAPTCHA ウィジェットは、 **[!UICONTROL Place Order]** 」ボタンをクリックします。 以前は、ウィジェットはページの上部に表示されていました。

### Google Tag Manager

<!-- ACP2E-1520 -->

* Googleタグモジュールは、正しいデータをデータレイヤーにプッシュするようになりました。 以前は、ページインプレッション数データはデータレイヤーにプッシュされませんでした。

### GraphQL

<!-- ACP2E-1584 -->

* タイプの製品属性 `DateTime` 次にマッピング： `FilterRangeTypeInput` 製品クエリでフィルターします。 以前は、これらの属性は `FilterMatchTypeInput`. この変更の結果、クエリは次の項目をフィルタリングします： `DateTime` 属性が必要です `from` および `to` の値に一致しない。

<!-- ACP2E-1552 -->

* この `customer` ミューテーションで、ストア ID でフィルタリングした場合、特定のストア表示に関連する顧客レビューのみが期待どおりに返されるようになりました。

<!-- AC-7544 -->

* この `categories` クエリが `items.redirect_code` 応答値に null 値が含まれています。 [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* フルキャッシュのクリーンアップ後、GraphQL応答で、ルールベースの関連製品が期待どおりに読み込まれるようになりました。 以前は、ルールに基づく照合をおこなう製品 EAV 属性は、ストアフロントの製品ページを再読み込みした後に読み込まれたものの、リクエストされたエンティティに対して読み込まれませんでした。

<!-- ACP2E-1486 -->

* この `changeCustomerPassword` ミューテーショントリガーが、パスワードを正常にリセットした後、電子メールが期待どおりに送信されるようになりました。

<!-- ACP2E-1494 -->

* `urlResolver` および `route` クエリで `Target Path` の URL は、絶対 URL です。 以前は、 `urlResolver` クエリを使用してリダイレクトデータを取得すると、クエリが NULL を返しました。

<!-- AC-7979 -->

* この `products` クエリが正しいラベルを返すようになりました。 [GitHub-29635](https://github.com/magento/magento2/issues/29635)


<!-- ACP2E-1315 -->

* この `categoryList` クエリが入力された `product` セクション `options` バンドル製品の子製品のブロックを期待どおりに作成します。  以前は、バンドル製品の子製品に関する情報は返されていませんでした。

<!-- AC-7114 -->

* この `route` クエリで、内部サーバーエラーなしで、カテゴリと製品のルートが期待どおりに返されるようになりました。 [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* この `products` クエリを取得しました `url_key` 値を指定できます。

<!-- LYNX-17  16-->

* `product` 指定した共有カタログに割り当てられた製品の集計のみを返すようになりました。 以前は、共有カタログに割り当てられていない製品の集計データが、階層型ナビゲーションに表示されていました。

<!-- AC-7974 -->

* トランザクション名がNew Relic GraphQLトランザクションに追加されました。 [GitHub-36874](https://github.com/magento/magento2/issues/36874)

<!-- AC-6680 -->

* この `OptionValueProvider` クラス `get()` メソッドは、指定された `option_id` 期待どおり 以前は、エラーが返されていました。 [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* この `searchProducts` クエリは、使用可能なすべての集計（フィルター）と、正しく変換されたラベルを返すようになりました。 以前は、価格およびカテゴリ集計ラベルが期待どおりに翻訳されていませんでした。 [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* フラグメントを使用できるようになりました `ProductCard` クエリ時 `related_products`, `upsell_products`、および  `crosssell_products` オン `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* この `products` クエリは、保存された順序で、関連製品、アップセル製品、クロスセル製品を返すようになりました。 [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* GraphQLクエリで、位置で並べ替えられた関連製品データが返されるようになりました。 [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` は次に追加されています： `ProductAttributeFilterInput`：単一のクエリでカテゴリのすべての製品をリクエストできます。 [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* 検証を処理するメソッドの前に、現在のストアをGraphQLのミューテーションに設定するメソッドが実行されるエラーを修正しました。 [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### 画像

<!-- ACP2E-1353 -->

* 管理者の favicon アイコンアップロードフォームがサポートするようになりました `.ico` ファイルタイプ。 [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### インポート/エクスポート

<!-- ACP2E-1565 -->

* 製品イメージが見つからない場合に、製品の読み込み処理が中断されなくなりました。 以前は、CSV ファイルを使用したサードパーティサービスの読み込み中に製品画像が見つからなかった場合、Adobe Commerceに次のエラーが表示されていました。 `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* B2B が有効になっているデプロイメントで、顧客グリッドからの顧客エクスポートのパフォーマンスが向上しました。

<!-- ACP2E-1391 -->

* 製品の読み込みプロセスで、 `configurable_variations` 列にはコンマが含まれます。

<!-- ACP2E-1377 -->

* デコードは、書き出しプロセスから除外されました。 CSV 書き出しファイルのテキストは、読み込み後も変更されません。 その結果、再読み込み後に説明が変更されることはありません。 以前は、HTMLタグは、製品の書き出しと読み込みの後、ページビルダーエディターで削除されていました。

<!-- ACP2E-1451 -->

* 環境変数として追加されるデフォルト以外の設定（Web サイトまたはストア範囲）によって、 `app:config:import` 再帰エラーが発生したプロセス。

<!-- ACP2E-1569 -->

* 保存時に更新モードのカタログ検索および価格インデクサーは、インポート後に無効化されなくなりました。 以前は、新しいElasticsearchと既存の製品が読み込まれると、製品インデクサーのドキュメントのバージョンが変更されていました。

<!-- ACP2E-1482 -->

* 製品レポートが `var` ディレクトリ。  以前は、これらのレポートはドキュメントルートディレクトリに書き出されていました。ドキュメントルートディレクトリは、クラウドインスタンスの読み取り専用ディレクトリです。

<!-- ACP2E-1736 -->

* 複数選択の顧客アドレスフィールドが空の場合に、書き出し処理が中断または中止されなくなりました。

### 索引

<!-- ACP2E-1697 -->

* すべての Web サイトにルールが割り当てられないデプロイメントでの、カタログルール製品インデクサーのパフォーマンスが向上しました。

<!-- ACP2E-1401 -->

* インデクサーがに設定されている場合のカスタム製品タイプの作成 **[!UICONTROL Update on schedule]** インデックスの更新を引き起こさなくなりました。 `cron` タスクが失敗しました。 [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* カタログ権限のインデックス作成に起因するストアフロント製品の詳細ページの表示の問題が解決されました。 以前は、Adobe Commerceが最初にインデックステーブルをクリアし、フル時にインデックスを再作成していました `catalogpermissions_product` または `catalogpermissions_category` インデックス作成プロセス。 ストアフロントで、インデックスの再作成が完了するまで、カタログ権限が期待どおりに機能しませんでした。

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` 顧客グリッドに新しく作成されたカスタム顧客属性が含まれる場合に、MySQL エラーが発生して失敗することはなくなりました。 [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* 複数のインデクサーのインデクサーモードを変更する（つまり、マスアクションインデクサーモードを変更する）と、現在のモードが適用されるインデクサーモードと異なる場合にのみ、インデクサーのモードが変更されるようになりました。 これにより、データベースへの不要なトリップを防ぐことで、パフォーマンスが向上します。 [GitHub-36823](https://github.com/magento/magento2/issues/36823)

<!-- AC-6934 -->

* 多くの属性オプションを持つ製品のインデックス作成が改善されました。 [GitHub-36386](https://github.com/magento/magento2/issues/36386)

### インフラ

<!-- ACP2E-1462 -->

* Adobe Commerceでは、正しくない形式の HTTP リクエストがサーバーに送信された場合に表示されるエラーメッセージに、サーバーのルートへの完全パスが含まれなくなりました。 現在は、文字列のみが `explode` メソッドを 2 番目の引数として使用します。

<!-- AC-8384 -->

* `restricted_classes.php` は置き換えられました `Zend_Validate_File_Upload`. 以前は、インポートファイルのアップロード中に、で設定された値より大きい値をバリデーターがクラッシュしていました。 `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* データソースモデルが提供し、セットアップデータパッチ（通常はサードパーティのモジュールから）を使用してインストールした属性オプションが、顧客セグメントルールで使用できるようになりました。 以前は、この組み合わせによって、設定済みのセグメントと一致する顧客のリストが返されていませんでした。

<!-- AC-7093 -->

* E メールテンプレートエンジンで、ネストされた特定のディレクティブ ( 例えば、 `{{if}}{{depend}}...{{/depend}}{{/if}}`) をクリックします。 [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` 集計データを含むクエリで、ブール型の製品属性に対して正しいラベル値が返されるようになりました。 [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- AC-2618 -->

* ウクライナの地域を `directory_country_region` 表。 [GitHub-35187](https://github.com/magento/magento2/issues/35187)

<!-- https://github.com/magento/magento2/pull/29173 -->

* 結合時に CSS ファイルが破損しなくなる `var/tmp` および `pub/static` は異なるファイルシステム上にあり、 **[!UICONTROL CSS Merging Enabled]** が有効になっている。 一時ファイルは、両方のファイルが同じファイルシステム上にあることを確認するために、ターゲットファイルと同じ静的ディレクトリに作成されています。 その結果、名前を変更する呼び出しはアトミックです。 [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* メンバー関数の呼び出し `getId()` トリガーの例外はなくなりました。

<!-- https://github.com/magento/magento2/pull/34092 -->

* デザインテーマ設定プロセッサで、配列の種類に対して型チェックが適用されるようになりました。  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### ログ

<!-- ACP2E-1385 -->

* 管理者ユーザーは、管理者の「バルクアクションログ」セクションで、統合によって作成されたバルクアクションのログを表示できるようになりました。

### ログイン

<!-- ACP2E-1521 -->

* 1 つのブラウザーでパスワードをリセットし、その後別のブラウザーでログインしても、例外が発生しなくなりました。 [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* アカウントをアクティベートした後、期待どおりにログインページにリダイレクトされるようになりました。 以前は、のお客様は自動的にログインしていました。

### 注文

<!-- ACP2E-1514 -->

* 管理者から 1 回限りのカスタム価格を使用して注文が最初に生成された場合、買い物客はカスタム価格を使用して製品を注文できなくなりました。 以前は、注文にカスタム価格の品目が含まれている場合、このカスタム価格は、再注文機能を使用しておこなわれた他の注文に適用されていました。

<!-- ACP2E-1421 -->

* 買い物客は、注文ページに間違った注文ステータスを保存できなくなりました。 品目の出荷時に、注文ステータスが「完了」から「処理」に変更されなくなりました。 以前は、Adobe Commerceは、買い物客がコメントを入力した後で注文ステータスを保存する前に、現在の注文ステータスを確認していませんでした。 [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* 返される設定可能な製品が削除された場合、Adobe Commerceで storefront の注文返却ページでエラーがスローされなくなりました。 以前、Adobe Commerceは次のエラーを記録していました： `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* 販売注文グリッドが、すべての注文と非同期で同期されるようになりました。 [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* 注文ページの「顧客の注文」セクションの購入日別フィルター機能が期待どおりに動作するようになりました。 以前は、メソッドに同じタイムゾーンが指定されている場合、タイムゾーンの変換ロジックがエラーをスローした場合に JavaScript エラーが発生していました。

<!-- ACP2E-1294 -->

* Adobe Commerceダッシュボードの初回読み込み時に、正しい注文の統計が表示されるようになりました。 以前は、ダッシュボードに間違った注文情報が表示されていましたが、期間が更新されると正しい情報が表示されていました。

<!-- ACP2E-1762 -->

* 管理者ユーザーは、管理者から新しい注文作成中にストア表示を選択した後、注文ページに期待どおりにリダイレクトされるようになりました。

<!-- ACP2E-1418 -->

* 注文 REST API は、シンプルな製品の在庫状況に関係なく、構成可能な製品とシンプルな製品の両方に関する情報を順序で返すようになりました。 管理者ユーザーは、選択した品目（製品）が在庫または販売可能な場合にのみ、注文をおこなうことができます。 以前は、この API から在庫がある製品に関する情報のみが返されていました。

<!-- AC-7901 -->

* 送料に税が含まれ、税の計算が割引後に適用される場合、送料が有効になっている場合に、クレジットメモページがクラッシュしなくなりました。 以前は、Adobe Commerceは `Division by zero` 例外です。 [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* の使用 `rest/V1/orders/{id}/comments` エンドポイント：注文ステータスを指定せずに注文に関するコメントを投稿しても、注文の表示に影響を与えなくなりました。 以前は、注文ステータスは NULL として `sales_order` および `sales_order_grid` 「自分の注文」ページも管理者の注文グリッドも、この注文を表示していません。 [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* 請求書、出荷、クレジットメモは、注文 ID が異なる場合、関連する注文と共に、アーカイブから正常に戻すことができるようになりました。 以前は、注文がアーカイブに移動され、復元された場合、ID 番号が一致しない場合に、請求書、送料、クレジットメモのレコードがその注文から失われていました。 [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- ACP2E-1564 -->

* ページビルダーカルーセルから買い物かごに製品を追加しても、同じ製品を表示する 2 つの異なるウィジェットを持つページの品目数が重複しなくなりました。

<!-- ACP2E-1542 -->

* ページビルダーで `tabindex` HTML属性のハイパーリンクタグへの追加 `a` ハイパーリンクを編集し、テンプレートを保存します。

<!-- ACP2E-1444 -->

* 製品ウィジェットと Page Builder プレビューで、製品の特殊文字が正しく処理されるようにHTMLしました。 以前は、製品ウィジェットに `&` 文字。

<!-- ACP2E-1441 -->

* プレビューモードでコンテンツブロック全体を選択して更新すると、Page Builder のテキスト要素のコンテンツが期待どおりに更新されるようになりました。

<!-- ACP2E-1362 -->

* ページビルダーのテキストエディター間でのテキストのコピー&amp;ペーストが期待どおりに動作するようになりました。 以前は、テキストを貼り付けようとしたページを保存できず、Adobe Commerceに次のコンソールエラーが表示されていました。 `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` 以前のバージョンの Page Builder で作成されたコンテンツタイプが正しく表示されるようになりました。

<!-- ACP2E-1234 -->

* 管理から製品を作成する際の、製品メタデータの説明のフィルタリングが改善されました。 以前は、Page Builder が有効になっている場合、製品のメタデータの説明はデフォルトの` {{name}} {{description}}` マスク。 デフォルトの製品メタ説明マスクが `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* コンテンツのない動的ブロックを追加しても、エラーがトリガーされなくなりました。

<!-- AC-6645 -->

* Page Builder コンテンツでの列表示に関する問題を解決しました。 以前は、 `column-line` コンテンツタイプのコンテンツがレンダリングされませんでした。 [GitHub-3949](https://github.com/magento/pwa-studio/issues/3949)

### 支払い

<!-- ACP2E-1215 -->

* 買い物客が Vault トークンを持っていない場合、Vault 支払い方法オプションが管理チェックアウトワークフローに表示されなくなりました。 [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* この **[!UICONTROL Venmo]** PayPal ボタンが有効な場合に、ボタンを非表示にできるようになりました。 以前は、 **[!UICONTROL Venmo]** ボタンを買い物かご、ミニカート、製品の詳細、チェックアウトページから削除できませんでした。

<!-- AC-7105 -->

* Paypal ペイフローリンクの支払いが正常に完了した後、買い物客が成功ページにリダイレクトされるようになりました。 [GitHub-36520](https://github.com/magento/magento2/issues/36520)

#### Braintree

<!-- ACP2E-1229 -->

* 買い物客が請求先住所を更新した際、Braintreeワークフローで「チェックアウトボールトの支払い方法」オプションが自動的に選択解除されなくなりました。 以前は、買い物客が「 」を選択解除したときの支払い方法が選択解除されていました **[!UICONTROL My billing and shipping address are the same]** 」ボタンをクリックします。


<!-- BUNDLE-3248 -->

* Adobe Commerce 2.4.5-p2 からアップグレードした後、Braintreeを通じて PayPal にチェックアウトする際の問題を解決しました。 [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Google Pay モーダルポップアップの配送先住所フィールドの住所に関して、電話番号が期待どおりにレンダリングされるようになりました。 以前は、電話番号が見つかりませんでした。

<!-- BUNDLE-3228 -->

* Braintree応答に次の値が空の場合、注文はBraintreeで正常に処理されるようになりました： `threeDSecureInfo/eciFlag`. 以前は、この値が空の場合、チェックアウト中に PHP エラーが発生していました。

<!-- BUNDLE-3243 -->

* ミニ買い物かごからGoogle Pay をチェックアウトする際に、買い物客が注文確認ページにクーポンを適用した場合に、Adobe Commerceがエラーをスローしなくなりました。 以前は、買い物客は 404 ページにリダイレクトされていました。

<!-- BUNDLE-3245 -->

* 買い物客は、Braintreeの支払いと非表示の ReCAPTCHA v2 または v3 を使用したAdobe Commerce 2.4.6 を使用して、チェックアウトを完了できるようになりました。 [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* 買い物客が **[!UICONTROL PayPal]** ボタンを使用すると、必要なオプションを最初に選択せずに、設定可能な製品を購入できます。 以前は、買い物客は **[!UICONTROL PayPal]** ボタンが追加され、その後、次のエラーで製品ページにリダイレクトされました。

<!-- BUNDLE-3148 -->

* この **[!UICONTROL PayPal]** ボタンが、買い物かごおよびミニ買い物かごページに期待どおりに表示されるようになりました。 以前は、このボタンは買い物かごページに表示されず、ミニ買い物かごページに複製されていました。

<!-- BUNDLE-3244 -->

* マーチャントがBraintreeアカウントで同じ通貨に対して 2 つの異なるマーチャントアカウント ID を持つデプロイメントで、正しいアカウントで、部分的に請求済みの注文が期待どおりに取り込まれるようになりました。

<!-- BUNDLE-3250 -->

* Adobe Commerceで、Braintreeが支払った注文の 2 番目の部分請求書を作成する際に、 **[!UICONTROL Enable Vault for Card Payments]** が有効になっている。 以前は、商人が 2 番目の請求書を作成しようとすると、Adobe Commerceは次のエラーをスローしました。 `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

### Promotion

<!-- ACP2E-1290 -->

* の効果 **[!UICONTROL Fixed amount discount for whole cart]** 価格ルール（適用時） **[!UICONTROL Apply to shipping amount]** ルールが、期待どおりに製品と送料の間で均等配分されるようになりました。 以前は、割引の計算が正しくありませんでした。

<!-- ACP2E-1300 -->

* この **[!UICONTROL Discard Subsequent Rules]** 設定が期待どおりに適用されるようになりました。 この設定を有効にすると、優先度の低い他のルールは別の製品にのみ適用できます。 [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### レポート

<!-- ACP2E-1541 -->

* 注文件数レポート (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) では、デフォルト以外の通貨を使用する店舗で注文が生成される場合に、正しい注文値が含まれるようになりました。 以前は、このレポートに正しくない値が含まれていました。 [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* 販売注文レポートフォームの誤った情報を明確にするために修正しました。

<!-- ACP2E-1435 -->

* 管理者ユーザーは、  `+` （プラス）放棄買い物かごレポートページからのサイン。 [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* New Relicがコマース管理で無効化された後、GraphQLトランザクション名が正しく表示されるようになりました。 [GitHub-36112](https://github.com/magento/magento2/issues/36112)

### 報酬

<!-- ACP2E-1473 -->

* 報酬ポイント残高の更新メール通知で、現在のストアコンテキストが考慮されるようになりました。 以前は、報酬ポイントの残高は、デフォルトストアの構成設定を使用した電子メールを更新していました。

<!-- ACP2E-1329 -->

* クレジットメモの作成後に報酬ポイントを払い戻すことができるようになりました。 以前は、クレジットメモを作成した後も商人は報酬ポイントを払い戻すことができず、注文状況は残っていました `Completed`ではない `Closed`.

### RMA

<!-- ACP2E-1230 -->

* この **[!UICONTROL Enable RMA]** 個々の製品レベルの属性は、ストア RMA 設定に従うようになりました。 以前は、ストアの設定内容に関係なく、製品を追加した際に、この設定はデフォルトでオフになっていました。

### 検索 {#search-heading}

<!-- ACP2E-1499 -->

* 検索結果で、属性の検索の重み付けに基づいて、期待どおりの結果が表示されるようになりました。

<!-- AC-7505 -->

* の下の情報テキスト `Search Weight` 属性の `Storefront Properties` 管理者の入力フィールド **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** では、可能な値について説明します。 [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### 送料

<!-- AC-7003 -->

* この **[!UICONTROL Shipping Policy]** 「管理ストア表示」の範囲に、  **[!UICONTROL Apply custom Shipping Policy]** が有効になり、カスタム配送ポリシーが使用可能になります。 [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* この `cart` クエリが `selected_shipping_method` 次のいずれかと一致する値 `available_shipping_methods` 通信事業者および方法コード。 以前は、選択した発送方法の 1 つにアンダースコアが含まれていた場合、これらの通信事業者/方法コードが一致しませんでした。 [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* この `setShippingAddressesOnCart` street 配列の 2 番目の値が null の場合に、突然変異でエラーがスローされなくなりました。 以前は、この例外がスローされていました。 `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### ステージング

<!-- ACP2E-1501 -->

* JavaScript エラーは、Content Experiment が有効な場合に、カテゴリのスケジュールされた更新を追加または編集する際にGoogle Analyticsされなくなりました。

<!-- ACP2E-1344 -->

* マーチャントは、カテゴリの表示または編集後に、カテゴリの既存のスケジュール更新を正常に保存できるようになりました。 以前は、Adobe Commerceは `system.log`.

<!-- ACP2E-1596 -->

* 以前に追加した製品が買い物かご内にある間にスケジュール済みの更新が適用された場合、ダウンロード可能なリンクが期待どおりに保持されるようになりました。 以前は、ダウンロード可能なリンクは、顧客のマイアカウント（マイダウンロード可能な製品）ページと管理者の注文表示ページから消えていました。

<!-- ACP2E-1458 -->

* 製品が適用されるステージング用の更新後、製品が期待どおりにストアフロントに表示されるようになりました。 以前は、カタログ在庫のインデクサーモードが「スケジュールに従って更新」に設定されている場合、製品は「管理」で有効になっていましたが、ストアフロントカテゴリに表示されませんでした。 完全なインデックス再作成で問題が修正されました。

<!-- ACP2E-1647 -->

* この `staging.synchronize_entity_period` 内のコンシューマーキュー `magento_bulk` プロセスに対するステージングの更新がない場合、テーブルは増加しなくなりました。 以前は、 `cron` が毎分実行するように設定されている場合、 `staging.synchronize_entity_period` 毎分、消費者がこのテーブルに追加されます。

<!-- ACP2E-1415 -->

* 別の製品の保存中に製品のスケジュール変更を作成した場合、Adobe Commerceで SQL エラーがスローされなくなりました。  以前は、Adobe Commerceに次のエラーが表示されていました。  `The product with the SKU "%1" couldn't be added to the current update`.

### ターゲットルール

<!-- ACP2E-1438 -->

* 異なるストアビューで Target ルールが正しく機能するようになりました。 以前は、関連する製品ルールのキャッシュに関する問題により、マルチストアデプロイメントで推奨製品が表示されませんでした。

### 税

<!-- ACP2E-1527 -->

* 「税金ルールの編集」ページから、「税率の国」と「地域」の値を期待どおりに編集できるようになりました。 以前は、そのページで行った編集は保存されませんでした。

<!-- ACP2E-1143 -->

* 輸送方法が更新されると、買い物かごの見積もり領域の税額が期待どおりに更新されるようになりました。 以前は、チェックアウト時に買い物客が国を変更した後も税率は更新されませんでした。

<!-- AC-8227 -->

* この `tax class` ストア表示範囲で既存の設定可能なプロダクトの新しいバリエーションを作成する際、新しく作成されたシンプルプロダクトの値が親プロダクトの値に設定されるようになりました。 以前は、この値は none に設定されていました。 その結果、買い物かご内のこれらの製品には税金が追加されず、お客様は過少請求された税金になりました。 [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### テスト

<!-- AC-7098 -->

* の大きなアレイに関するパフォーマンスの問題 `TableNameSniff` が解決されました。

<!-- ACP2E-1690 -->

* ギフトレジストリ編集機能の統合テストで、既存のエンティティ ID に依存しなくなりました。 必要なデータはすべて、器具を通じて取得されます。 以前は、 `\Magento\GiftRegistry\Controller\Index\EditPostTest` 失敗しました。

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` 夏時間を考慮するようになりました。

### UI

<!-- ACP2E-171 -->

* 複数選択の顧客属性が含まれる場合、顧客登録フォームが期待どおりに読み込まれるようになりました。 以前は、Adobe Commerceは次の例外をスローしていました。 `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* コンソールエラーなしで、一重引用符を含むようこそメッセージがストアフロントに正しくレンダリングされるようになりました。 以前は、ようこそメッセージに一重引用符が含まれていた場合、ストアフロントレンダリング中にようこそメッセージが読み込まれませんでした。 Adobe Commerceでもコンソールエラーが表示されていました。

<!-- ACP2E-1369 -->

* 注文履歴から注文管理ページの「戻る」までのビューをすばやく変更しようとしても、Adobe Commerceでエラーがスローされなくなりました。 以前は、Adobe Commerceに次の一般的なエラーが表示されていました。 `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* 1 つの Web サイトに制限された権限を持つ管理者ユーザーが、 `all stores view` 範囲。

<!-- ACP2E-1648 -->

* 虫めがねウィジェットが製品ページで期待どおりに読み込まれるようになりました。

<!-- ACP2E-1216 -->

* 複数行のカスタマイズ可能なオプションが、請求書、出荷、クレジット・メモ・PDF・ドキュメントで適切にレンダリングされるようになりました。 以前は、複数行テキストの前に予期しない改ページが発生していて、そのテキストがページを超えると、テキストが切り捨てられていました。

<!-- AC-7402 -->

* ストア ID が Web サイト ID と一致しない別の Web サイトに対して、その顧客が作成された場合、管理者ユーザーは、その顧客が管理者から新しい顧客アドレスを追加できるようになりました。 以前は、Adobe Commerceに次のポップアップメッセージが表示されていました。 `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* 会社管理者の電子メールに `CMS Block URL` 変数を使用します。

<!-- ACP2E-1775 -->

* 注文の詳細ページでのコメントの送信に関連するエラーメッセージが、より多くの情報を得られるようになりました。 以前は、買い物客が **[!UICONTROL Submit comment]** 注文ステータスを変更したり、コメント領域にテキストを入力したりしないで、Adobe Commerceは次のメッセージを表示しました。 `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* 管理者の日付範囲フィールドに、カレンダーアイコンが期待どおりに表示されるようになりました **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** 1 つのフィールドに対して日付が選択された後。 以前は、1 つのフィールドに日付を選択すると、他のフィールドにカレンダーアイコンが表示されなくなり、Adobe Commerceにプレースホルダーテキストが表示されていました。 [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* 複数選択フィールドを含む顧客登録フォームが正常に読み込まれるようになりました。 以前は、このフォームに複数選択フィールドが含まれている場合に読み込まれず、次のエラーがトリガーされていました。  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* 製品ギャラリーの全画面表示モードでビデオサムネールをクリックすると、ビデオが期待どおりに表示されるようになりました。 以前は、ビデオが表示されず、ブラウザーコンソールに JavaScript エラーが表示されていました。 [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* 著作権行に、毎年自動的に更新される変数を追加しました。 [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* 製品ページの画像スライダーがモバイル表示で期待どおりに動作するようになりました。 以前は、最初の画像のみが正常に表示されていました。 [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### URL の書き換え

<!-- ACP2E-1737 -->

* 新しいカテゴリが CSV ファイルからインポートされた場合、すべてのストア表示でカテゴリ URL の書き換えが生成されるようになりました。

<!-- ACP2E-1700 -->

* 製品 URL サフィックスとカテゴリ URL サフィックスの設定が、 `url_rewrite` 表。 以前は、URL サフィックス設定を更新する際の競合状態が発生し、設定された URL サフィックスと `url_rewrite` テーブルが一致しませんでした。

<!-- ACP2E-1703 -->

* カテゴリ URL の書き換えを作成する際、Adobe Commerceはカテゴリツリーをすべてのレベルでレンダリングするようになりました。 以前は、カテゴリの最初の 3 つのレベルのみが表示されていました。 [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* 子ノードが 1 つある新しく作成した CMS ページが、マーケティングフィルターグリッド (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**) をクリックします。 以前は、これらの CMS ページに対して URL の書き換えが作成されていませんでした。

<!-- ACP2E-1737 -->

* 新しいカテゴリのインポート中に、カテゴリ URL の書き換えが CSV ファイルに存在するようになりました。

<!-- ACP2E-1668 -->

* URL の書き換えを行わないマルチストア CMS ページが、期待どおりに転送されるようになりました。 以前は、URL の書き換えを行わない要求されたマルチストア CMS ページはストアのホームページにリダイレクトされていましたが、元の CMS ページはリダイレクトされませんでした。

### Visual Merchandiser

<!-- ACP2E-1363 -->

* これで、 `Categories` 属性を設定します。 以前は、Adobe Commerceは次の例外をスローしていました。  `Something went wrong while saving the category`.

### Web API フレームワーク

<!-- ACP2E-1543 -->

* Bulk API を使用して作成されたお客様は、割り当てられた Web サイトで設定された言語で顧客登録電子メールを受け取るようになりました。  以前は、すべての電子メールが、顧客が割り当てられている Web サイトのロケールではなく、デフォルトのロケールに送信されていました。

<!-- ACP2E-1339 AC-7577-->

* この `POST V1/guest-carts` 次の場合、電話はゲスト注文を送信しません： **[!UICONTROL Allow Guest Checkout]** は無効です。

<!-- ACP2E-1336 -->

* これで、管理者からステータスを持つ注文を開くことができるようになりました `Received` when `AsyncOrder` が有効になっていません。 以前は、注文ステータスが次の条件で変更された場合、管理から注文の詳細ページを開くことができませんでした： `POST V1/orders`.

<!-- ACP2E-1526 -->

* Adobe Commerceが正常に返されるようになりました `content` の属性（base64 イメージコード） `GET V1/products/sku/media` 製品メディア API 応答。 この `content` 属性は、以前は応答に表示されていませんでした。

## 既知の問題

Adobe Commerce 2.4.7-beta2 では、次の既知の問題が修正されます。

**問題**:UPS XML API は 2023 年 6 月 5 日に UPS によって非推奨となり、次の方法で商人に影響を与えました。

* 現在のお客様（つまり、UPS アクセスキーを既に生成している商人）は、2024 年 6 月まで影響を受けません。

* 標準搭載のAdobe Commerce UPS 統合を使用するために新しいアクセスキーを生成するマーチャントは、現在、新しいキーを生成できません。

**問題**:クリック **[!UICONTROL Show password]** storefront ログインページのボタンにパスワードが期待どおりに表示されない。  <!-- AC-8823 -->

**問題**:スケジュールされた更新によって 1 つ以上の子製品が無効になった場合、設定可能な製品がストアフロントで誤って在庫切れと表示されます。 <!-- ACP2E-2003 -->

**問題**:製品に割り当てられている共有カタログが製品から削除された後、ミニカートから期待どおりに製品が削除されません。 <!-- AC-8935 -->

**問題**:固定バンドル製品の価格には、予想通りに特別価格が割り当てられていません。 <!-- ACP2E-2034 -->

## 必要システム構成

当社の技術スタックは、PHP および MySQL 上で構築されています。 詳しくは、 [必要システム構成](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## インストールおよびアップグレードの手順

Adobe Commerce 2.4.7-beta1 は、 [コンポーザー](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
