---
title: Adobe Commerce 2.4.1 リリースノート
description: 2.4.1 Adobe Commerceリリースの新機能、機能強化、バグ修正および既知の問題について説明します。
exl-id: 230df894-2347-4d68-8386-d0f0e40c2659
source-git-commit: 55e0e688999c47f72593df46648609d9f9f98398
workflow-type: tm+mt
source-wordcount: '16721'
ht-degree: 0%

---

# Adobe Commerce 2.4.1 リリースノート

Adobe Commerce 2.4.1 では、パフォーマンスとセキュリティが強化され、さらに B2B 機能セットが大幅に追加されました。 セキュリティの強化には、 `SameSite` 属性を使用します。また、支払い関連および注文関連の API エンドポイントと、発注ストアフロントページ用の CAPTCHA 保護が追加されました。 B2B の改善は、注文の承認プロセス、B2B の発送方法、管理者アクションのログの拡張、ストアフロントのセキュリティの強化に焦点を当てています。

このリリースには、2.4.0 に含まれていたコア品質に対するすべての改善、コアコードの 150 個を超える新しい修正、15 個を超えるセキュリティ強化が含まれています。 これには、コミュニティメンバーによる約 300 件の GitHub の問題の解決が含まれています。 このコミュニティへの投稿は、コアコードの小規模なクリーンアップから、GraphQLでの大幅な機能強化まで多岐にわたります。

2.4.0 で識別された既知の問題は、すべてこのリリースで修正されました。

{{bics}}

## 適用 `AC-3022.patch` DHL を輸送船に供給し続ける

DHL はスキーマバージョン 6.2 を導入し、近い将来にスキーマバージョン 6.0 を廃止します。 DHL 統合をサポートするAdobe Commerce 2.4.4 以前のバージョンは、バージョン 6.0 のみをサポートします。これらのリリースをデプロイしているマーチャントは、適用する必要があります `AC-3022.patch` 最も早い便宜で、DHL を輸送船として提供し続ける。 詳しくは、 [パッチを適用して、DHL を配送先として提供し続けます](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) パッチのダウンロードとインストールに関する情報については、ナレッジベースの記事を参照してください。

## 使用可能なセキュリティパッチ

業者は、四半期ごとの完全リリース（2.4.0-p1 など）で提供される数百の機能修正や機能強化を適用することなく、時間に依存するセキュリティ修正をインストールできるようになりました。 パッチ 2.4.0.1（Composer パッケージ 2.4.0-p1）は、前の四半期リリース 2.4.0 で特定された脆弱性に対する修正を提供するセキュリティパッチです。2.4.0 リリースに適用されたすべてのホットフィックスが、このセキュリティパッチに含まれています。 (A) *ホットフィックス* は、特定の問題やバグに対処する、リリースされたバージョンの修正を提供します )。

セキュリティパッチの一般情報については、 [新しいセキュリティパッチリリースの概要](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). セキュリティパッチ（パッチ 2.3.5-p2 を含む）のダウンロードと適用の手順については、 [オンプレミスでの迅速なインストールを開始](../../../installation/composer.md). セキュリティパッチには、セキュリティバグ修正のみが含まれ、完全なパッチに含まれる追加のセキュリティ強化は含まれません。

## その他のリリース情報

これらの機能のコードは四半期ごとのリリースにバンドルされていますが、これらのプロジェクト (B2B、Page Builder、Progressive Web Application(PWA)Studio など ) のいくつかも個別にリリースされています。 これらのプロジェクトのバグ修正は、個別のプロジェクト固有のリリース情報に記載されています。この情報は、各プロジェクトのドキュメントに記載されています。

## ハイライト

このリリースでは、次の点に注意してください。

### セキュリティの大幅な強化

このリリースには、15 件を超えるセキュリティ修正とプラットフォームのセキュリティ改善が含まれています。 すべてのセキュリティ修正は、2.4.0-p1 および 2.3.6 にバックポートされました。

#### 15 を超えるセキュリティ強化が行われ、リモートコード実行 (RCE) およびクロスサイトスクリプティング (XSS) の脆弱性を閉じるのに役立ちます。

これらの問題に関する確認済みの攻撃は、現在までには発生していません。 ただし、一部の脆弱性は、顧客情報にアクセスするために悪用されたり、管理者セッションを引き継ぐ可能性があります。 これらの問題のほとんどは、攻撃者が最初に管理者へのアクセス権を取得する必要があります。 その結果、管理者を保護するために必要なすべての手順 (IP許可リストに加える、 [二段階認証](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)、VPN の使用、ではなく一意の場所の使用 `/admin`、およびパスワードの正常性が向上しました。 詳しくは、 [セキュリティ更新プログラムのMagento](https://helpx.adobe.com/security/products/magento/apsb20-59.html) これらの修正された問題に関する議論を

#### その他のセキュリティ強化

このリリースのセキュリティ強化には、次のものが含まれます。

* **CAPTCHA** 次の製品領域に保護が追加されました。

   * 順序ストアフロントページ、REST エンドポイントおよびGraphQLエンドポイントを配置する <!-- MC-36067-->
   * 支払関連の REST およびGraphQLエンドポイント。<!-- MC-36064-->

  これらの追加ページの CAPTCHA 保護は、デフォルトで無効になっています。 CAPTCHA でカバーされる他のページと同じ方法で、管理者上で有効にできます。 この保護は、カーディング攻撃から店舗を保護するための抗ブルート力メカニズムとして追加されました。 詳しくは、 [CAPTCHA](https://docs.magento.com/user-guide/stores/security-captcha.html).

* **cookie の SameSite 属性のサポート**. Google Chrome での新しい cookie 分類システムの実施をサポートするために、cookie を処理するアプリケーションクラスが、 `SameSite` cookie 属性を使用します。 この属性はに設定されます。 `Lax` デフォルトでは上書きされますが、明示的に上書きできます。 <!-- MC-35389-->

* **セキュリティスキャンツールの強化**. Adobeが～と提携した [サンギン・セキュリティ](https://sansec.io/)は、デジタルスキミングを防ぐリーダーで、8700 を超える脅威署名のデータベースをセキュリティスキャンツールに統合します。 このパートナーシップにより、マルウェアの事前検出と偽陽性の削減を通じて、マーチャントが自社サイトのセキュリティ状態に関するリアルタイムの洞察を得ることができます。 商人は来て道具を取り扱う `https://account.magento.com/scanner`. 詳しくは、 [拡張されたセキュリティスキャンツールによるストアフロントの保護](https://magento.com/blog/magento-news/secure-your-storefront-enhanced-magento-security-scan-tool) ブログ投稿。

{{cve-notice}}

### インフラストラクチャの改善

このリリースには、顧客アカウント、カタログ、CMS、OMS、インポート/エクスポート、プロモーションとターゲティング、買い物かごとチェックアウト、B2B、ステージングとプレビューなど、フレームワークと機能領域の品質を向上させるコア品質の機能強化が含まれています。

* **管理者とのサイト全体分析ツールの統合**. The [ツール](https://docs.magento.com/user-guide/reports/site-wide-analysis-tool.html) は、クラウドインフラストラクチャのインストールに関するAdobeのためのシステムのインサイトと計測を提供し、24/7のリアルタイムのパフォーマンス監視、レポート、セルフサービスの推奨事項を提供します。 マーチャントは新しい管理者を使用できます [役割リソース](https://docs.magento.com/user-guide/system/permissions-role-resources.html) を使用して、管理者から顧客の詳細ページに安全にアクセスできます。 詳しくは、 [FAQ](https://support.magento.com/hc/en-us/articles/360048646671) 」を参照してください。 <!-- SWAT-807-->

### パフォーマンスの向上

* **Redis とMagento間のネットワーク転送のサイズの削減**. プラグインリストの設定が、 `bin/magento di:compile` コマンドを使用します。 この設定情報は、範囲に基づいて、生成されたメタデータフォルダに書き込まれます。 以前は、この情報はキャッシュに保存されていました。 その結果、パフォーマンスの向上により、多くのシナリオでネットワークキャッシュのサイズと実行時間が短縮されます。<!-- MC-31617-->

* **メッセージキューのコンシューマーパフォーマンスの強化**. 3 つの新しい設定で、コンシューマーキューの CPU 消費の減少をサポートします。 これらのオプションのパラメーターを使用すると、消費者の制御を強化し、サーバーリソースを節約できます。 詳しくは、 [メッセージキューの設定](https://developer.adobe.com/commerce/php/development/components/message-queues/configuration/) の説明 `maxIdleTime`, `sleep`、および `onlySpawnWhenMessageAvailable` パラメーター。

* **実行時間の短縮** 対象： `bin/magento` コマンド。

### Adobe Stock統合

このリリースには、Adobe Stock Integration v2.1.0 が含まれています。

### ニューメディアギャラリー

新しいメディアギャラリーは、管理でデフォルトで有効になりました。 マーチャントは、メディアギャラリー内の画像に対して次の操作を実行できるようになりました。

* 画像の一括削除
* ストアフロントで使用されていない重複画像や画像を識別して、メディアストレージを最適化します。
* 製品およびカテゴリコンテンツ、CMS ブロックなど、使用するストアフロント領域で画像をフィルタリングします
* 画像メタデータの操作
   * メディアギャラリーにアップロードされた画像のメタデータを表示
   * 画像メタデータ（タイトル、説明およびキーワード）の編集
   * メタデータによる画像の検索

### Page Builder

ページビルダーでフルスクリーンモードがサポートされ、コンテンツの編集が容易になり、管理者全体で一貫したエクスペリエンスでコンテンツを編集できるようになりました。 詳しくは、 [Workspace](https://docs.magento.com/user-guide/cms/page-builder-workspace.html). <!-- PB-543-->

### GraphQL

このリリースでは、次の機能に関するGraphQLの機能が追加されました。

* **製品レビュー**. 顧客とゲストは製品レビューを書くことができます。 お客様は、製品レビュー履歴を取得できます。 詳しくは、 [製品レビューの作成](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-product-review.html) および [productReviewRatingsMetadata クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/product-review-ratings-metadata.html) を参照してください。<!-- MC-32349-->

* **ギフトオプション**. すべての顧客とゲストは、注文にギフトメッセージを追加できます。 Adobe Commerceのインストールでは、ギフト用ラッピング、ギフト用レシート、印刷されたカードを注文に追加することもできます。 詳しくは、 [`setGiftOptionsOnCart` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/set-gift-options.html) および [`updateCartItems` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-cart-items.html) <!-- MC-32345-->

* **報酬ポイント**. お客様は、買い物かごに対する報酬ポイントを適用または削除できます。 また、報酬ポイントの履歴も表示できます。 詳しくは、 [`applyRewardPointsToCart`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/apply-reward-points.html) および [`removeRewardPointsFromCart`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-reward-points.html) 買い物かご内の報酬ポイントの管理に関するディスカッション。<!-- MC-23366-->

* **注文履歴**. すべての顧客は、請求書、送料、返金など、注文履歴の詳細を表示できます。<!-- MC-20635-->

* **買い物かごに追加**. The [`addProductsToCart` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-products-to-cart.html) を使用すると、任意のタイプの製品をアクティブな買い物かごに追加できます。 以下のような単一目的の突然変異の代わりに、この突然変異を使用することをお勧めします。 `addSimpleProductsToCart`. _Yaroslav Rogoza がプル要求で提出した Fix [27914](https://github.com/magento/magento2/pull/27914)_. [GitHub-28524](https://github.com/magento/magento2/issues/28524)  <!-- MC-21513-->

* **保管済支払い方法**. ログインしたお客様は、お支払いの詳細 (Braintreeのクレジットカードと PayPal とのBraintreeを含む ) をマイアカウントに保存できるようになりました。 <!-- MC-32348 35945 35946-->

* **Magento Open Sourceでのウィッシュリストのサポート**.  以下が可能です。 [項目を追加](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-products-to-wishlist.html) から [項目を更新](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-products-in-wishlist.html) 内、および [項目を削除](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-products-from-wishlist.html) ウィッシュリストから。

* **顧客アカウントの管理の改善**. 次の項目が追加されました： [`createCustomerV2`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-customer-v2.html) および [`updateCustomerV2`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-customer-v2.html) 顧客アカウントを管理するための突然変異。 これらの新しい変異は、 `createCustomer` および `updateCustomer` 突然変異。 顧客の電子メールアドレスを変更するには、新しい [`updateCustomerEmail`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-customer-email.html) 突然変異。

* **Payflow Pro Vault のサポート**. GraphQL Vault のサポートを [Payflow Pro Vault](https://devdocs.magento.com/guides/v2.4/graphql/payment-methods/payflow-pro-vault.html) 支払い方法。 _Oleh Usik がプル要求で提出した修正 [28821](https://github.com/magento/magento2/pull/28821)_. [GitHub-28520](https://github.com/magento/magento2/issues/28520)

* GraphQLの更新 [`storeConfig` クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/store-config.html) をクリックして、新しい顧客設定を含めます。 _Oleh Usik がプル要求で提出した修正 [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* 追加された [`requestPasswordResetEmail` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/request-password-reset-email.html)：指定した電子メールアドレスのパスワードリセット用電子メールをトリガーします。 _Oleh Usik がプル要求で提出した修正 [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* **クラルナGraphQL**. の Klarna GraphQLに関するトピックを追加または更新しました。 [クラルナの支払い方法](https://devdocs.magento.com/guides/v2.4/graphql/payment-methods/klarna.html) および [`createKlarnaPaymentsSession`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-klarna-payments-session.html)

詳しくは、 [GraphQL Developer Guide](https://devdocs.magento.com/guides/v2.4/graphql/) を参照してください。

### PWA Studio

PWA Studiov8.0.0 では、次の新機能および機能強化が導入されています。

* デザイントークン、タイポグラフィ、色、コアコンポーネント、ページレイアウトに適用される Venia スタイルガイドの更新 <!-- PWA-519 419-->

* Venia ミニカートの操作性の改善 <!-- PWA-236-->

* Venia ストアフロントでの複数のロケールとローカライズされたコンテンツの初期サポート <!-- PWA-295-->

* Venia ストアフロントの MyAccount エクスペリエンスに対する多数の改善 <!-- PWA-247-->

詳しくは、 [互換性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) を参照してください。 機能強化とバグ修正について詳しくは、 [PWA Studioリリース](https://github.com/magento/pwa-studio/releases).

### B2B

バージョン 2.4.1 では、B2B v1.3.0 が導入されました。このリリースには、注文の承認、発送方法、買い物かご、管理者アクションのログ記録の改善が含まれています。

#### 注文の承認の改善

B2B 注文の承認が強化され、使いやすさが向上し、発注書に対する一括アクションが可能になりました。
オーダーの承認および却下の機能が次のように改善されました。

* **編集権限を持たないユーザー向けの新しい「ルールの表示」ページ**. B2B 購入者は、自分の会社に適用されるルールを、編集権限がない場合に、新しい「ルールを表示」ページで表示できるようになりました。 <!-- BUNDLE-104 -->

* **「自分の承認が必要」タブのアラートアイコンをカウントします**. My Purchase Orders ビューの「Requires My Approval」タブに、保留中の承認アクションの数を示すカウンターが表示されるようになりました。 <!-- BUNDLE-102 -->

* **一括オーダーの承認および却下**. B2B マネージャおよび会社管理者は、発注書の一括却下および承認を実行できるようになりました。 これらの変更により、承認者は、1 回のアクションで複数の発注書を承認または却下できます。 <!-- BUNDLE-140 128 111 153 -->

* マーチャントが **適用先** および **次の承認が必要：** 「My Purchase Orders」ビューのフィールドを選択し、ルールの作成時に複数のユーザーロールを選択できます。 <!-- BUNDLE-105 106-->

* 注文の承認ルールの設定方法の例は、ルールの設定ページに記載されています。 <!-- BUNDLE-103 -->

詳しくは、 [承認ルール](https://docs.magento.com/user-guide/customers/account-dashboard-approval-rules.html)

#### B2B 発送方法の強化

B2B の商人は、各会社に提供される発送方法を制御できるようになりました。 マーチャントは、管理者から次の設定を行うことができます。<!-- BUNDLE-160 161 162 -->

* B2B 会社アカウントの配送方法の特定のセット
* 各会社アカウントに対する All または B2B 固有の発送方法の使用
* 各会社アカウントの B2B 発送方法の具体的なリスト

#### 買い物かごの改善

* マーチャントは、ユーザーが 1 回の操作で買い物かごの内容を消去できるようになり、この機能を Web サイトごとに個別に設定できるようになりました。 <!-- BUNDLE-108 -->

* B2B 購入者は、個々の品目または買い物かごの内容全体を直接購入依頼リストに追加できるようになりました。 <!-- BUNDLE-145 144-->

#### 新しい管理機能

* B2B 商人は、顧客に代わって、支払い方法として「アカウントでの支払い」を使用して、管理者から注文を作成できます。 <!-- BUNDLE-166 178-->
* マーチャントは、顧客の詳細ページから、ユーザーに関連するすべての引用符を直接表示できるようになりました。 <!-- BUNDLE-139 -->
* マーチャントは、企業別に「顧客を今すぐオンライン」グリッドをフィルタリングできるようになりました。 <!-- BUNDLE-137 -->
* 管理者は、管理者の顧客をセールス担当別にフィルタリングできるようになりました。 <!-- BUNDLE-110 -->

詳しくは、 [B2B 機能](https://docs.magento.com/user-guide/configuration/general/b2b-features.html).

#### ストアフロントのセキュリティの強化

不正またはスパムのアカウントの作成を減らすために、マーチャントはストアフロントの「新しい会社のリクエスト」フォームでGoogle reCAPTCHA を有効にできるようになりました。 詳しくは、 [reCAPTCHA](https://docs.magento.com/user-guide/configuration/security/google-recaptcha-storefront.html).<!-- BUNDLE-154 -->

#### 管理アクションのログの拡張

会社モジュールで実行された管理アクションが管理アクションログに記録されるようになりました。 アクションは、関連するすべての会社モジュールから記録されます。 `Company`, `NegotiableQuote`, `CompanyCredit`, `SharedCatalog`.
<!-- BUNDLE-180 181 182 183 -->

このリリースには、複数のバグ修正も含まれています。 詳しくは、 [B2B リリースノート](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### 機能テストフレームワーク (MFTF)

MFTF 3.1.0 がリリースされました。 詳しくは、 [機能テストフレームワーク変更ログ](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

### ベンダーが開発した拡張機能

このリリースの機能と変更点に関する更新については、次の記事を参照してください。

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://experienceleague.adobe.com/docs/commerce-admin/stores-sales/payments/braintree.html)

* [DotDigital Engagement Cloud](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html)

* [クラルナ](https://marketplace.magento.com/klarna-m2-klarna.html)

* [頂点雲](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Yotpo 製品レビュー](https://marketplace.magento.com/yotpo-module-yotpo.html)

## 修正された問題

2.4.1 コアコードでの数百の問題を修正しました。

### インストール、アップグレード、導入

<!-- MC-36113-->

* CLI コマンドでストアモジュールの API に依存するサードパーティの拡張機能を使用したインストールが失敗しなくなりました。 以前は、アプリケーションに次のエラーメッセージが表示されていました。 `The default website isn't defined. Set the website and try again`. これは 2.4.0 での既知の問題です。

<!-- MC-33273-->

* `bin/magento setup:di:compile` で致命的なエラーが発生しなくなりました。 以前は、このコマンドを初めて実行したときにアプリケーションがエラーをスローしていましたが、2 回目の実行が正常にコンパイルされました。

<!-- MC-34429-->

* でプラグインが宣言された場合にアップグレードが失敗しなくなりました。 `Magento\Framework\Encryption\Encryptor`.

<!-- MC-36231-->

* 実行後に一部のテーマがデプロイされていない場合に、情報エラーメッセージがアプリケーションに表示されるようになりました `bin/magento setup:static-content:deploy`. 以前は、デプロイメントが正常に完了したが、すべてのパッケージがデプロイされていなかった場合に、アプリケーションにエラーが表示されていませんでした。 このコマンドを並列処理を有効にして実行し、各テーマをデプロイするのに必要な時間が増え、指定された最大実行時間が経過すると、このコマンドは正常に終了しますが、テーマはデプロイされません。

<!-- MC-35001-->

* The **デフォルトを使用** Klarna の支払いのチェックボックス (**ストア** > **設定** > **セールス** > **支払い方法** > **クラルナ**) は、web サイトの範囲が変更された際に、期待どおりにチェックされるようになりました。

<!-- MC-17959 ENGCOM-7629-->

* 実行中 `/bin/magento config:show vendor_module/general/value` 戻り値 `0` または空の文字列を指定します。 以前は、 `Configuration for path: "vendor_module/general/value" doesn't exist`. _Vadim Malesh がプル要求で提出した修正 [28549](https://github.com/magento/magento2/pull/28549)._ [GitHub-23290](https://github.com/magento/magento2/issues/23290)

<!-- MC-33788-->

* アップグレードを実行しても、Galera クラスターが突然失敗することはなくなりました。 以前は、アップグレード直後にインデックスを再作成した後、Galera クラスタが突然終了していました。 アップグレード中にインデックステーブルが変更され、エンジンが `MEMORY` から `InnoDB`. この時点で、これらのテーブルの内容は、Galera クラスターのノード間で非同期になりました。 [GitHub-25334](https://github.com/magento/magento2/issues/25334)

<!-- MC-34254-->

* PageBuilder モジュールを無効にしても、製品ページのレンダリングに影響しなくなりました。 以前は、モジュールが無効になると、製品ページのカスタムレイアウトが表示されなくなり、アプリケーションで空白のページが表示されていました。

<!-- ENGCOM-7219-->

* これで、 `bin/magento sampledata:deploy` Composer を使用してAdobe Commerceをインストールした後、サンプルデータを期待どおりにデプロイする場合。 以前は、アプリケーションは次のエラーをスローしていました： `Git installations must deploy sample data from GitHub; see https://devdocs.magento.com/guides/v2.3/install-gde/install/sample-data-after-clone.html for more information`. _Andrii Beziazychnyi がプル要求で提出した修正 [27481](https://github.com/magento/magento2/pull/27481)_. [GitHub-19481](https://github.com/magento/magento2/issues/19481)

<!-- ENGCOM-7459-->

* ストアフロントのパフォーマンスは、 `Datepicker` コンポーネント。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27860](https://github.com/magento/magento2/pull/27860)_. [GitHub-28823](https://github.com/magento/magento2/issues/28823)

<!-- ENGCOM-7265-->

* 実行中 `bin/magento setup:upgrade` これで、期待どおりに完了します。 以前は、アプリケーションは、キャッシュ用に印刷されたアレイコンテンツを表示していました。 _プルリクエストで Sathish Subramanian によって送信された修正 [27567](https://github.com/magento/magento2/pull/27567)_. [GitHub-27091](https://github.com/magento/magento2/issues/27091)

<!-- ENGCOM-7853-->

* `bin/magento setup:static-content:deploy --language=all` 言語パラメーターが設定されていない場合に、ストアフロントで使用されるすべての言語と、管理者ユーザーが設定したすべての言語をデプロイするようになりました。 (`en_US` は常にデフォルトでデプロイされます )。 _Anton Evers がプル要求で提出した修正 [28922](https://github.com/magento/magento2/pull/28922)_. [GitHub-29218](https://github.com/magento/magento2/issues/29218)

<!-- ENGCOM-7883-->

* バックアップ機能が無効になっている場合、アプリケーションに [ バックアップ ] メニューが表示されなくなりました。 _プル要求で Eden Duong から送信された修正 [29222](https://github.com/magento/magento2/pull/29222)_. [GitHub-29280](https://github.com/magento/magento2/issues/29280)

<!-- ENGCOM-7987-->

* カタログ画像ヘルパーの初期化で、製品モデルが使用されるようになりました。 `DataObject`. _プル要求で jmonteros422 によって送信された修正 [29435](https://github.com/magento/magento2/pull/29435)_. [GitHub-1711](https://github.com/magento/adobe-stock-integration/issues/1711)

<!-- MC-37226-->

* 管理者ユーザーは、空の **顧客トークンの有効期間（時間）** フィールド（管理者） **ストア**  >  **設定**  >  **サービス**  >  **OAuth**  >  **アクセストークンの有効期限**) をクリックします。 [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-7724 -->

* The **古い URL の永続的なリダイレクトを作成** カテゴリの設定は、デフォルトでは無効になりました。 _Vadim Malesh がプル要求で提出した修正 [28752](https://github.com/magento/magento2/pull/28752)_. [GitHub-24922](https://github.com/magento/magento2/issues/24922)

### AdminGWS

<!-- MC-36164-->

* アプリケーションに「 **属性を追加** ボタン (**ストア** > **属性** または **属性セットを追加** ボタン (**ストア** > **属性** > **顧客**) を返します。 以前は、適切な権限を持たない Web サイト管理者が Web サイトの **属性セット** または **顧客** 属性。

<!-- MC-36230-->

* 特定の Web サイトの役割が制限されている管理者が管理者からサブカテゴリを作成しようとした場合に、アプリケーションがエラーをスローしなくなりました。

### Adobe Stock統合

<!-- ENGCOM-7776-->

* Adobe Stock画像グリッドの画像が、フィルターをクリアした後、正しく配置されるようになりました。 _プル要求で Nazar Klovanych から送信された修正 [28366](https://github.com/magento/magento2/pull/28366)_. [GitHub-824](https://github.com/magento/adobe-stock-integration/issues/824), [GitHub-972](https://github.com/magento/adobe-stock-integration/issues/972)

<!-- ENGCOM-7709 -->

* The **使用場所** 「 Adobe Stockギャラリーの画像の詳細」ページのセクションで、画像が製品に関連付けられているかどうかを正確に識別できるようになりました。 _プル要求で Nazar Klovanych から送信された修正 [28798](https://github.com/magento/magento2/pull/28798)_. [GitHub-1474](https://github.com/magento/adobe-stock-integration/issues/1474)

<!-- ENGCOM-7873 -->

* `\Magento\MediaGallery\Model\ResourceModel\Keyword\SaveAssetsKeywords::execute` 画像の詳細を編集中にキーワードタグを削除すると、パラメーターで指定されていないキーワードへのリンクを削除し、新しいキーワードタグを挿入するようになりました。 _プル要求で jmonteros422 によって送信された修正 [29207](https://github.com/magento/magento2/pull/29207)_. [GitHub-1391](https://github.com/magento/adobe-stock-integration/issues/1391)

<!-- ENGCOM-7981 -->

* The `Login failed` 商人がクリックしたときにアプリケーションが表示するメッセージ **ライセンス** 以前に保存した、ライセンスが不要なAdobe Stock画像のHTMLタグは含まれなくなりました。 _プル要求で yolouiese によって送信された修正 [29398](https://github.com/magento/magento2/pull/29398)_. [GitHub-1684](https://github.com/magento/adobe-stock-integration/issues/1684)

<!-- ENGCOM-7976 -->

* リンクをクリックすると、 **使用場所** 画像の「詳細」ページの「 」セクションに、画像でフィルタリングされたすべてのエンティティを表示するグリッドが表示されるようになりました。 また、アセットフィルターも正しく設定および表示されます。 以前は、デスクトップアプリケーションの「 **適用されたフィルター** 」セクションに入力します。 _プル要求で Nazar Klovanych から送信された修正 [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-7976 -->

* アプリケーションに「 **使用場所** 」セクションに表示されます（画像が使用されていない場合）。 _プル要求で Nazar Klovanych から送信された修正 [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1699](https://github.com/magento/adobe-stock-integration/issues/1699)

<!-- ENGCOM-7976 -->

* 最大文字数を超える新しい画像タグを追加する際の表示の問題を修正しました。 _プル要求で Nazar Klovanych から送信された修正 [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1702](https://github.com/magento/adobe-stock-integration/issues/1702)

<!-- ENGCOM-7976 -->

* 画像の詳細でアセットフィルターを使用して、アセットを期待どおりにチェックできるようになりました。 **使用場所** 」セクションに入力します。 _プル要求で Nazar Klovanych から送信された修正 [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1704](https://github.com/magento/adobe-stock-integration/issues/1704)

<!-- ENGCOM-7976 -->

* 様々なエンティティが使用する画像に関する情報（例： ） `page` および `category`) が、画像の詳細ページに修正されたとリストに表示されます。 _プル要求で Nazar Klovanych から送信された修正 [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1747](https://github.com/magento/adobe-stock-integration/issues/1747)

<!-- ENGCOM-7778-->

* これで、新しい `UrlFilterApplier` 製品にフィルターを適用するコンポーネント`cms_page`、および `cms_block` グリッドでGETURL パラメーターを使用します。 _Gabriel da Gama がプル要求で提出した Fix [28932](https://github.com/magento/magento2/pull/28932)_. [GitHub-1501](https://github.com/magento/adobe-stock-integration/issues/1501)

<!-- ENGCOM-8019-->

* リンクをクリックすると、 **使用場所** メディアギャラリーの画像のセクションで、画像でフィルタリングされたエンティティのグリッドが期待どおりに開くようになりました。 以前は、画像タイトルは、グリッドの「適用済みフィルター」セクションに表示されていませんでした。 _プル要求で Nazar Klovanych から送信された修正 [29429](https://github.com/magento/magento2/pull/29429)_. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-8019-->

* メディアギャラリーで連続して複数の画像を編集する際に、アプリケーションがタグを正しく追加するようになりました。 _プル要求で Nazar Klovanych から送信された修正 [29429](https://github.com/magento/magento2/pull/29429)_. [GitHub-1755](https://github.com/magento/adobe-stock-integration/issues/1755)

<!-- ENGCOM-8015-->

* マーチャントがタグを削除し、画像の詳細を保存した後に、Adobe Stock画像のタグが削除されるようになりました。 以前は、ページが更新されるまでタグは削除されませんでした。 _プルリクエストで Honeymay Louiese Ignacio によって送信された修正 [29400](https://github.com/magento/magento2/pull/29400)_. [GitHub-1703](https://github.com/magento/adobe-stock-integration/issues/1703)

### Amazon Pay

* Amazon Pay で、支払いオプションを表示する前に、ユーザーが既にログインしているかどうかを確認できるようになりました。

* 多要素認証と放棄された買い物かごに関する問題が解決されました。

* Amazon Pay が `store name` （e メールおよびその他の表示場所） 次の場合、 **ストア名** 「 Amazon Pay 設定」の「 」フィールドが空の場合、拡張機能はストアのデフォルト名（つまり、管理者でストアに付けた名前）を取得します。

* 拒否シナリオに関するローカライゼーション/翻訳の問題に対処しました。 表示されるテキストが常に英語で表示されるわけではありません。

### Analytics

<!-- MC-33314-->

* 適切な権限を持つ管理者が、高度なレポートおよびセグメントレポートにアクセスできるようになりました。

<!-- MC-34352-->

* Adobe Commerceは高度なレポートデータファイルを正常に生成し、分割データベースを持つデプロイメント上で、期待どおりに Inventory に送信します。 以前は、アプリケーションは `quotes.csv` ファイルから Inventory にコピーした結果、Inventory で期待されるレポートが生成されませんでした。

### Braintree

* Braintreeページにプロモーションコードが適用された場合、PayPal に正しい金額が送信されるようになりました。

* Apple Pay は、チェックアウトページで Terms &amp; Conditions が有効な場合、期待どおりに動作します。

* 管理者から Venmo が有効になっている場合、デスクトップデバイスのチェックアウト中にブラウザーエラーは発生しなくなりました。

* 買い物客が **名前** チェックアウトワークフローのフィールド。 以前は、Braintree3DS API が非 ASCII 文字をサポートしていなかったので、認証に失敗していました。

* PayPal を使用して注文を行う場合、チェックアウトワークフローの出荷セクションに正しい受信者名がアプリケーションに表示されるようになりました。

* 買い物客がチェックアウト中に発送方法を複数回変更した場合に、アプリケーションが注文の確認ページを期待どおりに更新するようになりました。

### 製品のバンドル

<!-- MC-36281-->

* インベントリがインストールされているデプロイメントで製品を作成しようとしたときに、アプリケーションで例外がスローされなくなりました。 `Magento_InventoryBundleProduct` モジュールが無効です。

<!-- MC-34261-->

* バンドル製品を含む注文に対するオフライン払い戻しが正しく計算されるようになりました。

<!-- MC-24363-->

* 単純な製品にも階層価格が割り当てられている場合、ミニカートにバンドル製品の正しい価格が表示されるようになりました。 [GitHub-22807](https://github.com/magento/magento2/issues/22807)

<!-- ENGCOM-7499-->

* 商人は、商品の返品を必要とせずに、返金を提供するバンドル商品のクレジットメモを作成できるようになりました。 以前は、アプリケーションはエラーをスローしていました。 _プル要求で Dzung Guyen によって送信された修正 [27455](https://github.com/magento/magento2/pull/27455)_. [GitHub-23440](https://github.com/magento/magento2/issues/23440)

<!-- ENGCOM-7655-->

* 買い物客が必要なオプションを選択せずに買い物かごにバンドル製品を追加した場合に、アプリケーションで冗長な検証メッセージが表示されなくなりました。 _プル要求で Dzung Guyen によって送信された修正 [27455](https://github.com/magento/magento2/pull/27455)_. [GitHub-23440](https://github.com/magento/magento2/issues/23440)

<!-- ENGCOM-7985 MC-29908-->

* GraphQLで、オプションタイプのバンドル製品の注文の配置がサポートされるようになりました `radio` および `dropdown` 複数の選択肢があります。 以前は、無効な入力に関するメッセージが `BundleItem.type: radio/dropdown`. _プル要求で Michal l Derlatka によって送信された修正 [29256](https://github.com/magento/magento2/pull/29256)_. [GitHub-26110](https://github.com/magento/magento2/issues/26110)

### キャッシュ

<!-- MC-36096-->

* ローカルキャッシュストレージは、 **ストア** > **設定** > **一般** > **Web** > **デフォルトの Cookie 設定**. 以前は、cookie の有効期限は 1 日にハードコードされていたので、この設定と同期されませんでした。 その結果、お知らせメッセージで、期待した期間、再訪問者の情報が保持されなかった問題を修正しました。

<!-- ENGCOM-7780-->

* ページキャッシュへの呼び出し数 `config` が削減されました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [28992](https://github.com/magento/magento2/pull/28992)_. [GitHub-29159](https://github.com/magento/magento2/issues/29159)

<!-- ENGCOM-7073-->

* ワニスが `Connection reset by peer` 大きなカタログのインデックスがスケジュールに従って再作成されているときにエラーが発生しました。 _プル要求で Matthew O&#39;Loughlin によって提出された修正 [26256](https://github.com/magento/magento2/pull/8815)_. [GitHub-26255](https://github.com/magento/magento2/issues/8815)

<!-- MC-29069-->

* 管理で製品が編集された際に、関連のない製品の完全なページキャッシュがクリアされなくなりました。 [GitHub-25670](https://github.com/magento/magento2/issues/25670)

### 買い物かごとチェックアウト

<!-- ENGCOM-7950-->

* 直接 SQL クエリはデータプロバイダーに置き換えられ、チェックアウトパフォーマンスが向上しました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [29376](https://github.com/magento/magento2/pull/29376)_. [GitHub-29453](https://github.com/magento/magento2/issues/29453)

<!-- MC-36252-->

* 「比較」リストと「最近比較した製品」リストの製品が期待どおりに動作するようになりました。 以前は、比較リストが展開された場合、セクションで製品が含まれていることが示されていたにもかかわらず、製品が表示されませんでした。

<!-- MC-35329-->

* The **削除** ボタン **SKU で買い物かごに追加** 顧客の **買い物かごを管理** 複数の行が選択されている場合、ページが期待どおりに動作するようになりました。

<!-- MC-34999-->

* 入力した数字が有効な SKU と一致するが、これらの数字の大文字と小文字が異なる場合、SKU で製品を注文しようとすると、アプリケーションでエラーがスローされなくなりました。 以前は、 **マイアカウント** > **SKU 別の注文** 有効な SKU と完全に一致しない場合、アプリケーションがエラーをスローしました。

<!-- MC-25042-->

* 顧客の配送先住所が「許可国」リストで特定された国にあり、その国のみがそのリストに含まれる場合、デフォルトでチェックアウト時に選択されるようになりました。 以前は、アプリケーションはアドレスをデフォルトとして選択せず、次のエラーメッセージを表示していました。 `Please specify a regionId in shipping address`.

<!-- MC-24043-->

* マーチャントが有効化できるようになりました **発送金額に適用** （「アクション」タブ） **マーケティング** > **買い物かごの価格ルール** > **新規ルールの追加** when **買い物かご全体の固定金額の割引** が適用されます。 [GitHub-24422](https://github.com/magento/magento2/issues/24422)

<!-- MC-23992-->

* チェックアウトを開始し、ストアフロントのホームページに移動した後に、買い物客が永続性 cookie の設定を解除しようとした場合に、アプリケーションが例外をスローしなくなりました。 以前は、買い物客が **君じゃないの？** リンクをホームページに追加した場合、アプリケーションは次の例外をスローしました。 `The shipping address is missing. Set the address and try again`. [GitHub-24218](https://github.com/magento/magento2/issues/24218)

<!-- MC-33899-->

* 顧客が買い物かごに在庫切れの製品を追加した場合に、アプリケーションに買い物かごへの追加成功メッセージが表示されるようになりました。 以前は、製品は追加されましたが、アプリケーションに成功メッセージは表示されませんでした。

<!-- MC-35989-->

* カスタム住所属性が、チェックアウトワークフローの支払い手順に表示されるフォームに、期待どおりに含まれるようになりました。

<!-- MC-36060-->

* The **都道府県/地域** 入力ボックスが期待どおりに有効になりました（オン） **マイアカウント** > **アドレス帳** > **新しいアドレスを追加**.

<!-- ENGCOM-7746-->

* 割引は、次の場合に送料に期待どおりに適用されるようになりました。 **発送金額に適用** が有効になっている。 _Andrii Kalinich がプル要求で提出した Fix [28839](https://github.com/magento/magento2/pull/28839)_. [GitHub-26723](https://github.com/magento/magento2/issues/26723)

<!-- ENGCOM-7752-->

* ミニカートの閉じをサポートするコードはリファクタリングされ、 `closeSidebar` 関数に置き換えます。 適切なクリックの連結が `[data-action="close"]` 要素を選択します。 _プル要求の列によって送信された修正 [28906](https://github.com/magento/magento2/pull/28906)_. [GitHub-29161](https://github.com/magento/magento2/issues/29161)

<!-- ENGCOM-7585-->

* 新しい **[ 買い物かごのクリア ] ボタンを買い物かごページに表示する** 設定により、表示を制御できます **買い物かごをクリア** ボタンをクリックします。 デフォルトでは、この設定は無効です。 _Pavlo Sydorenko がプル要求で提出した Fix [27917](https://github.com/magento/magento2/pull/27917)_. [GitHub-28705](https://github.com/magento/magento2/issues/28705)

<!-- ENGCOM-7457-->

* チェックアウトワークフローの「電話」フィールドに検証機能が追加されました。 _Oleh Usik がプル要求で提出した修正 [27537](https://github.com/magento/magento2/pull/27537)_. [GitHub-28800](https://github.com/magento/magento2/issues/28800)

<!-- ENGCOM-5629-->

* カートにダウンロード可能な製品が含まれている場合、 **共有可能** および **買い物かごにダウンロード可能な項目が含まれる場合、ゲストのチェックアウトを無効にする** の設定は無効です。 _プル要求で Rani Priya から送信された修正 [23972](https://github.com/magento/magento2/pull/23972)_. [GitHub-23971](https://github.com/magento/magento2/issues/23971)

<!-- ENGCOM-7949-->

* 顧客アカウントのサイドバーから買い物客が買い物かごに製品を追加したときにアプリケーションが表示する成功メッセージに、買い物客の買い物かごへのリンクが含まれるようになりました。 _プル要求で Ajith から送信された修正 [27977](https://github.com/magento/magento2/pull/27977)_. [GitHub-29097](https://github.com/magento/magento2/issues/29097)

<!-- ENGCOM-7825-->

* アプリケーションは、チェックアウトワークフローのプレフィックスドロップダウンオプションメニューに対して、デフォルトで空の値を選択するようになりました。 _Vadim Malesh がプル要求で提出した修正 [28238](https://github.com/magento/magento2/pull/28238)_. [GitHub-18823](https://github.com/magento/magento2/issues/18823)

<!-- ENGCOM-8004-->

* 買い物かごから複数の品目を削除した場合にアプリケーションが表示するポップアップメッセージが、削除対象として選択したエンティティの数とタイプを正確に示すようになりました。 _プル要求で Nazar Klovanych から送信された修正 [29490](https://github.com/magento/magento2/pull/29490)_. [GitHub-1749](https://github.com/magento/adobe-stock-integration/issues/1749)

<!-- MC-36418-->

* ゲストユーザーがチェックアウトを完了すると、アプリケーションに顧客登録フォームが表示されるようになりました。

<!-- MC-35607-->

* ストアフロントのチェックアウトワークフローで、カスタム顧客住所属性フィールドが期待どおりに表示されるようになりました。

<!-- ENGCOM-7793-->

* 現在の顧客グループを取得し、チェックアウト時にアクティブな見積もりを取得します。 以前は、アプリケーションは、製品が最初に買い物かごに追加されたときにアクティブだった顧客グループを使用していました。顧客グループがチェックアウト前に削除された場合、アプリケーションはエラーをスローしました。 _プルリクエストで Konstantin によって送信された修正 [28902](https://github.com/magento/magento2/pull/28902)_. [GitHub-29327](https://github.com/magento/magento2/issues/29327)

### カタログ

<!-- MC-31068-->

* アプリケーションは、チェックアウト前に買い物客の買い物かごから無効な製品を削除するようになりました。 以前は、買い物客がチェックアウトが完了する前に無効になった製品を買い物かごに追加すると、アプリケーションは無効になった製品を買い物かごから削除しましたが、製品は見積もりに残り、買い物客はチェックアウトできませんでした。 [GitHub-26680](https://github.com/magento/magento2/issues/26680)

<!-- MC-30624-->

* 現在は、最も売れ行きの良い製品を期待どおりに並べ替えます。 以前は、並べ替え結果の製品数とページネーションの両方が正しくありませんでした。 [GitHub-25955](https://github.com/magento/magento2/issues/25955)

<!-- ENGCOM-7292-->

* 買い物客は、製品の比較サイドバーの製品名をクリックして、製品の詳細ページを開くことができるようになりました。 _プルリクエストで Eduard Chitoraga から送信された修正 [27451](https://github.com/magento/magento2/pull/27451)_. [GitHub-21101](https://github.com/magento/magento2/issues/21101)

<!-- ENGCOM-7513-->

* `children_count` 管理者がカテゴリを削除した場合、値は正の値のままになりました。 以前は、管理者がカテゴリを削除すると、 `children_count` 残りのカテゴリは負の値でした。 _プルリクエストで Vitaliy Prokopov によって送信された修正 [28044](https://github.com/magento/magento2/pull/28044)_. [GitHub-27969](https://github.com/magento/magento2/issues/27969)

<!-- MC-34314-->

* アプリケーションは、デフォルトのオプション (**設定** > **Web** > **デフォルトのレイアウト** > **デフォルトの製品レイアウト**) を選択し、 `page_layout` 属性を使用して新しい製品を作成する場合。 以前は、選択したデフォルト値は適用されていませんでした。

<!-- MC-34258-->

* 在庫製品在庫に対して一括処理を正常に実行できるようになりました。 以前は、在庫製品在庫に対して一括処理を実行しようとすると、空白のページが表示されていました。 開発者モードでアプリケーションでこのアクションを実行した場合、アプリケーションは次のエラーをスローしました： `Notice: Undefined offset: 32000 in /Users/kodithuw/sites/m23inventory/inventory/InventoryCatalogAdminUi/view/adminhtml/templates/catalog/product/edit/action/inventory.phtml on line 24`

<!-- MC-32552-->

* クリックしたときに表示されるレコードの合計数 **製品を追加** カタログカテゴリに商品を追加する際の「商品」タブで、商品の並べ替え順に基づく変更がおこなわれなくなりました。

<!-- ENGCOM-7854 -->

* The `{products(filter: {sku: {eq: "some sku"}}) {…}` クエリは、期待される通貨に変換された値を返すようになりました。 以前は、 `price_tiers.final_price.value` 特別価格を基準通貨で表示。 _プル要求で Petkovski Marjan によって送信された修正 [28890](https://github.com/magento/magento2/pull/28890)_. [GitHub-26121](https://github.com/magento/magento2/issues/26121)

### カタログルール

<!-- MC-33487-->

* 以下の条件を持つカタログルールを保存した場合に、アプリケーションで致命的なエラーがスローされなくなりました。 `If ALL of these conditions are FALSE:, If ALL of these conditions are TRUE:, Attribute set is default`

### クリーンアップ

<!-- ENGCOM-7281-->

* 管理販売注文グリッドのチェックボックスの位置がずれていた問題を修正しました。 _プル要求で Tu Nguyen によって送信された修正 [27642](https://github.com/magento/magento2/pull/27642)_. [GitHub-27633](https://github.com/magento/magento2/issues/27633)

<!-- ENGCOM-7723-->

* 販売注文住所保存ハンドラーの配送先住所 ID ゲッターのスペルミスを修正しました。 _プルリクエストで Konstantin によって送信された修正 [28810](https://github.com/magento/magento2/pull/28810)_. [GitHub-28982](https://github.com/magento/magento2/issues/28982)

<!-- ENGCOM-7745-->

* 修正済み `getRegionNameExpresion` メソッド名 `getRegionNameExpression`. _プル要求で Pierre Grimaud から送信された修正 [28832](https://github.com/magento/magento2/pull/28832)_. [GitHub-28829](https://github.com/magento/magento2/issues/28829)

<!-- ENGCOM-7657-->

* 冗長 `init` メソッドが次の場所から削除されました： `app/code/Magento/AdvancedPricingImportExport/Model/Import/AdvancedPricing/Validator/Website.php` および `app/code/Magento/AdvancedPricingImportExport/Model/Import/AdvancedPricing/Validator/TierPriceType.php`. _Oleh Usik がプル要求で提出した修正 [28650](https://github.com/magento/magento2/pull/28650)_. [GitHub-29009](https://github.com/magento/magento2/issues/29009)

<!-- ENGCOM-7698-->

* `localStorage` ポリフィルは次の場所から移動されました： `base` から `frontend`. _プルリクエストで Ihor Sviziev によって送信された修正 [28749](https://github.com/magento/magento2/pull/28749)_. [GitHub-28900](https://github.com/magento/magento2/issues/28900)

<!-- ENGCOM-7753-->

* Adobe Commerceのロゴを更新し、README ファイルから不要なスペースを削除しました。 _Rafael Corêa Gomes がプル要求で提r̻出した Fix [28891](https://github.com/magento/magento2/pull/28891)_. [GitHub-29056](https://github.com/magento/magento2/issues/29056)

<!-- ENGCOM-7771-->

* 不要な `overflowed` クラスがミニ買い物かごのサイドバーウィジェットから削除されました。 _プル要求の列によって送信された修正 [28963](https://github.com/magento/magento2/pull/28963)_. [GitHub-29160](https://github.com/magento/magento2/issues/29160)

<!-- ENGCOM-7658-->

* 出荷ページの誤った CSS セレクターが修正されました。 _プル要求で Tu Nguyen によって送信された修正 [28639](https://github.com/magento/magento2/pull/28639)_. [GitHub-29261](https://github.com/magento/magento2/issues/29261)

<!-- ENGCOM-7680-->

* The `lib/internal/Magento/Framework/App/Request/Http.php` ファイルは、ロジックを最適化し、関数内で冗長な変数の割り当てや戻り値の過剰使用を削除することで簡略化されました。 _Chris Snedaker がプル要求で送信した修正 [28608](https://github.com/magento/magento2/pull/28608)_. [GitHub-29381](https://github.com/magento/magento2/issues/29381)

<!-- ENGCOM-7925-->

* The `bin/magento module:status` コマンドは、複数のモジュール名を引数として受け入れるようになりました。 _プルリクエストで Chandru Rajendran によって送信された修正 [28250](https://github.com/magento/magento2/pull/28250)_. [GitHub-29344](https://github.com/magento/magento2/issues/29344)

<!-- ENGCOM-7983-->

* クラスの説明の誤植を修正しました： `\Magento\Downloadable\Block\Sales\Order\Email\Items\Downloadable`. _Benjamin Rosenberger がプル要求で提出した修正 [29451](https://github.com/magento/magento2/pull/29451)_. [GitHub-29470](https://github.com/magento/magento2/issues/29470)

<!-- ENGCOM-7993-->

* The `TierPriceManagement` 冗長なコードを削除するために、クラスがリファクタリングされました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [29202](https://github.com/magento/magento2/pull/29202)_. [GitHub-29477](https://github.com/magento/magento2/issues/29477)

<!-- ENGCOM-7830-->

* `autoload.php` は、読みやすさと戻り速度を向上させるためにリファクタリングされました。 _Vitaliy Ryaboy がプル要求で提出した修正 [28923](https://github.com/magento/magento2/pull/28923)_. [GitHub-29527](https://github.com/magento/magento2/issues/29527)

### CMS コンテンツ

<!-- MC-35971-->

* 選択したデフォルトのストア表示の「階層」タブに、選択した親ページが期待どおりに表示されるようになりました。

<!-- ENGCOM-7602-->

* 新しいストアビューに、別のストアビューのページと同じ URL キーを持つ CMS ページが含まれている場合、アプリケーションがストアビューの作成中にエラーをスローしなくなりました。 _Vadim Malesh がプル要求で提出した修正 [28421](https://github.com/magento/magento2/pull/28421)_. [GitHub-28357](https://github.com/magento/magento2/issues/28357)

<!-- MC-35480-->

* マーチャントが会社構造ページと同じ URL を持つ CMS ページを作成した場合に、アプリケーションがエラーをスローするようになりました。 以前は、アプリケーションで会社構造ページではなく CMS ページが表示されていました。

### 設定可能な製品

<!-- MC-33523-->

* 「設定可能な製品の編集」の「現在のバリエーション」リストのページネーションの問題が修正されました。

<!-- MC-33406-->

* 買い物客が設定可能な製品のオプションを選択するたびに、「関連製品」価格ボックスが更新されなくなりました。 以前は、買い物客が設定可能な製品のオプションを選択するたびに、アプリケーションが価格ボックスを更新していました。

<!-- MC-29882-->

* 管理者の注文作成ページに、カスタマイズ可能なオプションを含む設定可能な製品の正しい価格が表示されるようになりました。 予想どおり、表示される価格は、子製品の価格とカスタムオプションの価格の合計です。 以前は、アプリケーションにカスタムオプション価格のみが表示されていました。 [GitHub-25766](https://github.com/magento/magento2/issues/25766)

<!-- MC-33745-->

* 買い物かごの価格ルールが適用された場合、注文の概要に正しい割引額が表示されるようになりました。 以前は、送料割引を計算する際に、ルールで金額が正しく丸められていませんでした。

<!-- MC-33765-->

* スコープが制限された管理者アカウントから作成された管理者ユーザーアカウントで、必要に応じて属性を持つ設定可能な製品を作成できるようになりました。 以前は、アプリケーションは次のエラーをスローしていました： `Notice: Undefined index: value_index in 23develop/app/code/Magento/ConfigurableProduct/Helper/Product/Options/Factory.php on line 101`.

<!-- ENGCOM-7787-->

* POST `/V1/products` を使用して設定可能な製品に `int` 値は 0 です。 以前は、アプリケーションは次のエラーをスローしていました： `Product with id "%1" does not contain required attribute "%2"."` _Vadim Malesh がプル要求で提出した修正 [29001](https://github.com/magento/magento2/pull/29001)_. [GitHub-13210](https://github.com/magento/magento2/issues/13210)

<!-- ENGCOM-7214-->

* 親製品の構成オプション属性は、新しい構成可能な製品の `size` 属性。 _プル要求で Abel Truong によって送信された修正 [27339](https://github.com/magento/magento2/pull/27339)_. [GitHub-26449](https://github.com/magento/magento2/issues/26449)

### Cookie

<!-- ENGCOM-7156-->

* アプリケーションで最大 1 つが作成されるようになりました `mage-translation-file-version` および `mage-translation-storage` cookie をセッションごとに設定できます。 _プルリクエストで Ihor Sviziev によって送信された修正 [27364](https://github.com/magento/magento2/pull/27364)_. [GitHub-27355](https://github.com/magento/magento2/issues/27355)

### cron

<!-- MC-35884-->

* メッセージキューのコンシューマー設定が拡張され、コンシューマーの制御とサーバーリソースの節約に役立つ新しいパラメーターが追加されました。これにより、コンシューマーキューの CPU 消費が減少する可能性があります。 詳しくは、 [メッセージキューの設定](https://developer.adobe.com/commerce/php/development/components/message-queues/configuration/) の説明 `maxIdleTime`, `sleep`、および `onlySpawnWhenMessageAvailable` パラメーター。

<!-- ENGCOM-7863-->

* `cron` 次のような式  `3/10 * * * *` 現在は、期待どおりにスケジュールされています。 _Anton Evers がプル要求で提出した修正 [28930](https://github.com/magento/magento2/pull/28930)_. [GitHub-29240](https://github.com/magento/magento2/issues/29240)

<!-- ENGCOM-7193-->

* `sales_clean_quotes` では、期限切れの引用符をすべて一度に読み込まなくなりました。 以前は、期限切れの引用符がすべて同時に読み込まれたので、アプリケーションはこの致命的なエラーで失敗していました。 `PHP Fatal error: Allowed memory size of 2147483648 bytes exhausted (tried to allocate 20480 bytes) in /path/to/magento2/vendor/magento/framework/Model/AbstractModel.php on line 359`,

### CSS

<!-- ENGCOM-7678-->

* 次の場合に、アプリケーションは CSS を複製しなくなりました： **重要な CSS** が有効になっている。 _プル要求で Tu Nguyen によって送信された修正 [28480](https://github.com/magento/magento2/pull/28480)_. [GitHub-26498](https://github.com/magento/magento2/issues/26498)

<!-- MC-24981-->

* サーバー側の LESS コンパイラーで、を実行したときに、すべてのリモート CSS ファイルが期待どおりにインポートされるようになりました。 `bin/magento setup:static-content:deploy -f`. 以前は、アプリケーションはリモートファイルをインポートせず、エラーをスローしていました。 [GitHub-25119](https://github.com/magento/magento2/issues/25119)

### カスタム顧客属性

<!-- MC-36387-->

* パスワードと **役職** 「顧客アカウント情報の編集」ページの「 」フィールド。

<!-- MC-33645-->

* 新しい顧客が **アカウントの作成** 」ボタンをクリックします。 以前は、アプリケーションは顧客アカウントを作成せず、顧客がボタンをクリックするとエラーを表示していました。

<!-- MC-34024-->

* 顧客が何もデータを入力していない場合、チェックアウトワークフローにカスタムの顧客住所属性値が表示されなくなりました。

### 顧客

<!-- MC-33679-->

* 管理者の顧客アドレスの地域名が、期待どおりに翻訳されるようになりました。

<!-- MC-36226-->

* The **都道府県** フィールドが、アドレスの編集ページ (**マイアカウント** > **アドレス帳**) をクリックします。

<!-- MC-34655-->

* お客様が **送信** 非表示の reCAPTCHA が有効になっているストアフロント全体のフォームで、複数回ボタンを押します。 以前は、このボタンを複数回クリックすると、次のような内部エラーが発生していました。 `Internal error: Make sure you are using reCaptcha V3 api keys`.

<!-- MC-33522-->

* 削除された顧客を管理者から保存すると、エラーメッセージのみが生成されるようになりました。 以前は、アプリケーションで空白のページが表示され、次の文字列を含むレポートが生成されていました。 `"0":"No such entity with customerId = 3","1":"#1 Magento\\Customer\\Model CustomerRegistry->retrieve() called at [app\/code\/Magento\/Customer\/Model\/ResourceModel\/CustomerRepository.php:340"`.

<!-- MC-33357-->

* アカウントが削除された顧客のアドレスを管理者が保存しようとすると、エラーメッセージが期待どおりに表示されるようになりました。 以前は、空白のメッセージボックスが表示されていました。

<!-- MC-33150-->

* チェックアウトワークフローおよびアドレス帳のアドレスフィールドのラベルは、一貫性を保つために編集されています。

<!-- ENGCOM-7244 -->

* フロントエンドラベルの値が null でない場合、そのラベルがストアにフォールバックされるようになりました。 以前は、顧客属性ではデフォルトのフロントエンドラベルが使用されていました。 _プル要求で Toan Guyen によって送信された修正 [27064](https://github.com/magento/magento2/pull/27064)_. [GitHub-27063](https://github.com/magento/magento2/issues/27063)

<!-- ENGCOM-7147 -->

* The `sortOrder`レイアウト XML のリンク数が修正されました。 以前は、この順序が逆順になり、降順で使用されていました。 _プル要求で Tu Nguyen によって送信された修正 [27340](https://github.com/magento/magento2/pull/27340)_. [GitHub-27162](https://github.com/magento/magento2/issues/27162)

### 顧客セグメント

<!-- MC-33184-->

* 一括操作は、顧客セグメントを非同期的に保存および更新するようにリファクタリングされ、多数の顧客（3,000,000 件を超える顧客）を含むデプロイメントでのこれらのタスクのパフォーマンスが向上しました。

<!-- MC-36224-->

* 分割データベースのデプロイメントで、顧客セグメントの条件が期待どおりに機能するようになりました。 以前は、条件を追加して顧客セグメントを編集しようとすると、アプリケーションがエラーをスローしていました。 `SQLSTATE[42S02]: Base table or view not found`.

### ディレクトリ

<!-- MC-32271-->

* 都道府県/州ドロップダウンメニューの形式が、管理者全体で一貫するようになりました。

### dotdigital

* 注文にカタログに存在しない製品 SKU が含まれている場合、注文の同期が失敗しない。

* 空の製品カテゴリは、Web インサイトデータには含まれなくなりました。

* 特定のテーマ設定を持つマーチャントに対して、Web 行動の追跡が機能するようになりました。 新しいフォールバックセレクターによって、この問題に対処します。

* cron を使用して顧客同期を実行した場合に、購読者ステータスデータフィールドに空の値が含まれなくなりました。 （アプリのエミュレーションでは、この問題に対処します）。

* デフォルトレベルでドットデジタルアカウントが有効になっているが、メイン Web サイトでは無効になっている場合、アドレス帳のマッピングが期待どおりに動作するようになりました。

* プラス (「+」) 記号を含む E メールアドレスに対して、クーポンが（クーポン生成用の外部動的コンテンツ URL を使用して）生成されるようになりました。

* 取引先責任者の再配信時に連絡先が再配信されなくなりました `last_subscribed_at` の値が null です。

* 以前のバージョンに影響を及ぼしたアップグレードエラー（4.5.2 以降）が解決されました。

* 4.5.3 で導入された回帰の問題で、購読者の書き出しを準備する際に、購読者のステータスを取得する方法を使用して影響を受けた問題を修正しました。

* 同期された（ログと画面に表示される）購読者の合計数が正しく計算されるようになりました。

### ダウンロード可能

<!-- MC-35026-->

* ダウンロード可能な製品領域に、グループ化された製品の一部である、購入済みのダウンロード可能な製品へのリンクが期待どおりに表示されるようになりました。

<!-- MC-34262-->

* ダウンロード可能な製品のをクリックする **サンプル** ボタンを製品ページの「管理」ボタンからクリックすると、サンプルが期待どおりにダウンロードされるようになりました。 以前は、 **サンプル**&#x200B;に設定されている場合、アプリケーションは次のエラーを表示していました： `The product that was requested doesn't exist. Verify the product and try again`.

<!-- ENGCOM-7757-->

* 買い物客は、在庫切れのダウンロード可能な製品のサンプルをダウンロードできるようになりました。 以前は、買い物客がサンプルをダウンロードしようとすると、アプリケーションは新しいタブを開きましたが、情報メッセージが表示されず、ダウンロードプロセスが開始されませんでした。 _Vadim Malesh がプル要求で提出した修正 [28898](https://github.com/magento/magento2/pull/28898)_. [GitHub-23638](https://github.com/magento/magento2/issues/23638)

<!-- ENGCOM-7796-->

* 買い物客がダウンロード可能な製品の配送先住所を設定しようとしたときにアプリケーションに表示される例外メッセージが改善されました。 _プル要求で Michal l Derlatka によって送信された修正 [28904](https://github.com/magento/magento2/pull/28904)_. [GitHub-26107](https://github.com/magento/magento2/issues/26107)

<!-- ENGCOM-7715 -->

* 製品の `stock_item` RESTPUT呼び出しを使用してを更新する場合、データが更新され、ダウンロード可能な製品リンクとサンプルが期待どおりに保持されます。 `stock_item` 値。 以前は、製品のアップデート後、製品にはコンテンツのダウンロード用のリンクが含まれなくなっていました。 _Vadim Malesh がプル要求で提出した修正 [28799](https://github.com/magento/magento2/pull/28799)_. [GitHub-21811](https://github.com/magento/magento2/issues/21811)

<!-- MC-29905-->

* ダウンロード可能な製品のみを含む注文の配送先住所を顧客が設定した場合に、より有益なメッセージがアプリケーションに表示されるようになりました。

### ダイナミックブロック（旧バナー）

<!-- MC-33266-->

* 動的ブロックを作成し、関連するカタログ価格ルールを追加する際に、テーブルタイトルがデータテーブルと（期待どおりに）一致するようになりました。

### 電子メール

<!-- MC-32789-->

* 注文の作成後に顧客 E メールが変更された場合、アプリケーションは注文の変更に関する E メール通知を正しい顧客 E メールに送信するようになりました。

<!-- MC-36015-->

* 顧客に送信される注文更新メールに、正しい注文ステータスが含まれるようになりました。 以前は、注文のステータスが `processing` 別の状態に変更すると、注文メールにステータスの変更が反映されませんでした。

<!-- MC-34107-->

* ゲストによるチェックアウト中に、既存のアカウントに関する誤解を招くメッセージがアプリケーションに表示されることはなくなりました。 以前は、ゲストがチェックアウトページに移動し、配送ページに戻ると、アプリケーションに次のエラーが表示されていました。 `You already have an account with us. Sign in or continue as guest`.

<!-- MC-33905-->

* カスタムの電子メールテンプレートで、ネイティブのデフォルトの電子メールテンプレートと同じ要素が読み込まれるようになりました。 以前は、変数値を含む一部の要素が欠落していました。

<!-- MC-33700-->

* これで、で E メールを送信する E メールテンプレートを作成できます。 `Content-Type: "text/plain"`. 以前は、テンプレートで指定されたコンテンツタイプは無視されていました。 _プル要求で 216Digital によって送信された修正 [26474](https://github.com/magento/magento2/pull/26474)_. [GitHub-26471](https://github.com/magento/magento2/issues/26471)

<!-- ENGCOM-7576-->

* 不要な CSS がメールプレビューテンプレートから削除されました。 _プル要求で Tu Nguyen によって送信された修正 [27828](https://github.com/magento/magento2/pull/27828)_. [GitHub-27543](https://github.com/magento/magento2/issues/27543)

<!-- ENGCOM-7177-->

* フッターで既に表示されているテキストを複製する電子メールテンプレート内のテキストは削除されました。 _プル要求で Pawel Tylek によって送信された修正 [27356](https://github.com/magento/magento2/pull/27356)_. [GitHub-28433](https://github.com/magento/magento2/issues/28433)

<!-- ENGCOM-7506-->

* 製品アラート電子メールは、アラートの購読元のストアから送信されるようになりました。 以前は、この電子メールは常にデフォルトのストアから送信されていました。 _プルリクエストで Maciej Pawwwowski によって送信された修正 [26534](https://github.com/magento/magento2/pull/26534)_. [GitHub-28968](https://github.com/magento/magento2/issues/28968)

<!-- ENGCOM-7815-->

* 重複 `customer.name` 変数が電子メールテンプレートから削除されました。 _プル要求で Pawel Tylek によって送信された修正 [29054](https://github.com/magento/magento2/pull/29054)_. [GitHub-29087](https://github.com/magento/magento2/issues/29087)

<!-- MC-33232-->

* 会社に割り当てられたセールス担当者に送信される通知 E メールに、割り当てられた会社のロゴが含まれるようになりました。 以前は、通知 E メールには、アップロードされた会社のロゴ E メールではなく、デフォルトの LUMA ロゴが含まれていました。

### フレームワーク

<!-- MC-35893-->

* The **データ送信時間** 管理者のフィールド **ストア** > **設定** /一般 > **高度なレポート機能** ページが正しくレンダリングされるようになりました。

<!-- MC-34153-->

* 購入者は、注文リストが複数のページにまたがる場合に、1 ページに表示される注文の数を変更できるようになりました。 以前は、注文の最後のページに移動して、ページごとに表示される注文数を変更しようとすると、アプリケーションがこのメッセージを表示していました。 `You have placed no orders`. これは 2.4.0 の既知の問題です。

<!-- MC-35020-->

* レベル 2 のキャッシュを実装する際に、製品をカテゴリに追加できるようになりました。

<!-- MC-29755-->

* `X-Magento-Tags` ヘッダーが HTTP 仕様で許可されているサイズを超えなくなりました。 以前は、多くの製品を含むカテゴリページでは、 `X-Magento-Tag` 503 エラーを引き起こしたヘッダー。

<!-- MC-34257-->

* `sales_order_shipment_track_save_commit_after` が、REST API を使用して出荷を作成した際に、期待どおりにトリガーされるようになりました。

<!-- MC-33898-->

* 現在は、 `di compile` 依存関係が存在しないため、失敗しました。 以前は、表示されたメッセージは、例外が発生したクラスを識別していませんでした。

<!-- MC-32929-->

* Redis が許可されたすべてのメモリを使用すると、アプリケーションは以下の致命的なエラーをスローしなくなりました。 `report.CRITICAL: OOM command not allowed when used memory > 'maxmemory'`.

<!-- MC-18021-->

* 買い物客が、 `Persistent` モジュールが無効です。 [GitHub-14486](https://github.com/magento/magento2/issues/14486)

### 一般的な修正点

<!-- MC-36048-->

* 管理者での製品の並べ替え (**ストア** > **属性** > **製品**) をクリックすると、検索条件に一致するすべての製品が表示されます。 以前は、アプリケーションにレコードが表示されず、レコードを並べ替えるには、検索結果の最初のページに移動する必要がありました。

<!-- MC-36343-->

* で URL を囲む不要な引用符とエスケープ `tracking.phtml` が削除されました。

<!-- MC-35998-->

* The `var/log/system.log` ユーザーが静的ディレクトリの下の既存でないリソースファイルにアクセスしようとし、SCD OnDemand と実稼働モードが有効になっている場合に、より正確なメッセージが表示されるようになりました。 現在は、404 エラーがログに記録されます。 以前は、開発者モードでエラーが発生した場合に記録されるのと同じメッセージがアプリケーションに記録されていました。

<!-- ENGCOM-7286-->

* JavaScript 縮小が正しく機能するようになりました。 縮小化ファイルリゾルバーは、変数をグローバルスコープに漏れ出さなくなりました。 以前は、 `ctx`, `origNameToUrl`、および `baseUrl` 窓の下の変数が漏れていた。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27622](https://github.com/magento/magento2/pull/27622)_. [GitHub-28110](https://github.com/magento/magento2/issues/28110)

<!-- ENGCOM-7532-->

* オブジェクトの作成を妨げるエラーをデバッグすると、元の例外メッセージが出力され、ログに記録されるようになりました。 以前は、メッセージはログにのみ記録されていました。 _Marvin Hinz がプル要求で提出した修正 [26572](https://github.com/magento/magento2/pull/26572)_. [GitHub-26550](https://github.com/magento/magento2/issues/26550)

<!-- ENGCOM-7577-->

* データベースの変更がコミットされた後のコールバックの実行が改善されました。 以前は、1 つのコールバックが例外で失敗した場合、すべてのコールバックが失敗していました。 _プルリクエストで Alok Patel から送信された修正 [27134](https://github.com/magento/magento2/pull/27134)_. [GitHub-28167](https://github.com/magento/magento2/issues/28167)

<!-- ENGCOM-7447-->

* 依存関係が定義されていないモジュールの Mixin は、次のエラーをスローしなくなりました。 `TypeError: Cannot read property 'map' of null`. _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27690](https://github.com/magento/magento2/pull/27690)_. [GitHub-28340](https://github.com/magento/magento2/issues/28340)

<!-- ENGCOM-7299-->

* ストレージポリフィルが読み込まれ、適用されるのは、次の場合のみです。 `localStorage` または `sessionStorage` は使用できません。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27619](https://github.com/magento/magento2/pull/27619)_. [GitHub-28381](https://github.com/magento/magento2/issues/28381)

<!-- ENGCOM-7610-->

* 複数ページのストアフロント注文リストが、2 番目または後続の結果ページから 1 ページあたりに表示される結果数を変更した場合、期待どおりに動作するようになりました。 以前は、買い物客が **マイアカウント** > **注文** リスト： `You have placed no orders`. _Vadim Malesh がプル要求で提出した修正 [28417](https://github.com/magento/magento2/pull/28417)_. [GitHub-28488](https://github.com/magento/magento2/issues/28488)

<!-- ENGCOM-7565-->

* 非推奨の `addWarning` メソッドは `addWarningMessage` メソッドを使用して、セキュリティモジュールに追加できます。 _プルリクエストで kishorekumarkesavan によって送信された修正 [28264](https://github.com/magento/magento2/pull/28264)_. [GitHub-28308](https://github.com/magento/magento2/issues/28308)

<!-- ENGCOM-7588-->

* を使用して生成されたコード `bin/magento` コマンドラインコマンドが、要件とコーディング規格と一致するようになりました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [28351](https://github.com/magento/magento2/pull/28351)_. [GitHub-28376](https://github.com/magento/magento2/issues/28376)

<!-- MC-33744-->

* ページが複数のストアビューに割り当てられている場合、サイト階層で CMS ページが複数回表示されなくなりました。

<!-- ENGCOM-7511-->

* での属性の保存 `backend_type = static` 現在は、 `frontend_class` フィールドに入力します。 _プルリクエストの jiten-patel によって送信された修正 [27369](https://github.com/magento/magento2/pull/27369)_. [GitHub-27051](https://github.com/magento/magento2/issues/27051)

<!-- ENGCOM-7462-->

* 不要なコードと `responsive.js` は、テーマによって読み込まれたファイルから削除されました。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27617](https://github.com/magento/magento2/pull/27617)_. [GitHub-28811](https://github.com/magento/magento2/issues/28811)

<!-- ENGCOM-7856-->

* 検証が **シンボル数** フィールドに値を入力します。 _プル要求で Eden Duong から送信された修正 [29199](https://github.com/magento/magento2/pull/29199)_. [GitHub-29198](https://github.com/magento/magento2/issues/29198)

<!-- ENGCOM-7999-->

* RSS フィードが正しく読み込まれるようになりました。 以前は、ページが更新された際に期待どおりに読み込まれたが、フィードは初めて読み込まれませんでした。 _Vadim Malesh がプル要求で提出した修正 [29455](https://github.com/magento/magento2/pull/29455)_. [GitHub-25211](https://github.com/magento/magento2/issues/25211)

<!-- MC-35550-->

* 買い物客が再度ログインすると、期限切れの永続的なセッションが期待どおりに更新されるようになりました。

<!-- MC-35230-->

* パスワードの有効期間を **ストア** > **設定** > **詳細** > **管理者** は現在、受け入れられています。 以前は、 **パスワードを忘れた場合** パスワードのリセットを求めるメッセージが表示された場合は、パスワードのリセットを回避できます。

<!-- MC-34369-->

* クーポンコードは、指定した製品にのみ適用されるようになりました。 以前は、アプリケーションでは、クーポンコードが買い物かご内のすべての製品に適用されていました。 [GitHub-28246](https://github.com/magento/magento2/issues/28246)

<!-- MC-35008-->

* 在庫または価格の更新が発生した際に、買い物かごの有効期限設定が再設定されなくなりました。 以前は、買い物かごの有効期限が 24 時間以内に切れ、在庫の更新または価格の更新が発生すると、インデクサーは `updated_at table`：有効期限を再設定します。

<!-- MC-33313-->

* アクティブな買い物かごを持つ顧客を顧客グループに割り当てた場合に、アプリケーションが致命的なエラーをスローすることはなくなりました。

<!-- ENGCOM-7834 -->

* からツールバーオプションを選択する **開発者ツール**  >  **ネットワーク**  （Chrome ブラウザーの実行時に表示される製品ページ）が初期化されなくなりました `toolbar.js` 2 回。 _プル要求で Pawel Tylek によって送信された修正 [28838](https://github.com/magento/magento2/pull/28838)_. [GitHub-25934](https://github.com/magento/magento2/issues/25934)

<!-- ENGCOM-7420-->

* 管理者ユーザーの ACL ロール ID が製品カテゴリツリーのキャッシュ ID に追加されるようになりました。 これにより、範囲が限られた管理者が期待どおりに表示できるカテゴリツリーが制限されます。 _プルリクエストの quangdo-alignent によって送信された修正 [27429](https://github.com/magento/magento2/pull/27429)_. [GitHub-28306](https://github.com/magento/magento2/issues/28306)

### ギフトカード

<!-- MC-36118-->

* ギフトカードアカウントで、注文番号が期待どおりにキャプチャされるようになりました。 以前は、 **詳細情報** 選択したギフトアカウントの「履歴」タブの「注文 ID」が表示されませんでした。

<!-- MC-34519-->

* 小数点区切り文字としてコンマを使用すると、期待どおりに動作するようになりました。 以前は、コンマ区切り文字では 10 進値は無視されていました。

<!-- MC-34469-->

* ミニカートに期待どおりにギフトカードが表示されるようになりました。 以前は、アプリケーションはHTMLオブジェクトをテキストとしてレンダリングしていました。

<!-- MC-33851-->

* クレジットメモは、割引された製品と、ギフトカードと店舗クレジットの組み合わせで支払われた注文の総計を正しく反映するようになりました。

### Google Tag Manager

<!-- MC-33729-->

* アプリケーションで、 **Cookie 制限モード** 設定とGoogle Tag Manager が有効になっている。

### GraphQL

<!-- ENGCOM-7661 7662 7559 MC-35646 32345-->

* 買い物客は、チェックアウト時にギフトメッセージやラッピングのオプションを選択できます。 GraphQLで、様々なタイプの買い物かごアイテムに対するギフトメッセージオプションを利用できるようになりました。 詳しくは、 [`setGiftOptionsOnCart` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/set-gift-options.html) および [`updateCartItems` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-cart-items.html). _Oleh Usik がプル要求で提出した修正 [28519](https://github.com/magento/magento2/pull/28105), [27956](https://github.com/magento/magento2/pull/27956), [28072](https://github.com/magento/magento2/pull/28072), [28072](https://github.com/magento/magento2/pull/28072)、および 246 in private repo partners-magento2ee_. [GitHub-253](https://github.com/magento/magento2/issues/28519)

<!-- ENGCOM-7508 -->

* 顧客とゲストは製品レビューを書くことができます。 また、製品レビュー履歴を取得することもできます。 詳しくは、 [製品レビューの作成](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-product-review.html) および [productReviewRatingsMetadata クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/product-review-ratings-metadata.html) を参照してください。 _プルリクエストで Eduard Chitoraga から送信された修正 [27882](https://github.com/magento/magento2/pull/27882)_. [GitHub-28523](https://github.com/magento/magento2/issues/28523)

<!-- ENGCOM-7800 7841-->

* お客様は、買い物かごに対する報酬ポイントを適用または削除できます。 また、報酬ポイントの履歴も表示できます。 詳しくは、 [`applyRewardPointsToCart`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/apply-reward-points.html) および [`removeRewardPointsFromCart`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-reward-points.html) 買い物かご内の報酬ポイントの管理に関するディスカッション。 _Petkovski Marjan がプルリクエストで送信した修正 285 in private repo partners-magento2ee および Dmitriy Gallyamov in private repo partners-magento2ee でのプルリクエストで 284 および 281 を修正しました。_. [GitHub-28835](https://github.com/magento/magento2/issues/28835), [GitHub-28833](https://github.com/magento/magento2/issues/28833)

<!-- ENGCOM-7968 -->

* The [`addProductsToCart` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-products-to-cart.html) を使用すると、任意のタイプの製品をアクティブな買い物かごに追加できます。 以下のような単一目的の突然変異の代わりに、この突然変異を使用することをお勧めします。 `addSimpleProductsToCart`. _Yaroslav Rogoza がプル要求で提出した Fix [27914](https://github.com/magento/magento2/pull/27914)_. [GitHub-28524](https://github.com/magento/magento2/issues/28524)

<!-- ENGCOM-7801 7816-->

* 関連製品のGraphQLクエリで、ターゲットルールから作成された関連製品の値が返されるようになりました。 以前は、関連製品（アップセルおよびクロスセル）のクエリは、関連製品が製品設定から追加された場合にのみ値を返していました。 _Ulzii がプル要求 288 でプライベートリポジトリパートナーの Magento2ee に送信した修正_. [GitHub-28566](https://github.com/magento/magento2/issues/28566)

<!-- MC-34187-->

* 新しい `availableStores` クエリは、同じ Web サイト（現在のストアに基づく）で使用可能な複数のストアの設定属性のリストを返します。 Web サイトのリストは表示されません。 詳しくは、 [`availableStores` クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/available-stores.html). _プルリクエストで Dmitriy Gallyamov によって送信された修正 [28794](https://github.com/magento/magento2/pull/28794)_. [GitHub-28569](https://github.com/magento/magento2/issues/28569)

<!-- ENGCOM-7512 -->

* GraphQLは、認証トークンのみを使用して、タイプのユーザーとその ID を取得するようになりました。 以前は、GraphQLでは、認証トークンが空の場合に、アクティブな顧客の Cookie を使用してこの情報を取得していました。 _プルリクエストで Alexander Taranovsky によって送信された修正 [27373](https://github.com/magento/magento2/pull/27373)_. [GitHub-28040](https://github.com/magento/magento2/issues/28040)

<!-- ENGCOM-7839 32949-->

* 次の項目が追加されました： [`createCustomerV2`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-customer-v2.html) および [`updateCustomerV2`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-customer-v2.html) 顧客アカウントを管理するための突然変異。 これらの新しい変異は、 `createCustomer` および `updateCustomer` 突然変異。 顧客の電子メールアドレスを変更するには、新しい [`updateCustomerEmail`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-customer-email.html) 突然変異。 _プル要求で Michal l Derlatka によって送信された修正 [28888](https://github.com/magento/magento2/pull/28888)_. [GitHub-28570](https://github.com/magento/magento2/issues/28570)

<!-- ENGCOM-7750 -->

* `updateCustomer` 無効な `INT` 値を `gender` 引数。 _プルリクエストで Alexander Taranovsky によって送信された修正 [28487](https://github.com/magento/magento2/pull/28487)_. [GitHub-28481](https://github.com/magento/magento2/issues/28481)

<!-- ENGCOM-7663 -->

* 以下を使用すると、 `subscribeEmailToNewsletter` ニュースレターを購読する顧客へのミューテーション。 詳しくは、 [`subscribeEmailToNewsletter` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/subscribe-email-to-newsletter.html). _プルリクエストで Alexander Taranovsky によって送信された修正 [27586](https://github.com/magento/magento2/pull/27586)_. [GitHub-27337](https://github.com/magento/magento2/issues/27337)

<!-- ENGCOM-7216 -->

* の冗長ロジックを削除しました。 `setShippingMethodsOnCart` ミューテーションリゾルバー。 _プルリクエストで Alexander Taranovsky によって送信された修正 [27349](https://github.com/magento/magento2/pull/27349)_. [GitHub-28262](https://github.com/magento/magento2/issues/28262)

<!-- ENGCOM-7638 -->

* のテスト対象を追加しました。 `Please provide Email of sender` 関連するエラー `sendEmailToFriend` 突然変異。 _プルリクエストで Alexander Taranovsky によって送信された修正 [28034](https://github.com/magento/magento2/pull/28034)_. [GitHub-28138](https://github.com/magento/magento2/issues/28138)

<!-- ENGCOM-7743 34485-->

* The `products` クエリで、デフォルトのストア表示の製品属性オプションラベルが期待どおりに返されるようになりました。 以前は、このクエリは管理者用に設定された製品属性オプションラベルを返していました。 _プルリクエストで Dmitriy Gallyamov によって送信された修正 [28647](https://github.com/magento/magento2/pull/28647)_. [GitHub-28568](https://github.com/magento/magento2/issues/28568)

<!-- ENGCOM-7743 -->

* カスタム属性の集計で、ストア固有のオプション値が返されるようになりました。 _プルリクエストで Dmitriy Gallyamov によって送信された修正 [28647](https://github.com/magento/magento2/pull/28647)_. [GitHub-28572](https://github.com/magento/magento2/issues/28572)

<!-- ENGCOM-7707 -->

* 製品の集計で返される価格間隔は、数値のみにできるようになりました（ワイルドカードは使用できません）。 _プルリクエストで Dmitriy Gallyamov によって送信された修正 [28745](https://github.com/magento/magento2/pull/28745)_. [GitHub-28628](https://github.com/magento/magento2/issues/28628)

<!-- ENGCOM-7729 -->

* The `categoryList` フラグメントを使用する場合、クエリが正しい応答を返すようになりました。 _プル要求で Ulzii から送信された修正 [28710](https://github.com/magento/magento2/pull/28710)_. [GitHub-28584](https://github.com/magento/magento2/issues/28584)

<!-- ENGCOM-7732 7733-->

* GraphQLの製品検索で、設定済みのカテゴリ権限が考慮されるようになりました。 以前は、製品検索では **有効にする** 設定 (**ストア**  >  **設定**  >  **カタログ**  >  **カタログ** > **カテゴリ権限**) をクリックします。 _プル要求で Petkovski Marjan によって送信された修正 [28757](https://github.com/magento/magento2/pull/28757) プライベートリポジトリでのプル要求 271`partners-magento2ee`_. [GitHub-28563](https://github.com/magento/magento2/issues/28563)

<!-- MC-31084-->

* 次を使用して、製品を買い物かごに追加できるようになりました： `addSimpleProductToCart` （買い物かご内の他の項目が在庫切れになった場合）。 以前は、アプリケーションは次のエラーを返していました。 `Some of the products are out of stock`. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

* デフォルトのGraphQL `Category` メソッドで、カテゴリの位置を期待どおりに並べ替えるようになりました。 _プルリクエストで Derrik Nyomo から送信された修正 [29301](https://github.com/magento/magento2/pull/29301)_. [GitHub-104](https://github.com/magento/catalog-storefront/issues/104)

* ウィッシュリストのサポートをMagento Open Source。 以下が可能です。 [項目を追加](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-products-to-wishlist.html) から [項目を更新](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-products-in-wishlist.html) 内、および [項目を削除](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-products-from-wishlist.html) ウィッシュリストから。 _プル要求で Eduard Chitoraga から送信された修正 [28205](https://github.com/magento/magento2/pull/28205) と 264 はプライベートリポジトリのパートナー —magento2ee_. [GitHub-28551](https://github.com/magento/magento2/issues/28551)

* The [`addProductsToCart` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-products-to-cart.html) を使用すると、任意のタイプの製品をアクティブな買い物かごに追加できます。 以下のような単一目的の突然変異の代わりに、この突然変異を使用することをお勧めします。 `addSimpleProductsToCart`. _Yaroslav Rogoza がプル要求で提出した Fix [27914](https://github.com/magento/magento2/pull/27914)_. [GitHub-28524](https://github.com/magento/magento2/issues/28524)

* GraphQL Vault のサポートを [Payflow Pro Vault](https://devdocs.magento.com/guides/v2.4/graphql/payment-methods/payflow-pro-vault.html) 支払い方法。 _Oleh Usik がプル要求で提出した修正 [28821](https://github.com/magento/magento2/pull/28821)_. [GitHub-28520](https://github.com/magento/magento2/issues/28520)

* GraphQLの更新 [`storeConfig` クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/store-config.html) をクリックして、新しい顧客設定を含めます。 _Oleh Usik がプル要求で提出した修正 [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* 追加された [`resetPassword` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/reset-password.html). _Oleh Usik がプル要求で提出した修正 [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* 追加された [`requestPasswordResetEmail` 突然変異](https://devdocs.magento.com/guides/v2.4/graphql/mutations/request-password-reset-email.html)：指定した電子メールアドレスのパスワードリセット用電子メールをトリガーします。 _Oleh Usik がプル要求で提出した修正 [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Klarna GraphQLに関する議論を [クラルナの支払い方法](https://devdocs.magento.com/guides/v2.4/graphql/payment-methods/klarna.html) および[`createKlarnaPaymentsSession`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-klarna-payments-session.html)

### 画像

<!-- ENGCOM-7691-->

* HTML画像のサムネールマークアップが改善されました。 _プル要求で Tu Nguyen によって送信された修正 [28642](https://github.com/magento/magento2/pull/28642)_. [GitHub-29468](https://github.com/magento/magento2/issues/29468)

### インポート/エクスポート

<!-- MC-35479-->

* The `error_report.csv` ファイルは、コンテンツと共にダウンロードされ、内で利用できるようになりました。 `var/import_history/` ディレクトリが正しく設定されています。 以前は、このファイルはインポート後に生成されませんでした。

<!-- ENGCOM-7616-->

* CSV ファイルを使用して製品を読み込むと、 `error_report.csv` ファイルに書き込みます。 以前は、アプリケーションでファイルが生成されましたが、インポートの完了後に削除されていました。 _Vadim Malesh がプル要求で提出した修正 [28460](https://github.com/magento/magento2/pull/28460)_. [GitHub-28420](https://github.com/magento/magento2/issues/28420)

<!-- ENGCOM-7673-->

* コードベース全体での冗長なクラスインポートを削除しました。 _Oleh Usik がプル要求で提出した修正 [28696](https://github.com/magento/magento2/pull/28696)_. [GitHub-29012](https://github.com/magento/magento2/issues/29012)

<!-- MC-33730-->

* これで、定義された地域を持たない国の地域を含む顧客アドレスが正常にインポートされるようになりました。 以前は、アプリケーションは次のエラーをスローしていました： `Please enter a valid region`.

<!-- MC-33277-->

* 新しいエクスポートをスケジュールする際に、マーチャントがエンティティタイプを選択すると、正しいエンティティ属性セットが読み込まれるようになりました。

<!-- MC-32956-->

* 内の製品の位置 `catalog_category_product` 管理者が管理で製品を作成し、カテゴリに割り当てると、テーブルが期待どおりに更新されるようになりました。 以前は、新しい製品の位置に常に 0 の値が割り当てられていました。

<!-- MC-34939-->

* これで、顧客データが管理者から正常に書き出され、書き出しデータグリッドに、期待どおりに顧客データが表示されます。 以前は、エクスポート中にメモリ割り当てに関連するエラーが発生していました。

<!-- MC-34657-->

* 読み込まれた CSV ファイルで、関連する製品情報が期待どおりに取り込まれるようになりました。 以前は、CSV ファイルを初めて読み込むと、関連する製品情報のアップロードに一貫性がなかった問題を修正しました。

<!-- MC-37424-->

* での未使用の構成パラメーターを削除しました。 `AdvancedPricing.php`. [GitHub-29531](https://github.com/magento/magento2/issues/29531)

### 索引

<!-- ENGCOM-7073-->

* `Magento_CacheInvalidate` で、 `PURGE`. `sendPurgeRequest` 呼び出し元が `implode()`. _プル要求で Matthew O&#39;Loughlin によって提出された修正 [26256](https://github.com/magento/magento2/pull/26256)_. [GitHub-26255](https://github.com/magento/magento2/issues/26255)

<!-- MC-30568-->

* 共有インデクサーのステータスが **valid** 実行後 `bin/magento indexer:status` 再インデックス後。 以前は、共有インデクサーに **無効** 完全な再インデックス後のステータス。

### インフラ

<!-- MC-37243-->

* PHP 7.4.9 を実行するデプロイメントでカタログページと製品ページを読み込む際に問題が発生しなくなりました。 以前は、カタログページと製品ページを読み込もうとすると、アプリケーションが次のエラーをスローしていました。 `There has been an error processing your request. Exception printing is disabled by default for security reasons`. [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-7994-->

* レイアウトが実稼働モードでレンダリングされた際に発生するすべての例外が、例外ログファイル (`var/report`) をクリックします。 以前は、アプリケーションは、これらのメッセージを重要な問題としてシステムログに記録していました。

<!-- ENGCOM-7154-->

* 大きなページで、 `ipcre.backtrack_limi`t および `pcre.recursion_limit` を約1000000に設定します。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27270](https://github.com/magento/magento2/pull/27270)_. [GitHub-26026](https://github.com/magento/magento2/issues/26026)

<!-- ENGCOM-7483-->

* インターセプタの生成が改善されました。 `} else {` ステートメントがインターセプターから削除され、 `array_map` は置き換えられました `foreach`. _Lukasz Bajsarowicz がプル要求で送信した修正 [27902](https://github.com/magento/magento2/pull/27902)_. [GitHub-28383](https://github.com/magento/magento2/issues/28383)

<!-- ENGCOM-7651-->

* クラス全体で配列の作成の一貫性が向上 (`app/code/Magento/Sales/Model/Order/Pdf/Items/Invoice/DefaultInvoice.php`) をクリックします。 _プル要求で Nathan de Graaf によって送信された修正 [28515](https://github.com/magento/magento2/pull/28515)_. [GitHub-28795](https://github.com/magento/magento2/issues/28795)

<!-- ENGCOM-7484-->

* フレームワーク名前空間でのプラグインの禁止のベストプラクティスに従うために、プラグインはフレームワークから移行されました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [27965](https://github.com/magento/magento2/pull/27965)_. [GitHub-27962](https://github.com/magento/magento2/issues/27962)

<!-- ENGCOM-7713-->

* アプリケーションで `Undefined class constant` インターセプターが生成された際にエラーが発生しました。 _プルリクエストで Vova Yatsyuk から送信された修正 [28797](https://github.com/magento/magento2/pull/28797)_. [GitHub-28981](https://github.com/magento/magento2/issues/28981)

<!-- ENGCOM-7523-->

* 既に使用されている名前で統合を保存した場合に、アプリケーションで統合例外がスローされた場合に、フォームデータが保持されるようになりました。 _プルリクエストで Aditya Yadav によって送信された修正 [26660](https://github.com/magento/magento2/pull/26660)_. [GitHub-28143](https://github.com/magento/magento2/issues/28143)

<!-- ENGCOM-7756-->

* アプリケーションが切り捨てられなくなりました `X-Forwarded-For` ヘッダーを 32 文字に設定します。 _プルリクエストで Ihor Sviziev によって送信された修正 [27221](https://github.com/magento/magento2/pull/27221)_. [GitHub-28693](https://github.com/magento/magento2/issues/28693)

<!-- ENGCOM-7820-->

* カスタム管理ドメインを使用する場合、管理でリダイレクトが内部であるかどうかを確認するロジックが正しく機能するようになりました。 以前は、このロジックに関する問題が発生していたため、多くの管理者がデフォルトストアのホームページにリダイレクトされていました。 _Vadim Malesh がプル要求で提出した修正 [29066](https://github.com/magento/magento2/pull/29066)_. [GitHub-28943](https://github.com/magento/magento2/issues/28943)

<!-- ENGCOM-7758-->

* の問題 `styles-old.less` ファイルが削除され、リントでエラーが識別されなくなりました。 _プル要求で Tu Nguyen によって送信された修正 [28895](https://github.com/magento/magento2/pull/28895)_. [GitHub-24004](https://github.com/magento/magento2/issues/24004)

<!-- ENGCOM-7781-->

* `NonComposerComponentRegistration.php` がリファクタリングされました。 _Vitaliy Ryaboy がプル要求で提出した修正 [28975](https://github.com/magento/magento2/pull/28975)_. [GitHub-29308](https://github.com/magento/magento2/issues/29308)

<!-- ENGCOM-7926-->

* `ResourceConnection.php` は、クラスの読みやすさを改善するためにリファクタリングされました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [29341](https://github.com/magento/magento2/pull/29341)_. [GitHub-29389](https://github.com/magento/magento2/issues/29389)

<!-- ENGCOM-7910-->

* 組み込み Web サーバーの README ファイルが更新され、すべてのElasticsearchパラメータが含まれるようになりました。 _Yevhenii Dumskyi がプルリクエストで提出した修正 [29300](https://github.com/magento/magento2/pull/29300)_. [GitHub-29299](https://github.com/magento/magento2/issues/29299)

<!-- ENGCOM-7814-->

* The `Magento\CmsUrlRewrite\Plugin\Cms\Model\Store\View::aftersSave` プラグインは、期待どおりの値を返すようになりました。 以前は、このプラグインは値を返さず、結果としてストア表示を保存するとエラーが発生していました。 _Pieter Hoste がプル要求で送信した修正 [29035](https://github.com/magento/magento2/pull/29035)_. [GitHub-29034](https://github.com/magento/magento2/issues/29034)

<!-- ENGCOM-7566-->

* 次の Magic メソッドのサポートを追加しました。 `DataObject`:

   * サポートする新しい拡張機能 `get/set/has/uns` 魔法の方法（を使って） `__call`)
   * DataObject コンテナにすべての呼び出しを転送する SessionManager のサポート。
   * 拡張機能のテスト対象
   * フィルター済みエラーチェックのテストを更新しました
   * PHPStan チェックレベルを 0 から 1 に増やしました。 _プル要求で Oleksandr Kravchuk によって送信された修正 [27905](https://github.com/magento/magento2/pull/27905)_. [GitHub-28303](https://github.com/magento/magento2/issues/28303)

<!-- ENGCOM-7906-->

* `ScopeConfigInterface` が文字列以外になるようになりました。 制限 `magentoConfigFixture` を文字列に戻すのは、以前のプルリクエストの不注意な結果のみで、元に戻されました。 _Kristof、Foomarn がプル要求で送信した修正 [29305](https://github.com/magento/magento2/pull/29305)_. [GitHub-29345](https://github.com/magento/magento2/issues/29345)

<!-- ENGCOM-8000-->

* The `convertConfigTimeToUtc` メソッドで、 `Phrase` コンストラクタ。 _Kos Rafal がプル要求で提出した修正 [29483](https://github.com/magento/magento2/pull/29483)_. [GitHub-29525](https://github.com/magento/magento2/issues/29525)

<!-- ENGCOM-7962 -->

* 次の場合に、グリッドデータで価格フィルターが期待どおりに機能するようになりました。 `Magento\Backend\Block\Widget\Grid\Column\Filter\Price::getCondition` および `Magento\Backend\Block\Widget\Grid\Column\Filter\Price::getValue()` を含むインデックスを持つ配列を返します。 `from` または `to` 文字列データ。 以前は、アプリケーションは次のエラーをスローしていました： `Notice: A non well formed numeric value encountered in vendor/magento/module-backend/Block/Widget/Grid/Column/Filter/Price.php on line 197`. _Nikita Sarychev がプルリクエストで送信した修正 [29214](https://github.com/magento/magento2/pull/29214)_. [GitHub-29213](https://github.com/magento/magento2/issues/29213)

<!-- ENGCOM-7911 -->

* カテゴリページへのHTMLの追加をサポートする拡張ポイントを追加しました。 これにより、以前のプル要求で発生したバグが修正されます。 _プル要求で iGerchak から送信された修正 [29291](https://github.com/magento/magento2/pull/29291)_. [GitHub-29286](https://github.com/magento/magento2/issues/29286)

### 在庫

<!-- ENGCOM-7979-->

* 不要なコードコメントが次の場所から削除されました： `app/code/Magento/CatalogInventory/Model/StockState.php`. _プルリクエストで Vitaliy Prokopov によって送信された修正 [27758](https://github.com/magento/magento2/pull/27758)_. [GitHub-26702](https://github.com/magento/magento2/issues/26702)

### レイヤーナビゲーション

<!-- MC-25043-->

* レイヤー化されたナビゲーションサイドバーに、両方のオプションを含むブール属性 (**はい**/**いいえ**) および一致する製品数。 以前は、レイヤーナビゲーションで **いいえ** オプションを使用してデプロイメントで使用する Boolean 属性のElasticsearch。

<!-- ENGCOM-7493-->

* スウォッチのレイヤーナビゲーションフィルターが、Adobe Commerce全体で使用される標準フィルターと一致するようになりました。 _プルリクエストで Barttwimej Szubert によって送信された修正 [28015](https://github.com/magento/magento2/pull/28015)_. [GitHub-28011](https://github.com/magento/magento2/issues/28011)

### ログ

<!-- ENGCOM-7692-->

* デプロイメントが開発者モードの場合のみ、壊れたすべての参照エラーがログに記録されるようになりました。 以前は、実稼動モードでデプロイメントに対して 1 つのエラーもログに記録されていましたが、エラーログが膨れ上がりました。 _プルリクエストで Barttwimej Szubert によって送信された修正 [28735](https://github.com/magento/magento2/pull/28735)_. [GitHub-26504](https://github.com/magento/magento2/issues/26504)

### メディアギャラリー

<!-- ENGCOM-8014-->

* メディアギャラリー設定 UI （管理者） **ストア**  >  **設定**  >   **詳細**  >  **システム**) の構成が変更されました。 _プルリクエストで Shankar Konar によって送信された修正 [29433](https://github.com/magento/magento2/pull/29433)_. [GitHub-28011](https://github.com/magento/adobe-stock-integration/issues/1738)

<!-- ENGCOM-7972 -->

* 次の項目を対象とするテストを追加しました。 **使用場所** メディアギャラリー内の画像のリンク。 _プル要求で Nazar Klovanych から送信された修正 [29392](https://github.com/magento/magento2/pull/29392)_. [GitHub-1963](https://github.com/magento/adobe-stock-integration/issues/1693)

<!-- ENGCOM-8006-->

* メディアギャラリーが無効な場合に、商人が製品とその関連画像を保存しようとした際に、アプリケーションが例外をスローしなくなりました。 _プル要求で Nazar Klovanych から送信された修正 [29492](https://github.com/magento/magento2/pull/29492)_. [GitHub-1750](https://github.com/magento/adobe-stock-integration/issues/1750)

### MFTF

<!-- ENGCOM-7963 -->

* The `AdminSubmitAdvancedInventoryFormActionGroup`, `AdminClickOnAdvancedInventoryLinkActionGroup`、および  `AdminSetStockStatusConfigActionGroup` ベストプラクティスに従って、テスト内でアクショングループを使用するようになりました。 _プル要求で Oleh USIA から提出された修正 [29386](https://github.com/magento/magento2/pull/29386)_. [GitHub-29420](https://github.com/magento/magento2/issues/29420)

<!-- ENGCOM-7964 -->

* `SearchProductGridByKeywordActionGroup` が製品グリッドでの検索に使用されるようになりました。 _Oleh Usik がプル要求で提出した修正 [29385](https://github.com/magento/magento2/pull/29385)_. [GitHub-29434](https://github.com/magento/magento2/issues/29434)

<!-- ENGCOM-7915 -->

* `AdminCategoriesClickDoneButtonOnPopupActionGroup` 現在は、クリックできます。 **完了** をクリックします。 _Oleh Usik がプル要求で提出した修正 [28989](https://github.com/magento/magento2/pull/28989)_. [GitHub-29380](https://github.com/magento/magento2/issues/29380)

<!-- ENGCOM-7529 -->

* `LoginToStorefrontActionGroup` は、店舗の顧客ログインに使用される一連のアクションの代わりに使用されるようになりました。 _プルリクエストで Sathish Subramanian によって送信された修正 [28113](https://github.com/magento/magento2/pull/28113)_. [GitHub-28165](https://github.com/magento/magento2/issues/28165)

<!-- ENGCOM-7590 -->

* `AdminUpdateCustomURLRewritesPermanentTest` は、MFTF のベストプラクティスに合わせてリファクタリングされました。 _Kate Kyzyma がプルリクエストで提出した修正 [28361](https://github.com/magento/magento2/pull/28361)_. [GitHub-28393](https://github.com/magento/magento2/issues/28393)

<!-- ENGCOM-7343 -->

* MFTF の規則に合わせてテスト名が変更されました。 _プルリクエストで Evgeny Levinsky から送信された修正 [27839](https://github.com/magento/magento2/pull/27839)_. [GitHub-28305](https://github.com/magento/magento2/issues/28305)

#### 新しいアクショングループ

<!-- ENGCOM-7991 -->

* `StorefrontCheckoutClickNextButtonActionGroup` _Oleh Usik がプル要求で提出した修正 [29472](https://github.com/magento/magento2/pull/29472)_. [GitHub-29539](https://github.com/magento/magento2/issues/29539)

<!-- ENGCOM-7857 -->

* `AdminProductFormSaveActionGroup` _Oleh Usik がプル要求で提出した修正 [29142](https://github.com/magento/magento2/pull/29142)_. [GitHub-29292](https://github.com/magento/magento2/issues/29292)

<!-- ENGCOM-7928 -->

* `AdminSaveCategoryActionGroup` _Oleh Usik がプル要求で提出した修正 [28993](https://github.com/magento/magento2/pull/28993)_. [GitHub-29388](https://github.com/magento/magento2/issues/29388)

<!-- ENGCOM-7790 -->

* `AdminProductGridSectionClickFirstRowActionGroup` _Oleh Usik がプル要求で提出した修正 [29000](https://github.com/magento/magento2/pull/29000)_. [GitHub-29295](https://github.com/magento/magento2/issues/29295)

<!-- ENGCOM-7591 -->

* `AdminProductFormCategoryExistInCategoryListActionGroup` および `AdminProductFormCategoryNotExistInCategoryListActionGroup` _プル要求で Alexander Steshuk によって送信された修正 [28287](https://github.com/magento/magento2/pull/28287)_. [GitHub-28392](https://github.com/magento/magento2/issues/28392)

<!-- ENGCOM-7867 -->

* `AdminExpandCategoryTreeActionGroup` _Oleh Usik がプル要求で提出した修正 [29133](https://github.com/magento/magento2/pull/29133)_. [GitHub-29289](https://github.com/magento/magento2/issues/29289)

<!-- ENGCOM-7881 -->

* `AdminTaxRateGridOpenPageActionGroup` _Oleh Usik がプル要求で提出した修正 [29007](https://github.com/magento/magento2/pull/29007)_. [GitHub-29281](https://github.com/magento/magento2/issues/29281)

<!-- ENGCOM-7868 -->

* `AdminNavigateNewCustomerActionGroup` _Oleh Usik がプル要求で提出した修正 [29134](https://github.com/magento/magento2/pull/29134)_. [GitHub-29287](https://github.com/magento/magento2/issues/29287)

#### 新しいテスト

<!-- ENGCOM-7600 -->

* CMS ページを管理者ユーザーとして削除するためのテストを追加しました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28112](https://github.com/magento/magento2/pull/28112)_. [GitHub-28202](https://github.com/magento/magento2/issues/28202)

* 追加された `StorefrontShareCustomerWishlistActionGroup` 無効な電子メールアドレスでの顧客のウィッシュリスト共有をテストします。 ウィッシュリストの共有の既存のテスト (`StorefrontShareWishlistEntityTest`) はリファクタリングされました。 `StorefrontCustomerShareWishlistActionGroup` は非推奨（廃止予定）となりました。

<!-- ENGCOM-7682 -->

* の実装を確認するテストを追加しました。 **X の左しきい値のみ** 設定を行います。 _Oleh Usik がプル要求で提出した修正 [27549](https://github.com/magento/magento2/pull/27549)_. [GitHub-28755](https://github.com/magento/magento2/issues/28755)

### ニュースレター

<!-- MC-34714-->

* を使用したニュースレター購読者リストの書き出し `Excel XML` オプションを使用すると、すべての行が期待どおりにエクスポートされるようになりました。 以前は、書き出されたデータには、すべての行ではなく、ページネーション値のみが含まれていました。

<!-- ENGCOM-7522-->

* ニュースレターの購読 E メールで、他のHTML関連 E メールと同じニュースレタータグが使用されるようになりました。 _プル要求で Pawel Tylek によって送信された修正 [27357](https://github.com/magento/magento2/pull/27357)_. [GitHub-28166](https://github.com/magento/magento2/issues/28166)

<!-- ENGCOM-7788-->

* ニュースレターの購読者を削除するためのテストを管理者ユーザーとして追加します。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28972](https://github.com/magento/magento2/pull/28972)_. [GitHub-29032](https://github.com/magento/magento2/issues/29032)

<!-- ENGCOM-7739-->

* config ステートメントに禁止オプションが含まれるゲスト向けのニュースレター購読のテストを追加しました。 このテストは、非推奨（廃止予定）の `VerifyRegistredLinkDisplayedForGuestSubscriptionNoTest` および `StorefrontCreateNewSubscriberActionGroup`. _プルリクエストで Dmitry Tsymbal から送信された修正 [28872](https://github.com/magento/magento2/pull/28872)_. [GitHub-29039](https://github.com/magento/magento2/issues/29039)

### 購入回数

<!-- ENGCOM-7858-->

* The `GetAssetIdByContentFieldInterface` そして、その実装 `MediaContent` モジュールで、Adobe Stock統合による拡張が許可されるようになりました。 `MediaGallery` フィルター機能を使用できます。 _Gabriel da Gama がプル要求で提出した Fix [29058](https://github.com/magento/magento2/pull/29058)_. [GitHub-1464](https://github.com/magento/magento2/issues/1464)

<!-- ENGCOM-7885-->

* The `CustomerAddressI` 新しく作成した顧客の値が引用符で囲んで検証されるようになりました。 _Andrii Kalinich がプル要求で提出した Fix [29139](https://github.com/magento/magento2/pull/29139)_. [GitHub-28793](https://github.com/magento/magento2/issues/28793)

<!-- ENGCOM-7798-->

* 合計がゼロのクレジット・メモのオーダー・ステータスは、現在は次のとおりです。 `Closed`. 以前は、申し込みによって、注文ステータスが次のようにレポートされていました： `Complete`. _Andrii Kalinich がプル要求で提出した Fix [29023](https://github.com/magento/magento2/pull/29023)_. [GitHub-22762](https://github.com/magento/magento2/issues/22762)

### Page Builder

<!-- ENGCOM-7918-->

* The `description` および `short_description` 製品属性は、Page Builder コンテンツのステージングに対する計画的な変更に合わせて、順序を変更し直しました。 _プル要求で Matt Walters から送信された修正 [29238](https://github.com/magento/magento2/pull/29238)_. [GitHub-543](https://github.com/magento/magento2-page-builder/issues/543)

### 支払い方法

<!-- MC-34363-->

* クリック時に必須のクレジットカードデータを入力するよう求めるメッセージがアプリケーションに表示されるようになりました。 **送信** 有効な支払い情報を入力せずに管理注文の場合。 以前は、Braintreeカードバリデーターは、支払い入力フィールドが無効で、ページが非アクティブになった場合にエラーをスローしませんでした。

<!-- MC-33494-->

* アカウントにクレジットカード (Braintree) が保存されている顧客に対して、管理者から作成する注文の発送方法を変更できるようになりました。 以前は、別の発送方法を選択した場合、保存されたカードは選択されず、申し込みは注文を行いませんでした。

#### PayPal

<!-- MC-33879-->

* チェックアウトワークフローの「注文のレビュー」ページに、Braintree中に発送方法が変更された注文を通じて、PayPal の正しい発送金額が表示されるようになりました。 以前は、顧客がチェックアウトワークフローの PayPal 注文レビューページで発送方法を変更した場合、アプリケーションは正しい方法で注文合計を更新しませんでした。

<!-- MC-34152-->

* PayPal を使用して認証された注文を正常にキャンセルできるようになりました。 以前は、アプリケーションは注文をキャンセルせず、次のエラーを表示していました。 `Declined: 10601-Authorization has expired`.

<!-- MC-33330-->

* 別の注文を完了した後に PayPal の支払いポップアップウィンドウを閉じて注文をキャンセルした場合、アプリケーションが買い物かごを空にすることはなくなりました。

### パフォーマンス

* 3 つの新しい設定で、コンシューマーキューの CPU 消費の減少をサポートします。 これらのオプションのパラメーターを使用すると、消費者の制御を強化し、サーバーリソースを節約できます。 詳しくは、 [メッセージキューの設定](https://developer.adobe.com/commerce/php/development/components/message-queues/configuration/) の説明 `maxIdleTime`, `sleep`、および `onlySpawnWhenMessageAvailable` パラメーター。

<!-- MC-31617-->

* プラグインリストの設定が、 `di:compile` コマンドを使用します。 この設定情報は、範囲に基づいて、生成されたメタデータフォルダに書き込まれます。 以前は、この情報はキャッシュに保存されていました。 その結果、次のようなパフォーマンスの向上が実現します。

   * ネットワークキャッシュのサイズが減少しました
   * 多くのシナリオの実行時間が改善されました。

<!-- ENGCOM-7290-->

* アプリケーションが適切なスライダーウィジェットをオンデマンドで読み込むようになり、ページの読み込みが改善されました。 タッチスライダーウィジェットのカスタマイズは、互換性のあるデバイスにのみ読み込めるように、別のファイルに移動されました。 範囲のバインディングが実際にページで使用されている場合にのみ、適切なスライダーウィジェットタイプが読み込まれるようになりました。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27616](https://github.com/magento/magento2/pull/27616)_. [GitHub-28807](https://github.com/magento/magento2/issues/28807)

<!-- MC-33107-->

* 複数の注文を同時に含むチェックアウトのパフォーマンスが向上しました。

<!-- MC-25062-->

* 読み込みプロセスが一括挿入を実行し、再インデックスプロセスが select から大きな挿入を同時に実行する場合、デッドロックは発生しなくなりました。 以前は、アプリケーションで次のエラーが表示されていました。 `PDOException: SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock`. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

### 返品認証 (RMA)

<!-- MC-35984-->

* 返品認証 (RMA) の発送ラベルを作成した後、返品ページが期待どおりに機能するようになりました。 以前は、RMA の送料ラベルを作成した後、マーチャントは返品ページのページ要素を操作できませんでした。 これは 2.4.0 の既知の問題で、 `MC-35984-2.4.0-CE-composer.patch` この問題は 2.4.0 で対処しました。

<!-- MC-35826-->

* 権限が制限された管理者が、割り当てられた Web サイトの範囲にない製品の返却を作成しようとすると、情報エラーメッセージまたは使用可能なすべての製品が表示されるようになりました。 以前は、アプリに空白のページが表示されていました。

### レビュー

<!-- MC-33405-->

* の一意のキー `entity_pk_value-entity_type-store_id` が `review_entity_summary` テーブルに格納され、同じ製品 ID (`entity_pk_value`) をクリックします。 以前は、一意のキーがないため、同じ製品 ID と SQL エラーで行が重複していました。

### セールス

<!-- MC-35675-->

* アプリケーションは、 `Complete` 支払いがゼロの注文に請求後。

<!-- MC-35888-->

* REST API で生成された新しい出荷 E メールに、管理者から手動で作成された出荷と同じ出荷および顧客情報が含まれるようになりました。 以前は、この E メールには、顧客名、トラッキング情報、注文された製品、その他の注文情報は含まれていませんでした。

<!-- MC-35837-->

* E メールが管理者から読み込まれたりカスタマイズされたりした場合、ゲストユーザー名が請求書関連および出荷関連の E メールで期待どおりに表示されるようになりました。

<!-- MC-35707-->

* PDFの請求書が、注文が行われた店舗表示の言語に翻訳されるようになりました。 以前は、PDFの請求書は管理者の言語で翻訳されていました。

<!-- MC-35858-->

* クレジットメモページから期待どおりに払い戻しを行うことができるようになりました。 [GitHub-29014](https://github.com/magento/magento2/issues/29014)

<!-- MC-35353-->

* ストアフロントの注文ページに表示されるローカライズされた地域名が、正しく翻訳されるようになりました。 以前は、地域名は、Admin で編集されない限り、指定されたロケールに基づいていませんでした。

<!-- MC-35633-->

* 「 」POSTで作成された出荷 `/rest/V1/shipment` エンドポイントで、注文が正しく更新されるようになりました。 以前は、アプリケーションで出荷が作成されましたが、出荷ステータスは処理状態のままでした。

<!-- ENGCOM-7639 -->

* クレジットメモに、注文がおこなわれた店舗の範囲から派生した支払い方法が表示されるようになりました。 以前は、クレジットメモには、デフォルトのストア範囲で定義された名前が表示されていました。 _プル要求で Ledian Hymetlari によって送信された修正 [27582](https://github.com/magento/magento2/pull/27582)_. [GitHub-27570](https://github.com/magento/magento2/issues/27570)

### 検索 {#search-heading}

<!-- MC-31304-->

* クイック検索を使用して、管理者の顧客ビューから属性別に製品を検索できるようになりました。 以前は、カタログ検索結果ページで例外が発生していました。

<!-- MC-32518-->

* 製品属性を追加した後、カテゴリページに設定可能な製品が期待どおりに表示されるようになりました。

<!-- MC-33952-->

* Elasticsearchの結果に、各ストアビューの属性オプションに対する正しい値が含まれるようになりました。 ドロップダウン属性または複数選択属性が、デフォルトのストア表示とは異なるデフォルト以外のストア表示のオプション値を持つ場合、Elasticsearchは、その値のインデックスを作成するか、その値を結果に返します。 以前は、Elasticsearchは、その値のインデックスを作成しなかったか、結果にその値を含む製品を返していました。

<!-- MC-35013-->

* SKU による検索が、Elasticsearchでの詳細検索で期待どおりに動作するようになりました。 以前は、SKU で検索しようとすると、次のエラーメッセージが表示されていました。 `We can't find any items matching these search criteria. Modify your search`.

<!-- ENGCOM-7222-->

* 詳細検索では、買い物客が否定的な価格をフィルタリングできなくなりました。 _プルリクエストで Rohan Hapani によって送信された修正 [27359](https://github.com/magento/magento2/pull/27359)_. [GitHub-27358](https://github.com/magento/magento2/issues/27358)

<!-- ENGCOM-7917-->

* 「新規シノニム・グループ」フォームで、スコープ値が期待どおりにリセットされるようになりました。 _プルリクエストで Sathish Subramanian によって送信された修正 [29206](https://github.com/magento/magento2/pull/29206)_. [GitHub-28947](https://github.com/magento/magento2/issues/28947)

### 送料

<!-- MC-34734-->

* アップグレード後に出荷表レートが正しく計算されるようになりました。 以前は、送料表のレートは純価格に基づいて計算され、VAT は除外されていました。

<!-- MC-35955-->

* 複数のアドレスをチェックアウトする場合に、チェックアウトワークフローの注文レビューページで報酬ポイントを正常に削除できるようになりました。 以前は、アプリケーションが `404 Not Found` 顧客が **削除** ボタンを使用して、任意のアドレスのポイントを削除します。 これは 2.4.0 での既知の問題です。

<!-- MC-33737-->

* 発送方法として FedEx を指定する注文に対して、チェックアウトワークフローで、発送レートが正しい通貨で表示されるようになりました。

<!-- MC-33267-->

* 複数ページのPDFで、UPS によって出荷された注文の発送ラベルが正しいカウントで表示されるようになりました。

<!-- MC-35514-->

* パッケージの作成ページの JavaScript コンポーネントに関する問題が解決されました。 以前は、 **発送ラベルを作成** チェックボックスをオンにし、既存の注文の送付ラベルを作成できませんでした。

### サイトマップ

<!-- ENGCOM-7924-->

* のサイトマップ `robots.txt` がストア固有になりました。 _Vadim Malesh がプル要求で提出した修正 [29331](https://github.com/magento/magento2/pull/29331)_. [GitHub-28901](https://github.com/magento/magento2/issues/28901)

<!-- MC-34617-->

* エンコードされた値は、 `sitemap.xml` ファイル。 以前は、エンコードされた文字を製品名や画像のタイトルに含めた場合、生成されたサイトマップは無効でした。

### ステージング

<!-- MC-36458-->

* The **製品を新規に設定** 製品の詳細ページとスケジュールされた更新ページで、属性ラベルが期待どおりに表示されるようになりました。

<!-- MC-34484-->

* これで、CMS ブロックのステージングスケジュールを正常にプレビューできるようになりました。 以前は、アプリケーションは致命的なエラーをスローしていました。

<!-- MC-33789-->

* CMS ページをスケジュールされた更新で編集する際に、CMS プレビューページにアクセスし、デフォルトのストアから別のストアに再割り当てできるようになりました。 以前は、プレビューリンクをクリックすると、アプリケーションが 404 エラーをスローしていました。

<!-- MC-33572-->

* これで、POST `/V1/products/special-price` 商品の特別価格を指定せずに更新する `price_to` パラメーター値。 以前は、は、 `price_to` 指定されたパラメーターは失敗しました。

### ストア

<!-- MC-35853-->

* 以前に作成したストア表示を削除しても、分割データベース設定を含むデプロイメントでエラーが発生しなくなりました。 以前は、アプリケーションは例外をスローしていました。

<!-- MC-32634-->

* これで、 `config.php` 複数の web サイトのデプロイメントの 2 つ目の web サイトにアプリケーションをインストールして設定するための、ある web サイトのデフォルトの web サイトコード。 以前は、書き出し後、デフォルトのストアとビューは表示されなくなり、ストアフロントでエラーが発生していました。

### Swagger

<!-- ENGCOM-7720-->

* Swagger でカスタマートークンを生成できるようになりました。 以前は、有効な顧客アクセス情報が入力されても Swagger が応答コードを生成せず、アプリケーションが次のエラーを表示していました。 `The account sign-in was incorrect or your account is disabled temporarily. Please wait and try again later`. _Vadim Malesh がプル要求で提出した修正 [28822](https://github.com/magento/magento2/pull/28822)_. [GitHub-27098](https://github.com/magento/magento2/issues/27098)

### スウォッチ

<!-- ENGCOM-7845-->

* スウォッチを使用した設定可能な製品で、買い物客がクリックする際に階層別の価格が表示されるようになりました。 **編集** を買い物かごに入れます。 以前は、アプリケーションでは、チェックアウト前に買い物かごに価格帯が表示されませんでした。 _プルリクエストで Sathish Subramanian によって送信された修正 [29137](https://github.com/magento/magento2/pull/29137)_. [GitHub-28270](https://github.com/magento/magento2/issues/28270)

<!-- MC-33147-->

* 設定可能な製品バリエーションで、アプリケーションに期待どおりに階層価格が表示されるようになりました。

### TargetRule

<!-- MC-36162-->

* 次の条件下での製品ページのパフォーマンスが向上しました。

   * ターゲットルールモジュールがインストールされている
   * リンクされた製品機能（関連、アップセル、クロスセルの製品）が実装されます。

### 税

<!-- MC-36049-->

* 商人が製品の属性セットから割り当てを解除した後、製品のストアフロントに固定製品税属性が表示されなくなりました。

### テスト

<!-- ENGCOM-7874-->

* 単体テストで PHPUnit 9 のエラーが修正されました。 _Anton Evers がプル要求で提出した修正 [29244](https://github.com/magento/magento2/pull/29244)_. [GitHub-29329](https://github.com/magento/magento2/issues/29329)

<!-- ENGCOM-7995-->

* 期限切れ以降に発注された割引を使用して発注を承認するための単体テストを追加しました。このテストでは、注文額は全額になり、発注の合計は更新されません。 _Joan He がプル要求で提出した Fix [18](https://github.com/magento/partners-magento2-infrastructure/pull/18)_. [GitHub-204](https://github.com/magento/partners-magento2b2b/issues/204)

<!-- ENGCOM-8003-->

* `SynchronizeFilesInterface` は、統合テストの対象となりました。 _プル要求で jmonteros422 によって送信された修正 [29493](https://github.com/magento/magento2/pull/29493)_. [GitHub-1742](https://github.com/magento/magento2/issues/1742)

<!-- ENGCOM-8009-->

* に関数が追加されました。 `\Magento\TestFramework\TestCase\WebapiAbstract` これにより、テストでの期待される結果と実際の結果の大きなネストされた配列の比較が可能になり、テスト担当者は実際の結果での無関係なキーを無視できます。 _プル要求で Jekabs から送信された修正 [29458](https://github.com/magento/magento2/pull/29458)_. [GitHub-29498](https://github.com/magento/magento2/issues/29498)

<!-- ENGCOM-7887 -->

* 期待値の反転を `app/code/Magento/Newsletter/Test/Unit/Model/SubscriptionManagerTest.php`. _Lukasz Bajsarowicz がプル要求で送信した修正 [29271](https://github.com/magento/magento2/pull/29271)_. [GitHub-29283](https://github.com/magento/magento2/issues/29283)

<!-- ENGCOM-7886 -->

* 使用 `ObjectManager` テスト中のクラスのインスタンス化のためのは、単体テストの新しいキーワードに置き換えられました。 _Lukasz Bajsarowicz がプル要求で送信した修正 [29272](https://github.com/magento/magento2/pull/29272)_. [GitHub-29346](https://github.com/magento/magento2/issues/29346)

<!-- ENGCOM-7593 -->

* これらのケースでのテスト対象を追加しました。 `updateCustomer` ミューテーション：生年月日が無効、E メールアドレスが無効、および顧客の姓が空です。 _プルリクエストで Alexander Taranovsky によって送信された修正 [28304](https://github.com/magento/magento2/pull/28304)_. [GitHub-28394](https://github.com/magento/magento2/issues/28394)

<!-- MC-30844-->

* The `ApiFunctional TestFramework` GraphQLクライアントがヘッダーを正しく解析するようになりました。 [GitHub-26425](https://github.com/magento/magento2/issues/26425)

### テーマ

<!-- MC-34397-->

* ユーザーエージェントルールに追加されたテーマは、を実行したときに期待どおりに影響を受けるようになりました。 `bin/magento catalog:images:resize`. 以前は、ストアに割り当てられたテーマのみが影響を受けていました。 `bin/magento catalog:images:resize` が実行された。

### 翻訳とロケール

<!-- MC-20372-->

* 管理者が **日付** フィールドは、管理製品の作成時に入力するか、管理ロケールが中国語または日本語の場合に保存します。 [GitHub-24696](https://github.com/magento/magento2/issues/24696)

<!-- ENGCOM-7829-->

* 現在は、アプリケーションは領域 ( フロントエンドまたは `adminhtml`) をクリックしてから、インライン翻訳マークアップをレンダリングします。 以前は、 `/rest/V1/integration/admin/token` インライン翻訳が有効な際に無効な資格情報を持つと、API 応答のエラーメッセージの周囲にインライン翻訳マークアップが含まれます。 _Zach Nanninga がプル要求で提出した修正 [28856](https://github.com/magento/magento2/pull/28856)_. [GitHub-28656](https://github.com/magento/magento2/issues/28656)

<!-- ENGCOM-7536-->

* ブルガリアの地域が `directory_country_region` 表。 _Nikola Lardev がプル要求で提出した修正 [27957](https://github.com/magento/magento2/pull/27957)_. [GitHub-28215](https://github.com/magento/magento2/issues/28215)

<!-- ENGCOM-7535-->

* 管理者のタイトルとボタン **顧客**  >  **新しいアドレスを追加** および **製品を編集**  >  **高度な在庫** モデルを翻訳できるようになりました。 _プルリクエストで Sathish Subramanian によって送信された修正 [28174](https://github.com/magento/magento2/pull/28174)_. [GitHub-28201](https://github.com/magento/magento2/issues/28201)

<!-- ENGCOM-7521-->

* FPT という用語は、管理者で翻訳できるようになりました  **ストア**  > **設定**  > **セールス**  > **税**  > **固定製品税**. _Vadim Malesh がプル要求で提出した修正 [28108](https://github.com/magento/magento2/pull/28108)_. [GitHub-5477](https://github.com/magento/magento2/issues/5477)

<!-- ENGCOM-7631 -->

* The **ここに発送** チェックアウトワークフローの配送先住所モーダルのボタンラベルが、他のボタンで使用されるキャメルケースに合わせて変更されました。 この場合、翻訳ファイルで使用されているときと一致するようになりました。 以前は、ケースの不一致のため、このラベルは翻訳されませんでした。 _WK がプル要求で送信した修正 [28547](https://github.com/magento/magento2/pull/28547)_. [GitHub-28685](https://github.com/magento/magento2/issues/28685)

### UI

<!-- ENGCOM-7514-->

* 「プライバシーと Cookie のポリシー」ページが表示されると、ページフッターのプライバシーと Cookie のポリシーリンクがアクティブなリンクとして表示されるようになりました。 _プルリクエストで Sathish Subramanian によって送信された修正 [28004](https://github.com/magento/magento2/pull/28004)_. [GitHub-27985](https://github.com/magento/magento2/issues/27985)

<!-- MC-36260-->

* 管理者から選択した注文に関連付けられた請求書の「請求書コメント」テキスト領域のカーソルの位置がずれる問題を修正しました。 **セールス** > **購入回数**.

<!-- MC-36044-->

* 新しい注文を作成ページが表示されます。 **SKU 別の製品の追加** および **製品を追加** ボタンが期待どおりに表示されます。

<!-- MC-35974-->

* 選択した製品に対して製品評価が使用可能な場合、アプリケーションで「レビューを編集」ページが正しく表示されるようになりました。

<!-- MC-35475-->

* Safari を実行しているiPhoneで、管理者ユーザー編集ページが正しく表示されるようになりました。

<!-- MC-35370-->

* 「新しい注文を作成」ページで不要なスクロールを修正しました。

<!-- MC-35345-->

* を直接クリックする **税率のエクスポート** 「新規税務処理基準の追加」ページのボタン (**ストア**  >  **税務処理基準**) をダウンロードします。 `tax_rates.csv` ファイルに書き込みます。 以前は、商人は **税率のエクスポート** 」ボタンをクリックします。 これは 2.4.0 での既知の問題です。

<!-- MC-35313-->

* The **買い物かごへの選択の追加** ボタンが期待どおりに動作するようになりました。 これは 2.4.0 での既知の問題です。

<!-- MC-35296-->

* The **更新** ボタン **最近表示した製品** 」セクションが正常に機能するようになりました。 以前は、 **更新**、製品リストが更新されず、ページがスクロールされました。

<!-- MC-35412-->

* の「条件」タブで顧客の生年月日を選択するためのカレンダーアイコンが正しく表示されるようになりました。 **顧客** > **セグメント** > **セグメントを追加**.

<!-- MC-35658-->

* 買い物客が Internet Explorer 11.x 上でこのページをスクロールしたときに、チェックアウトワークフローのチェックアウト概要セクションがちらつくことがなくなりました。

<!-- MC-34602-->

* ストアフロントのカテゴリページに SKU 順のウィジェットが正しく表示されるようになりました。 以前は、このHTMLのウィジェットコードはレンダリングされず、アプリケーションに **SKU のリストの読み込み** リンク。

<!-- MC-37444-->

* を使用して無効にされた UI コンポーネント `this.disabled(true)` ストアフロントには表示されなくなりました。 [GitHub-29098](https://github.com/magento/magento2/issues/29098)

<!-- ENGCOM-7264-->

* 最近表示された製品ウィジェットがモバイル表示で正しく表示されるようになりました。 _プル要求で Tu Nguyen によって送信された修正 [27572](https://github.com/magento/magento2/pull/27572)_. [GitHub-27058](https://github.com/magento/magento2/issues/27058)

<!-- ENGCOM-7575-->

* 管理者からの製品の位置の変更が、ストアフロントの製品の位置に反映されるようになりました。 _Oleg Aleksin がプル要求で提出した修正 [28150](https://github.com/magento/magento2/pull/28150)_. [GitHub-28149](https://github.com/magento/magento2/issues/28149)

<!-- ENGCOM-7507-->

* ログインフォームのスタイルが、「空白」テーマ内の他のフォームのスタイルと一致するようになりました。 コンテナコントロールの折り返し入力フィールドの幅を設定する不要なスタイルが削除されました。 _プル要求で Tu Nguyen によって送信された修正 [28084](https://github.com/magento/magento2/pull/28084)_. [GitHub-28059](https://github.com/magento/magento2/issues/28059)

<!-- ENGCOM-7578-->

* The **OK** 「 」ボタンをクリックして、製品の削除を確認するミニカートのポップアップが期待どおりに動作するようになりました。 _プル要求で Tu Nguyen によって送信された修正 [28083](https://github.com/magento/magento2/pull/28083)_. [GitHub-27095](https://github.com/magento/magento2/issues/27095)

<!-- ENGCOM-7456-->

* ページの読み込み中に製品ギャラリー要素が点滅しなくなりました。 _プルリクエストで Mateusz Krzeszowiak から送信された修正 [27871](https://github.com/magento/magento2/pull/27871)_. [GitHub-28339](https://github.com/magento/magento2/issues/28339)

<!-- ENGCOM-8007-->

* フィールドの幅を制御する CSS クラスが、管理者全体の開始時間要素に対して期待どおりに適用されるようになりました。 _プルリクエストで Shankar Konar によって送信された修正 [29511](https://github.com/magento/magento2/pull/29511)_. [GitHub-29496](https://github.com/magento/magento2/issues/29496)

<!-- ENGCOM-7992-->

* 「利用条件」テキストラベルに長いテキスト文字列を正しく表示できるようになりました。 _プルリクエストで Barttwimej Szubert によって送信された修正 [29413](https://github.com/magento/magento2/pull/29413)_. [GitHub-24060](https://github.com/magento/magento2/issues/24060)

<!-- ENGCOM-7967-->

* 注文エラーページのタイトルは、正確性を考慮して書き換えられました。 以前は、買い物客が注文をキャンセルすると、アプリケーションに次のタイトルのページが表示されていました。 `We received your order!`. _Angelo Romano がプル要求で提出した修正 [29410](https://github.com/magento/magento2/pull/29410)_. [GitHub-29416](https://github.com/magento/magento2/issues/29416)

<!-- ENGCOM-7770-->

* キャンセルされた注文ビューページで、キャンセルされた注文ビューページのキャンセルされた項目の総数が正しく識別されるようになりました。 以前は、このフィールドには次のラベルが付いていました： **合計期限**. _Madhu Rajawat がプル要求で提出した修正 [27516](https://github.com/magento/magento2/pull/27516)_. [GitHub-26191](https://github.com/magento/magento2/issues/26191)

<!-- ENGCOM-7579 -->

* 設定可能な製品を作成ページの切り替えボタンが期待どおりに動作するようになりました。 _プル要求で Tu Nguyen によって送信された修正 [28032](https://github.com/magento/magento2/pull/28032)_. [GitHub-22702](https://github.com/magento/magento2/issues/22702)

<!-- ENGCOM-7579 -->

* [ 高度な属性プロパティ ] ページの高度な属性プロパティブロックアイコンが、期待どおりに動作するようになりました。 _プル要求で Tu Nguyen によって送信された修正 [28032](https://github.com/magento/magento2/pull/28032)_. [GitHub-26022](https://github.com/magento/magento2/issues/26022)

<!-- ENGCOM-7619 -->

* 新しいモジュールの設定を保存しようとすると、システム設定ページの「管理者」セクションが展開され、必須フィールドが期待どおりに表示されるようになりました。 _プルリクエストで Barttwimej Szubert によって送信された修正 [28285](https://github.com/magento/magento2/pull/28285)_. [GitHub-26427](https://github.com/magento/magento2/issues/26427)

<!-- ENGCOM-7826 -->

* mode がに設定されている場合の虫めがねの動作を修正しました。 `inside`. _Sean van Zuidam がプル要求で提出した Fix [29077](https://github.com/magento/magento2/pull/29077)_. [GitHub-29076](https://github.com/magento/magento2/issues/29076)

<!-- ENGCOM-7010 -->

* 買い物客がページフッターの「購読」フィールドに無効な電子メールアドレスを入力した場合に生じる、長い入力フィールドの幅を修正しました。 _プルリクエストで Dipesh Rangani によって送信された修正 [27106](https://github.com/magento/magento2/pull/27106)_. [GitHub-27099](https://github.com/magento/magento2/issues/27099)

<!-- ENGCOM-7972 -->

* An `Uncaught ReferenceError` 新しいタグを追加し、その上にマウスカーソルを移動すると、開発コンソールにエラーが表示されなくなりました。 _プル要求で Nazar Klovanych から送信された修正 [29392](https://github.com/magento/magento2/pull/29392)_. [GitHub-1700](https://github.com/magento/magento2/issues/1700)

<!-- ENGCOM-7635-->

* 未使用の `AdminAnalytics` テスト (`TrackingScriptTest`) をクリックします。 _Lukasz Bajsarowicz がプル要求で送信した修正 [28605](https://github.com/magento/magento2/pull/28605)_. [GitHub-28850](https://github.com/magento/magento2/issues/28850)

<!-- ENGCOM-7142 -->

* 連続したテストを実行する際の静的プロパティのシリアル化とシリアル化解除に関する問題が解決されました。 _Pavel Bystritsky がプル要求で提出した Fix [26175](https://github.com/magento/magento2/pull/26175)_. [GitHub-28319](https://github.com/magento/magento2/issues/28319), [GitHub-29313](https://github.com/magento/magento2/issues/29313)

### URL の書き換え

<!-- MC-34483-->

* ストアビューを別の Web サイトに移動しても、URL がリセットされなくなりました。 以前は、アプリケーションが誤って CMS と製品 URL を書き換えました。

* これで、CMS ブロックのステージングスケジュールを正常にプレビューできるようになりました。 以前は、アプリケーションは致命的なエラーをスローしていました。

<!-- MC-33028-->

* ストア表示が別のストアに割り当てられた場合、アプリケーションは既存のカタログ URL を期待どおりに書き換えるようになりました。 以前は、アプリケーションはストア固有の URL の書き換えを削除していました。

### ワニス

<!-- ENGCOM-7761-->

* Vanish を再起動しても、503 エラーは発生しなくなりました。 _プルリクエストで Ihor Sviziev によって送信された修正 [28137](https://github.com/magento/magento2/pull/28137)_. [GitHub-24353](https://github.com/magento/magento2/issues/24353)

### Vault

<!-- MC-34674-->

* アプリケーションは、 **後で使用するために保存** チェックアウトワークフローの「支払い」セクションのチェックボックスが選択されていない。

### Visual Merchandiser

<!-- MC-35574-->

* Visual Merchandiser で製品を並べ替え、「在庫」が有効になっている場合、デフォルトの製品在庫ではなくソース在庫がアプリケーションに表示されるようになりました。

### Web API フレームワーク

<!-- MC-36084-->

* REST を使用して作成された請求書に、管理で作成された請求書と同様のギフトカード情報が含まれるようになりました。 以前は、POST `/V1/order/:id/invoice` 注文を請求する際に、ギフトカードコードまたはギフトカードの金額が表示されませんでした。

<!-- MC-35838-->

* 複数の Web サイトを持つマーチャントが、REST API を使用して製品を作成および更新できるようになりました。画像や画像ロールの継承も維持されます。 以前は、マーチャントが REST API を使用して製品を作成および更新し、ストア表示用に製品を更新した場合、そのストア表示用にデフォルトの画像ロールが読み込まれて保存されていました。 その結果、ストアビュー画像の役割は、更新後にデフォルトの範囲からの継承を停止しました。

<!-- MC-36419-->

* リソース権限でアクセスが許可されている場合、範囲を指定しない統合ユーザーアカウントが REST API を通じてリソースにアクセスできるようになりました。

<!-- MC-35975-->

* 設定可能な製品の作成中に使用される製品属性に対して、検索条件フィルターが期待どおりに機能するようになりました。 [GitHub-29126](https://github.com/magento/magento2/issues/29126)

<!-- ENGCOM-7785 -->

* 顧客グループ ID がPOST用に検証されました `/rest/V1/customers` リクエスト。 以前は、無効な `group_id` 」と入力します。 _Vadim Malesh がプル要求で提出した修正 [28903](https://github.com/magento/magento2/pull/28903)_. [GitHub-28064](https://github.com/magento/magento2/issues/28064)

<!-- ENGCOM-7611 -->

* PHP セッションは、匿名の REST 呼び出しに対しては、デフォルトでは作成されません。 以前は、不要な場合でもセッションが開始されていました。 _プルリクエストで Maciej Pawwwowski によって送信された修正 [26032](https://github.com/magento/magento2/pull/26032)_. [GitHub-7213](https://github.com/magento/magento2/issues/7213)

<!-- ENGCOM-7612 -->

* 様々な REST エンドポイントを使用してカスタムオプションを含む注文を更新しても、カスタムオプション情報は削除されなくなりました。 以前は、 `info_buyRequest` が削除されました。 _Vadim Malesh がプル要求で提出した修正 [28483](https://github.com/magento/magento2/pull/28483)_. [GitHub-22431](https://github.com/magento/magento2/issues/22431)

<!-- ENGCOM-7665 -->

* GETの使用 `V1/customers/me` 今度は **顧客アカウントの共有**  設定（管理者） **ストア** >  **設定**  >  **顧客**  >  **顧客設定**  > **アカウント共有オプション**) を使用して、ユーザー情報を取得できます。 _Pavel Bystritsky がプル要求で提出した Fix [28213](https://github.com/magento/magento2/pull/28213)_. [GitHub-26089](https://github.com/magento/magento2/issues/26089)

<!-- ENGCOM-7563 -->

* アドレス関連の拡張属性は、データ配列として設定できます。 以前は、を含むPOSTリクエストが発生すると、アプリケーションがエラーをスローしていました  `extension_attributes` は次の場所に送信されました： `estimate-shipping-methods`. 以前のコミットで導入されたこのバグは、 `Magento\Quote\Api\Data\AddressInterface` それは物ではなかった。 _プル要求で Alexander Menk によって送信された修正 [27338](https://github.com/magento/magento2/pull/27338)_. [GitHub-26682](https://github.com/magento/magento2/issues/26682)

<!-- ENGCOM-7618 -->

* PUT `V1/customers/:id` endpoint. 以前は、エンドポイントでは、顧客の E メールや、顧客の作成に必要なその他のフィールドを指定する必要がありました。 _Vadim Malesh がプル要求で提出した修正 [28332](https://github.com/magento/magento2/pull/28332)_. [GitHub-21237](https://github.com/magento/magento2/issues/21237)

### Web サイトの制限

<!-- MC-32366-->

* Web サイト制限を有効にしても、ゲストとしてログインした顧客に対する Vanish ESI 要求がブロックされなくなりました。 以前は、これらのゲストはホームページのメインメニューにアクセスできませんでした。

<!-- MC-32369-->

* Web サイトの制限が有効な場合、製品のホームページが期待どおりに読み込まれるようになりました。

### ウィッシュリスト

<!-- MC-35810-->

* ウィッシュリスト検索機能を使用して、複数のウィッシュリストのサポートが有効なデプロイメントで、パブリックウィッシュリスト内の製品を検索できるようになりました。 以前は、顧客がウィッシュリスト検索を使用して商品を検索し、その商品を選択して、 **買い物かごに追加**、アプリケーションが製品を買い物かごに追加せず、次のエラーが表示されていた問題を修正しました。 `Invalid Form Key. Please refresh the page`.

<!-- MC-35622-->

* 顧客はウィッシュリスト内の製品の数量をウィッシュリスト自体から変更できるようになりました。 以前は、アプリケーションは製品数を更新せず、メッセージも表示しませんでした。

<!-- MC-35618-->

* お客様は、ウィッシュリスト内のグループ化された製品の数量をウィッシュリスト自体から変更できるようになりました。 以前は、アプリケーションは製品数を更新しなかったり、メッセージを表示したりしませんでした。

<!-- MC-34408-->

* ストアフロントのカテゴリページに、ウィッシュリスト検索ウィジェットが期待どおりに表示されるようになりました。

<!-- ENGCOM-7580 7285-->

* のポリフィル `Map`, `WeakMap`, `FormData`、および `MutationObserver` は必要に応じてのみ読み込まれるようになりました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28330](https://github.com/magento/magento2/pull/28330) プルリクエストで Mateusz Krzeszowiak [27618](https://github.com/magento/magento2/pull/27618)_. [GitHub-28377](https://github.com/magento/magento2/issues/28377), [GitHub-28382](https://github.com/magento/magento2/issues/28382)

<!-- ENGCOM-7561-->

* ウィッシュリストの更新プロセスで、ウィッシュリスト項目とその説明の同時更新がサポートされるようになりました。 _プルリクエストで Eduard Chitoraga から送信された修正 [28222](https://github.com/magento/magento2/pull/28222)_. [GitHub-28261](https://github.com/magento/magento2/issues/28261)

<!-- ENGCOM-7564-->

* 買い物客が作成できるウィッシュリストの最大数を、アプリケーションが正しく検証できるようになりました。 _Eduard Chitoraga がプル要求で送信した修正 247 をプライベートリポジトリのパートナー —magento2ee に送信_.

<!-- MC-36250-->

* 管理者は、デフォルト以外のストアからウィッシュリストに顧客が追加した設定可能な製品を設定できるようになりました。 以前は、お客様がデフォルト以外のストアから設定可能な製品も追加した場合、アプリケーションはエラーをスローしていました。

<!-- ENGCOM-7660-->

* 許可されているメール数を超える数の顧客のウィッシュリストを共有するテストを追加しました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28641](https://github.com/magento/magento2/pull/28641)_. [GitHub-28720](https://github.com/magento/magento2/issues/28720)

<!-- ENGCOM-7674-->

* 顧客のウィッシュリストから項目を削除するためのテストを管理者ユーザーとして追加しました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28632](https://github.com/magento/magento2/pull/28632)_. [GitHub-28721](https://github.com/magento/magento2/issues/28721)

<!-- ENGCOM-7675-->

* ウィッシュリスト機能を無効にするテストを追加しました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28635](https://github.com/magento/magento2/pull/28635)_. [GitHub-28744](https://github.com/magento/magento2/issues/28744)

<!-- ENGCOM-7580-->

* 顧客のウィッシュリストを共有する際の無効な電子メールアドレスの使用に関するテストを追加しました。 `StorefrontShareWishlistEntityTest` がリファクタリングされました。 `StorefrontCustomerShareWishlistActionGroup` は非推奨（廃止予定）となりました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28330](https://github.com/magento/magento2/pull/28330)_. [GitHub-28377](https://github.com/magento/magento2/issues/28377)

<!-- ENGCOM-7717-->

* 許可されているテキストの長さの制限を超える顧客のウィッシュリストを共有するためのテストを追加しました。 _プルリクエストで Dmitry Tsymbal から送信された修正 [28812](https://github.com/magento/magento2/pull/28812)_. [GitHub-28969](https://github.com/magento/magento2/issues/28969)

## 既知の問題

**問題**：サードパーティの支払いプロバイダーを使用する場合、チェックアウト用の新しい CAPTCHA 機能が注文ページで期待どおりに動作しません。 発注書ストアフロントページで CAPTCHA 保護を有効にした 2.3.6 または 2.4.1 を実行しているマーチャントは、PayPal などのサードパーティの支払いプロバイダを使用してチェックアウトすると、次のエラーが表示されます。 `Please provide CAPTCHA code and try again`. **回避策**：この問題を修正しました。 詳しくは、 [Adobe Commerce v2.3.6/2.4.1チェックアウトでの CAPTCHA が機能しない](https://support.magento.com/hc/en-us/articles/360051235772) ナレッジベース記事。 次の四半期パッチ (Q12021) にも修正が含まれます。

**問題**：管理者権限のないユーザーは、現在、個人の 2FA アクセスを設定できません。 2FA には 2 つの ACL ロールが含まれます。 1 つの役割はグローバルシステムの構成に影響を与え、システムを構成する場合にのみ必要です。 2 つ目の ACL の役割は、個々のユーザー 2FA アカウントに影響を与えます。 管理者ユーザーは、この 2 番目のタイプの 2FA ACL を設定する必要があります。 **回避策**：ユーザーがログインし、「アクセス拒否」画面を表示した後、次のページにアクセスできます： `https://<magento store>/<admin_path>/tfa/tfa/requestconfig/` 設定を強制します。 注意：セキュリティ設定を無効にすることはお勧めしません。 ただし、この回避策は管理 URL 秘密鍵が無効な場合にのみ有効です。

**問題**: **アカウントの作成** 買い物客が無効なデータを入力した場合、新しいアカウントを作成ページのボタンは無効のままです。 これにより、エラー発生後に買い物客がアカウントの作成を再試行するのを防ぎます。 **回避策**：パッチを適用 `MC-38509`. 修正は、2021 年第 1 四半期にリリース予定の次の四半期リリース (2.4.2、2.4.1-p1、2.3.6-p1) にも含まれます。 詳しくは、 [2.4.1 および 2.3.6 アカウントボタンの修正プログラムの作成](https://support.magento.com/hc/en-us/articles/360051130212) ナレッジベース記事。  [GitHub-30513](https://github.com/magento/magento2/issues/30513)

**問題**:dotdigital が有効な場合、マーチャントは Safari の管理者から dotdigital にログインできません。 詳しくは、 [dotdigital アカウントが有効な場合は、管理パネルから dotdigital にログインできません](https://support.magento.com/hc/en-us/articles/360050092291) ナレッジベース記事。

**問題**：買い物客が請求先住所と異なる配送先住所を選択した場合、支払い中に頂点住所の検証が機能しません。 この問題は 2.4.2 で修正されます。詳しくは、 [2.4.1 既知の問題：頂点アドレスの検証メッセージが、アドレスの更新後に消えない](https://support.magento.com/hc/en-us/articles/360050139631) ナレッジベース記事。

**問題**：商人が Safari ブラウザーで DotDigital Page Builder フォームを保存すると、アプリケーションに空のページが表示されます。 **回避策**：ページを再読み込みし、変更を適用します。 詳しくは、 [2.4.1 既知の問題：dotdigital Page Builder フォームを保存した後に空のページが表示される](https://support.magento.com/hc/en-us/articles/360049819092) ナレッジベース記事。

**問題**：特定の条件下では、アプリケーションは、以前に使用したAmazonアカウントに顧客が自動的にサインインし、Amazon Pay を使用したチェックアウト時にログインするよう求めます。 詳しくは、 [2.4.1 既知の問題： Google Chrome でAmazonアカウントを変更できない](https://support.magento.com/hc/en-us/articles/360049814152) ナレッジベース記事。

**問題**: PayPalBraintreeの支払いと複数の住所の出荷が選択されている場合、アプリケーションは、チェックアウトワークフローの請求ページにエラーメッセージを短時間表示します。 詳しくは、 [2.4.1 既知の問題： PayPalBraintreeを使用したチェックアウト時にエラーが表示される](https://support.magento.com/hc/en-us/articles/360050253211) ナレッジベース記事。

**問題**：ゲストのチェックアウトが無効な場合、ゲスト顧客がBraintreeを通じて PayPal での注文を試みると、アプリケーションは情報を提供しないエラーメッセージを表示します。 詳しくは、 [2.4.1 既知の問題： Paypal を使用したBraintreeによるゲストチェックアウト中の非情報エラーメッセージ](https://support.magento.com/hc/en-us/articles/360050368111) ナレッジベース記事。

## コミュニティへの貢献

私たちは、より広いMagento Open Sourceコミュニティに感謝し、このリリースに対する彼らの貢献を認めたいと思います。 現在のリリースに対するコミュニティの貢献については、次の方法を確認してください。

* コミュニティメンバーがこのリリースの修正を提供している場合は、これらのノートの「修正された問題」セクションで、「*コミュニティメンバーが提供する修正*&quot;.

* コミュニティエンジニアリングチーム [Magento寄稿者](https://magento.biterg.io/app/kibana) は、貢献度の高い個人およびパートナーのリストを月、四半期、年別に管理しています。 寄稿者ページから、GitHub 上の結合された PR へのリンクをたどることができます。

### パートナーへの貢献

次の表に、パートナーによる貢献の概要を示します。 この表は、プル要求に貢献したパートナー、外部プル要求、およびそれに関連付けられている GitHub 問題番号（使用可能な場合）を示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-1-partner.md}}

### 個々の投稿者への投稿

次の表に、コミュニティメンバーからの投稿を示します。 この表は、外部のプルリクエスト、関連付けられている GitHub の問題番号（使用可能な場合）、およびプルリクエストを寄稿したコミュニティメンバーを示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-1-issues.md}}

### 必要システム構成

当社の技術スタックは、PHP および MySQL 上で構築されています。 詳しくは、 [必要システム構成](../../../installation/system-requirements.md).

### インストールおよびアップグレードの手順

Composer を使用してAdobe Commerce 2.4.1 をインストールできます。

## 移行ツールキット

データ移行ツールは、既存のMagento1.x のストアデータをMagento2.x に転送するのに役立ちます。このコマンドラインインターフェイスには、検証、進行状況の追跡、ログ、テストの各機能が含まれます。 インストール手順については、 [データ移行ツールのインストール](../../../tools/data-migration-tool/install.md). 詳細を調べたり、 [データ移行リポジトリ](https://github.com/magento/data-migration-tool).

The [コード移行ツールキット](https://github.com/magento-commerce/code-migration) は、既存のMagento1.x のストア拡張機能とカスタマイズ機能をMagento2.x に転送するのに役立ちます。コマンドラインインターフェイスには、Magento1.x のモジュールとレイアウトを変換するためのスクリプトが含まれています。
