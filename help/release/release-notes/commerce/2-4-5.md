---
title: Adobe Commerce 2.4.5 リリースノート
description: 2.4.5 Adobe Commerceリリースの新機能、機能強化、バグ修正および既知の問題について説明します。
source-git-commit: e07b8b63808facb8897ff423009d7d08cfa07920
workflow-type: tm+mt
source-wordcount: '9544'
ht-degree: 0%

---


# Adobe Commerce 2.4.5 リリースノート

Adobe Commerceでは、プラットフォームの品質、支払い方法、GraphQLのキャッシュパフォーマンスおよびアクセシビリティの改善が導入されています。 統合されたGoogleモジュールとアップグレード互換性ツールのアップデートが含まれ、ライブ検索 B2B のサポートが導入されています。

このリリースには、400 件を超える品質の修正および機能強化が含まれています。

{{bics}}

## その他のリリース情報

これらの機能のコードはAdobe Commerceコアコードの四半期別リリースにバンドルされていますが、これらのプロジェクト (B2B、Page Builder、Progressive Web Application(PWA)Studio など ) のいくつかも個別にリリースされています。 これらのプロジェクトのバグ修正は、個別のプロジェクト固有のリリース情報に記載されています。この情報は、各プロジェクトのドキュメントに記載されています。

### このリリースに含まれるホットフィックス

Adobe Commerce 2.4.5 には、Adobe Commerce向けに提供された次のホットフィックスで対処されたすべての問題の解決が含まれています。

* `Braintree_disabled_partial_capture_for_applepay_googlepay.zip`. このパッチは、支払い方法としてApple Pay またはGoogle Pay を使用する場合に、ユーザーが部分的な請求書を作成できない問題を解決します。 詳しくは、 [Adobe Commerce 2.4.4:部分的な請求書を作成できません](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices) ナレッジベース記事。

* `AC-2655_2.4.4.patch.zip`. このパッチでは、「国を許可」オプションが選択されていない場合に、買い物客が買い物かごに製品を追加できない問題を修正します。 詳しくは、 [「国を許可」で何も選択されていない場合、ユーザーは買い物かごに製品を追加できません](https://support.magento.com/hc/en-us/articles/5377681213325-Users-not-able-to-add-product-to-cart-if-nothing-selected-in-Allow-Countries) ナレッジベース記事。

## Adobe Commerce 2.4.5 のハイライト

このリリースでは、次の点に注意してください。

### セキュリティの強化

このリリースには、20 件のセキュリティ修正とプラットフォームのセキュリティ強化が含まれています。 このセキュリティ修正は、Adobe Commerce 2.4.3-p3 およびAdobe Commerce 2.3.7-p4 にバックポートされました。

これらの問題に関する確認済みの攻撃は、現在までには発生していません。 ただし、一部の脆弱性は、顧客情報にアクセスするために悪用されたり、管理者セッションを引き継ぐ可能性があります。 これらの問題のほとんどは、攻撃者が最初に管理者へのアクセス権を取得する必要があります。 その結果、以下の取り組みに限定されない限り、管理者を保護するために必要なすべての手順を実行するように促されます。

* IP許可リストに加える
* [二段階認証](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* VPN の使用
* ではなく一意の場所の使用 `/admin`
* パスワードの衛生状態が良好

詳しくは、 [Adobeセキュリティ情報](https://helpx.adobe.com/security/products/magento/apsb22-38.html) を参照してください。

#### その他のセキュリティ強化

このリリースのセキュリティ強化により、次のような最新のセキュリティのベストプラクティスへの準拠が改善されました。

* ウィッシュリストの共有、新しい顧客アカウントの作成、ギフトカードの各フォームに reCAPTCHA のサポートが追加されました。 <!-- AC-1144-->

* ACL リソースが Inventory に追加されました。 <!-- AC-1622-->

* 在庫テンプレートのセキュリティが強化されました。

* この `MaliciousCode` フィルターは、次を使用するようにアップグレードされました： `HtmlPurifier` ライブラリ。 <!-- AC-1498-->

### Platform の機能強化

* **Adobe Commerceオンプレミスデプロイメント**:Adobe Commerce 2.4.5 はテスト済みで、Elasticsearch7.17(～7.17.0、制約付き ) との互換性が確認されています。 オンプレミスでAdobe Commerceをホストするマーチャントは、Elasticsearchまたは OpenSearch 1.2 を使用できます。 <!-- AC-2425-->

* **Adobe Commerceクラウドでホストされるデプロイメント**:Elasticsearch7.11 以降は、Adobe Commerce 2.4.5 クラウドでホストされるデプロイメントではサポートされていません。 OpenSearch は、Adobe Commerce 2.4.5 クラウドデプロイメントのデフォルトの検索エンジンです。

Adobe Commerce 2.4.5 は、

* Composer 2.2  <!-- AC-2033-->

* TinyMCE (5.10.2)。 TinyMCE（v5.9.2 以前）の以前のバージョンでは、特別に作成された URL または特別に作成された URL を持つ画像が更新された場合に、任意の JavaScript を実行できました。 <!-- AC-2039 1784 1789-->

* jQueryUI (1.13.1) <!-- AC-2544-->

* `PHPStan` （^1.5.7、制約あり） [GitHub-35315](https://github.com/magento/magento2/issues/35315)<!-- AC-2876-->

DHL 統合スキーマが v6.0 から v6.2 に更新されました。このアップグレードでは、製品の動作は変更されません。  <!-- AC-3022-->

古い JavaScript ライブラリは最新バージョンに更新され、古い依存関係は削除されました。 これらの変更は後方互換性があります。 <!-- AC-2036-->

#### コンポーザーの依存関係の更新

<!-- AC-2876 2744 2912 2577-->

次の Composer の依存関係が、制約付きの最新バージョンに更新されました。

* `colinmollenhour/credis`  (1.13.0)? <!-- AC-2732-->
* `guzzlehttp/guzzle` (^7.4.2)
* `laminas/laminas-captcha` （制約^2.12 で更新） <!-- AC-2625-->
* `laminas/laminas-db`   (^2.15.0)
* `laminas/laminas-di` (^3.7.0)
* `laminas/laminas-escaper` (~2.10.0)
* `laminas/laminas-eventmanager`  (^3.5.0)
* `laminas/laminas-feed`   (^2.17.0)
* `laminas/laminas-mail` (^2.16.0)
* `laminas/laminas-mvc`  (^3.3.3)
* `laminas/laminas-server` (^2.11.1)
* `laminas/laminas-servicemanager`  (^3.11.0)
* `laminas/laminas-validator` (^2.17.0)
* `league/fly`  (2.4.3) <!-- AC-2744-->
* `monolog/monolog`  (^2.5)
* `phpmd/phpmd`   (^2.12.0)
* `phpstan/phpstan`  (^1.5.7)
* `phpunit/phpunit`  (~9.5.20)
* `php-cs-fixer` (^3.4.0) <!-- AC-2259-->
* `webonyx/graphql-php`  (14.11.6)

この `laminas/laminas-session`, `laminas/laminas-text`、および `laminas/laminas-view` 依存関係が削除されました。 <!-- AC-2598-->

#### その他のアップグレードと交換

* DHL Integration スキーマが v6.0 から v6.2 に更新されました。 <!-- AC-3022-->

* USPS 発送用のデフォルトのゲートウェイ URL が、 `https` の代わりに `http`. <!-- AC-2426-->

* この `Froogaloop` ライブラリは Vimeo に置き換えられました `Player.js` ライブラリ (2.16.4)。 <!-- AC-2527 2262-->

* この `grunt-eslint` (NPM) ライブラリが最新バージョンにアップグレードされました。 <!-- AC-2700-->

* この `jQuery Storage` ライブラリは `julien-maurel/js-storage`. <!-- AC-2627-->

* この `php-cs-fixer` および `phpcs` 静的コード分析ツールは、PHP 8.x と互換性があります。 <!-- AC-2259-->

* `glob.js` 依存関係（制約付きで～7.2.0 にアップグレード） <!-- AC-2547-->

* `serve-static.js` 依存関係 ( 制約付きアップグレード～1.14.2) <!-- AC-2548-->

* `underscore.js` 依存関係 (NPM)(1.14.2) <!-- AC-2546 2549-->

* `moment-timezone-with-data.js` (0.5.34) <!-- AC-2545-->

* ライブラリ `jquery/jquery-cookie` は、 `js-cookie/js-cookie`. <!-- AC-2626-->

* この `jarallax.js` および `jaralax-video.js` Vimeo REST API の最新バージョンを使用するようにライブラリを更新しました。 <!-- AC-2590-->

### パフォーマンスと拡張性の強化

#### 価格インデクサーの最適化

プライマリインデックスのパフォーマンスが向上し、 `catalog_product_index_price_tmp` 表。 この強化により、共有カタログから得られた eSKU の乗算を減らすことで、価格指数で作成されるレコードの数が減少しました。 インデックス作成時間が大幅に短縮されました。 <!-- MCP-653 MC-43342-->

### アクセシビリティの更新

このリリースでは、より知覚可能、操作可能、理解可能、堅牢な、Venia(PWA) のストアフロントエクスペリエンスの作成に焦点を当てました。 次の機能強化が含まれます。

* 検索結果の概要情報がスクリーンリーダーユーザーに通知されるようになりました
* 新しいページビューが読み込まれると、スクリーンリーダーに通知されるようになりました
* コントラストとキーボードのアクセシビリティが改善されました

### Adobe Sign

マーチャントは、Adobe Commerceのチェックアウト時に、保証書、購入契約、利用条件など、カスタマイズされた契約書に顧客が電子署名できるようになりました。

### Adobe CommerceとAdobe IMSの統合

Adobe IDをお持ちで、Adobe CommerceおよびAdobeビジネス製品への効率的なログインを必要とするAdobe Commerceの商人は、コマース認証をAdobe IMS認証ワークフローと統合できます。 この統合をコマースストアで有効にした後、各管理者ユーザーは、（コマースの資格情報ではなく）Adobeの資格情報を使用してログインする必要があります。  詳しくは、 [AdobeIdentity Managementサービス (IMS) 統合の概要](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html).

### ブランディングとスタイルの変更

管理者が更新され、Adobeのブランド戦略に合わせられました。 変更は、ヘッダー、フッター、データグリッドの色の更新およびナビゲーション要素に影響します。

### B2B

共有カタログ機能の実装に必要な、正規化されたデータベースデータを最適化しました。 eSKU の乗算が減少すると、格納するデータベース行が少なくなるので、パフォーマンスが向上します。 以前は、Adobe Commerceは各共有カタログのカタログ内のすべての SKU を複製していました。 Adobe Commerceでは、共有カタログに直接割り当てられた eSKU を個別に作成できるようになりました。

新しい **共有カタログの直接製品価格割り当てを有効化しました** 設定オプションを使用すると、製品価格インデクサーのパフォーマンスも向上します。 <!-- MCP-946-->

このリリースには、複数のバグ修正が含まれています。 詳しくは、 [B2B リリースノート](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Google Analytics

Googleは、GTag との統合を通じて、Web アプリケーションにおける AdWords と Analytics のトラッキングおよび統合メカニズムを更新しました。 このGoogle機能が Web サイトページに統合されると、Google Services を通じてコンテンツを追跡し、管理する機会が増えます。 Adobe Commerceには、Google AdWords、Analytics、Optimizer、TagManager などの組み込みモジュールがあり、以前の API をGoogleサービスとの統合に利用します。  このリリースでは、GTag アプローチを使用してこの統合を再実装しまし&#x200B;た。 詳しくは、 [analytics.js から gtag.js への移行 (Universal Analytics)](https://developers.google.com/analytics/devguides/migration/ua/analyticsjs-to-gtagjs).

### GraphQL

GraphQLのパフォーマンスが強化された機能を次に示します。

* 開発者や管理者は、デプロイメント時や実稼動環境で属性を変更する際に、統合ストアフロントGraphQLスキーマをより迅速に再構築できます。 また、何らかの理由でGraphQLスキーマを再構築する必要がある場合、買い物客のページ読み込み速度が大幅に高速になります。

* GraphQL API で JSON Web Tokens(JWT) を使用して認証トークンの有効期限日時を使用する機能が追加されました。

* この `bin/magento config:set graphql/session/disable 1` コマンドを使用すると、マーチャントはすべてのGraphQL操作に対してセッション cookie の作成を完全に無効にできます。 デフォルトでは、Adobe Commerceはこれらの Cookie を作成し、認証にそれらの Cookie を使用しますが、パフォーマンスに影響を与えます。 今後は、トークンをGraphQL要求の唯一の認証形式として使用することをお勧めします。 セッション cookie のみを使用する場合や、認証トークンと組み合わせて使用することはお勧めしません。 詳しくは、 [GraphQL Authorization](https://devdocs.magento.com/guides/v2.4/graphql/authorization-tokens.html). <!-- B2B-2204 -->

* 必要な場合にのみ、クラスプロキシを使用してGraphQL操作でセッション cookie が起動されるようになりました。 <!-- B2B-2217 -->

* セッション使用量が次の場所から削除されました： `http` GraphQLのヘッダープロセッサー（店舗、顧客、通貨など）。 <!-- B2B-2224 -->

詳しくは、 [GraphQL Developer Guide](https://devdocs.magento.com/guides/v2.4/graphql/) を参照してください。

### 在庫

在庫テンプレートのセキュリティが強化されました。

### ライブ検索

このリリースでは、B2B 顧客グループとカスタム価格のサポートが導入されました。 ライブ検索で、特定の顧客グループ/共有カタログに設定されている顧客グループと価格に対する製品の割り当てが考慮されるようになりました。

### Page Builder

Page Builder v.1.7.2 はAdobe Commerce 2.4.5 と互換性があります。

Page Builder の列レイアウトに、次の機能強化が含まれています。 <!-- PB-547-->

* 列が表示され、ストアフロントの列設定を制御できるようになりました。

* 列のサイズ変更で、ユーザーの操作によってトリガーされるラッピングがサポートされるようになりました。

### 支払い

Apple Pay は、Payment Services を有効にしてデプロイメントを実行しているすべてのマーチャントが利用できるようになりました。 この支払い方法では、買い物客がクレジットカードやデビットカードの詳細を入力する必要はありません。 Apple Pay は、製品の詳細ページ、ミニ買い物かご、買い物かご、チェックアウトワークフローで使用できます。 商人はこの機能を切り替えることができます。

#### PayPal

* スペインとイタリアの商人は、買い物客に PayPal Pay Later を提供できるようになりました。  <!-- AC-2521-->

* PayPal、Credit、Pay Later の各ボタンのプレビューが、チェックアウト、ミニカート、買い物かご、製品ページの管理者で使用できるようになりました。 プレビューでは、これらのボタンが有効になっていて、ストアフロントでレンダリングされているときに、これらのボタンがどのように表示されるかを確認できます。

#### Braintree

* Braintreeは、KOUNT 詐欺保護統合を廃止しました。 Adobe Commerceのコードベースから削除されました。

* この **常に 3DS をリクエストする** 」オプションが管理者に追加されました。

### PWA Studio

PWA Studiov.12.5.x はAdobe Commerce 2.4.5 と互換性があります。

このリリースの新機能は次のとおりです。

* 買い物客の行動データは、Web 分析サービスのPWA Studioストアフロントで収集されます。  商人は必要に応じてイベントを購読し、拡張できるようになりました。

* マーチャントは、管理者 (Google Tag Manager) から、デプロイするサービスを選択できるようになりました。

機能強化とバグ修正について詳しくは、 [PWA Studioリリース](https://github.com/magento/pwa-studio/releases). 詳しくは、 [バージョンの互換性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) を参照してください。

### アップグレード互換性ツール

次の機能強化が含まれます。

* メソッドシグネチャの検証で、メソッドまたはコンストラクタシグネチャ内の互換性のない変更を識別するようになりました。 <!-- AC-2632-->

* データベーススキーマの検証で、スキーマの変更と非互換性が識別されるようになりました。 <!-- AC-58-->

* ID 設定の検証で、で削除または非推奨（廃止予定）の API コアクラスへの参照を検証できるようになりました。 `di.xml` およびコアクラスとインターフェイスの環境設定  <!-- AC-438-->

* UCT では、コードの廃止を識別し、各問題の解決に関する具体的な推奨事項を提供するようになりました。  <!-- AC-3147-->

## 修正された問題

Adobe Commerce 2.4.5 コアコードでの数百の問題を修正しました。

### インストール、アップグレード、導入

<!-- ACP2E-49-->

* データパッチの名前を変更し、古いクラス名をエイリアスとして `patch_list` データベーステーブル。 Adobe Commerceは、パッチを適用する前に、データパッチエイリアスがデータベースに既に存在するかどうかを確認するようになりました。 以前は、Adobe Commerceは、これらの条件でエラーをスローしていました。

<!-- AC-3036-->

* 管理者から管理 URL をカスタム URL に変更しようとした際に、Adobe Commerceで例外がスローされなくなりました。 以前は、管理 URL を変更した後は、ログインできませんでした。 [GitHub-35416](https://github.com/magento/magento2/issues/35416)

<!-- AC-1480-->

* マーチャントは、Klarna を使用したAdobe Commerce 2.4.2 デプロイメントからAdobe Commerce 2.4.3 に正常にアップグレードできるようになりました。 [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- AC-2905-->

* Adobe Commerce Analytics へのパスがハードコードされなくなりました。 以前は、このハードコードされたパスは、1 つのサーバーに複数のAdobe Commerceインスタンスがインストールされている場合に競合を引き起こしていました。 [GitHub-29373](https://github.com/magento/magento2/issues/29373)

### アクセシビリティ

<!-- AC-2786-->

* この **買い物袋** ボタンの状態を示す、プログラム的またはテキスト的な表示を提供するようになりました。 スクリーンリーダーユーザーは、このボタンをクリックすると他のコンテンツが展開されるか、関連するコンテンツが展開または折りたたまれることを知らせます。 以前は、このボタンを使用しても、プログラムを通じて表示されたり、状態をテキストで表示したりすることはできませんでした。

<!-- AC-2496-->

* 支払い情報クレジットカードオプションのテキスト要素またはテキストの画像が、WCAG 2.0 で必要な最小色コントラスト比 4.5:1 を満たすようになりました。標準テキストの場合は 18pt(24px)、太字の場合は 14pt(19px) を満たします。 以前は、予想されるコントラスト比を満たしていませんでした。

<!-- AC-2483-->

* **アドレス帳**  >  **通信**  > **アカウント情報** カスタムフォーカスインジケーターで、背景色に対して少なくとも 3:1 のコントラスト比が提供されるようになりました。

<!-- AC-2486-->

* **フィルター** および **並べ替え** ボタンテキストが、標準テキストの 18pt(24px) または 14pt(19px)（太字の場合）に対して WCAG 2.0 で必要な最小色コントラスト比 4.5:1 を満たすようになりました。 以前は、カルーセルのナビゲーションボタンが、これらの最小コントラスト要件を満たしていませんでした。

<!-- AC-2499-->

* スクリーンリーダーが「Venia」という単語を読み上げるのは、Venia のヘッダーとフッターに移動する場合のみです。 以前は、同じ単語が 2 回連続して発表されていました。

<!-- AC-2585-->

* トリガーのドロップダウンで、スクリーンリーダーに、展開または折りたたまれた状態とアクセス可能な名前を示す情報が表示されるようになりました。

<!-- AC-2482-->

* スクリーンリーダーユーザーは、新しいページビューがレンダリングされると、その情報を知らされます。 以前は、ページタイトルが変更された場合、タイトルの変更がお知らせされませんでした。

### Adobe Stock

<!-- AC-2926-->

* ユーザーはAdobe Stockから正常にサインアウトできるようになりました。

### 製品のバンドル

<!-- ACP2E-465-->

* これで、 `PUT /V1/products` エンドポイント：特定の web サイトの製品価格属性を更新します。 以前は、特定の店舗表示に対して一部の製品属性が上書きされた場合、同じ店舗表示でその製品の価格属性を更新できませんでした。

<!-- ACP2E-780-->

* Adobe Commerceでは、Product Subselect ルールが適用される際に、バンドル製品の買い物かごの合計が正しく計算されるようになりました。

### キャッシュ

<!-- ACP2E-684-->

* Adobe Commerceのキャッシュがフラッシュされ、 `use_stale_cache` が有効になっている。

<!-- AC-2410-->

* New Relicのデプロイメントマーカーが、キャッシュがフラッシュされたときに期待どおりに機能するようになりました。 [GitHub-32649](https://github.com/magento/magento2/issues/32649)

### 買い物かごとチェックアウト

<!-- ACP2E-455-->

* チェックアウトワークフローの請求手順のアドレス検索ポップアップが DOM エラーの原因とならなくなりました。

<!-- ACP2E-368-->

* この `addProductsToCart` 突然変異が複数の製品で正しく機能するようになりました。 以前は、このクエリは正確な小計を含む最初の製品を返しましたが、他の製品の小計は 0 を返していました。

<!-- ACP2E-245-->

* SKU によって追加される制限付き製品に対して、権限の例外が処理されるようになりました。 ストアフロントに適切なメッセージが表示され、エラーテーブルの quantity フィールドが無効になりました。 以前は、Adobe Commerceは次のような例外をスローしていました。 `There has been an error processing your request`.

<!-- ACP2E-148-->

* 買い物かごの価格ルールを無効にした後に影響を受けた見積もりを更新する SQL クエリが最適化され、見積もりテーブル全体がロックされなくなりました。

<!-- ACP2E-98-->

* グローバルアカウント共有の買い物客は、ゲストのチェックアウトが無効な場合、マルチサイトデプロイメントのセカンダリ Web サイトに再度ログインする必要がなくなりました。 買い物客がサブドメインに移動する際に、顧客データが読み込まれるようになりました。 買い物客に対し、再度ログインするように求められなくなり、前の買い物かごの内容が表示されます。

<!-- ACP2E-94-->

* 複数の住所のチェックアウトで単一の数量の住所の項目が削除された場合、チェックアウトワークフローの住所のドロップダウン値が見積もりの残りの項目で変更されなくなりました。 以前は、複数の住所を持つチェックアウト時に製品が見積もりから削除されると、住所ドロップダウンの値がすべての製品のデフォルト値に変更されていました。

<!-- ACP2E-42-->

* この `cart` 製品が在庫切れの場合に、クエリが null 応答を返さなくなりました。 新しい `errors` エラーメッセージを含む要素が応答に導入されました。 以前は、在庫切れの製品のクエリを実行すると、Adobe Commerceに `null` の下の値 `items` 」セクションに表示されます。 詳しくは、 [買い物かごクエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/cart.html).

<!-- ACP2E-38-->

* チェックアウトに進む前にゲスト買い物客が買い物かごに製品を追加した後にアカウントを作成した場合、発送方法が期待どおりに使用できるようになりました。 以前は、ゲストがアカウントを作成する前に買い物かごに商品を追加した場合、チェックアウト時に配送方法を使用できませんでした。 他の製品を買い物かごに追加した後、発送方法が利用できるようになりました。

<!-- AC-2564-->

* オプションが **国を許可** フィールドが選択されている。

<!-- AC-2622-->

* 次の場合にセッションがタイムアウトした後、買い物かごのコンテンツとログインステータスが期待どおりにリロードされるようになりました。 **永続化を有効にする** が **はい**. [GitHub-35182](https://github.com/magento/magento2/issues/35182)

<!-- AC-428-->

* 複数の配送先住所を持つ注文の場合、買い物客が配送先ページからチェックアウトワークフローの買い物かごページに移動すると、ミニ買い物かごの小計が正しく更新されるようになりました。 以前は、小計は 2 倍でした。

<!-- AC-2619-->

* セッションタイムアウト後、ミニカートに以前に追加された製品が表示されるようになりました ( **永続化を有効にする** が有効になっている。 [GitHub-35183](https://github.com/magento/magento2/issues/35183)

<!-- ACP2E-707-->

* 商人がクレジットメモを作成し、  **返金送料（含む） 税 )** が —0.01 に設定され、この量を 0 に設定できるようになりました。 以前は、これらの条件ではクレジットメモを作成できませんでした。

### 買い物かごの価格ルール

<!-- ACP2E-680-->

* この `Parent Only` 属性範囲が買い物かごルール条件で適切に使用されるようになりました。

### カタログ

<!-- ACP2E-758-->

* で製品名を更新する際に、製品 URL キーが変更されなくなりました。 `PUT /V1/products/` ストア表示用。 以前は、新しい URL キーが新しい製品名に基づいて生成され、製品に割り当てられていました。このキーは、そのストア表示の URL キーを上書きしました。

<!-- ACP2E-712-->

* ルールベースのアップセル製品が製品ページに 2 回表示されなくなりました。

<!-- ACP2E-703-->

* ページビルダーの製品ウィジェットセットからカルーセルモードに製品をカテゴリに追加しても、ページの再読み込みがトリガーされなくなりました。

<!-- ACP2E-685-->

* 製品セット： **個別に表示されない** カタログの詳細検索結果には表示されなくなりました。

<!-- ACP2E-679-->

* 「一括属性の更新」ページで、動的バンドル属性が正しく更新されるようになりました。 以前は、 **動的 SKU** 属性は設定されたままです **はい** （一括更新ページで無効になっていた場合でも）。

<!-- ACP2E-673-->

* 完全な再インデックスではなく、増分インデクサーを使用してカタログルールが正しく適用されるようになりました。

<!-- ACP2E-657-->

* 複数ページの製品リストのリスト表示とグリッド表示を正常に切り替えることができるようになりました。 以前は、グリッド表示に切り替える前に複数ページの製品リスト表示の最後のページに移動すると、Adobe Commerceに次のエラーが表示されていました。 `Unfortunately there are no products in this category on our website currently`.

<!-- ACP2E-635-->

* 管理アクションログレポートに、更新された製品 ID と更新されたステータス情報が期待どおりに表示されるようになりました。

<!-- ACP2E-633-->

* トリガーは、 `catalogrule_product_price` 完全な再インデックスの後の表。 以前は、トリガーは `catalogrule_product_price` 次の表 `catalogrule_rule` または `catalogrule_product` 完全な再インデックス。

<!-- ACP2E-629-->

* 製品をカテゴリに割り当てる際に使用されるカテゴリルールは、ランダムに変更されなくなりました。

<!-- ACP2E-522-->

* マルチサイトデプロイメントで並べ替えられたカテゴリにカテゴリルールが製品を割り当てても、Adobe Commerceでエラーがスローされなくなりました。

<!-- ACP2E-516-->

* 範囲が制限されたアクセス権を持つ管理者は、カテゴリをグローバルに更新できなくなりました。 以前は、複数の Web サイトが同じカテゴリを使用していて、異なる製品を使用し、1 つのストアに制限された管理者がカテゴリ内の製品を変更した場合、他のストアに対する製品の選択も変更されていました。

<!-- ACP2E-508-->

* 指定したロケールのデフォルト以外の通貨が使用されると、製品の詳細ページに正しい価格が表示されるようになりました。 以前は、数値がストアフロントで期待どおりにローカライズされていませんでした。

<!-- ACP2E-468-->

* スケジュールされた更新を使用して製品を有効にできるようになりました。

<!-- ACP2E-392-->

* 重複したレコードを含む製品の層の価格を取得しようとすると、API とストアフロントで同じエラーメッセージが表示されるようになりました。 以前は、 `PUT /V1/products/tier-prices` は誤ったエラーメッセージを返しました。

<!-- ACP2E-345-->

* Adobe Commerceで、末尾にハイフンを含む製品 URL キーを追加しようとすると、検証エラーメッセージが表示されるようになりました。 情報ツールチップのテキストも使用できます。

<!-- ACP2E-267-->

* 新しい `ConfigurableWishlistItem.configured_variant` フィールドが `ConfigurableWishlistItem.child_sku` フィールドに入力します。 後者のフィールドは、顧客のウィッシュリストに未設定の設定可能な製品が含まれている場合に内部エラーをトリガーしました。

<!-- ACP2E-84-->

* 製品の表示を変更するため、一括属性の更新中に、選択した店舗に対してのみ URL の書き換えが生成されるようになりました。 以前は、一括属性更新によって誤ったストアの URL が書き換えられていました。

<!-- ACP2E-39-->

* 次の場合に `Synchronize widget products with backend storage` を有効にすると、Adobe Commerceは最近表示した製品データを `catalog_product_frontend_action` データベーステーブル。 レコードを追加する際に、顧客 ID または訪問者 ID が含まれます。 この `recently_viewed_product` 顧客 ID と訪問者 ID が null の場合、応答のセクションが空になりました。 その結果、 `customer/section/load` Ajax リクエストが送信されると、Adobe Commerceは、顧客 ID または訪問者 ID に基づいて、最近表示された製品を正しくフィルタリングできます。 以前は、応答には、 `catalog_product_frontend_action` 空の顧客 ID や訪問者 ID の確認がなかったので、データベーステーブルに保存してください。

<!-- ACP2E-28-->

* カテゴリルールと `Quantity` ステージングが実装されている場合、設定可能な製品の属性が正しく機能するようになりました。 以前は、 `row_id` および `entity_id` 内 `catalog_product_entity` ステージングの更新による表、Visual Merchandiser **ルールで製品を照合** 機能が製品を正しくフィルタリングできなかった問題を修正しました。

<!-- ACP2E-13-->

* 管理者は、管理スライドパネルから買い物客の買い物かご内の設定可能な製品オプションを変更できるようになりました。 以前は、スライドパネルが正しく機能していませんでした。

<!-- AC-1705-->

* 子製品に対する変更が保存されると、設定可能な製品の親に対してページキャッシュが期待どおりにクリアされるようになりました。 以前は、キャッシュがクリアされなかったので、ストアフロント設定製品ページで変更が選択されていませんでした。 [GitHub-34508](https://github.com/magento/magento2/issues/34508)

<!-- AC-711-->

* 管理画面で製品リストが正しくレンダリングされるようになりました。 以前は、製品リストがレンダリングされず、Adobe Commerceに次のエラーが表示されていました。  `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1214-->

* 商品の詳細ページと、カタログ価格の範囲が次のように変更された後のマルチストアデプロイメントでのストアフロント検索で、商品の価格が同じになりました。 **web サイト** から **global**. 以前は、カタログ検索結果ページに **global** 価格と、 **web サイト** 価格。 [GitHub-34074](https://github.com/magento/magento2/issues/34074)

<!-- ACP2E-316-->

* レイヤーナビゲーションで、次の場合に期待どおりの価格の製品が表示されるようになりました。 **価格ナビゲーションのステップの計算** が **手動**.

<!-- ACP2E-711-->

* カテゴリ内に表示されるページ単位の製品制限を、 **カテゴリのページネーションを記憶**  が有効になっている。 以前は、cookie `form_key` と UI `form_key` が異なり、Adobe Commerceは次のエラーを表示しました：  `Invalid Form Key. Please refresh the page`.

<!-- ACP2E-807-->

* EAV インデクサーは、製品 ID をタイプとして処理するようになりました `int` パフォーマンスの問題を回避する。

<!-- AC-2597-->

* 「。」を含む名前の新しい画像を追加した後、新しい製品キャッシュが正常に生成されるようになりました。  を製品に保存し、製品を保存して画像キャッシュを消去します。 [GitHub-32699](https://github.com/magento/magento2/issues/32699)

<!-- AC-1205-->

* 「管理者」フィールドに入力せずに製品ページから属性を作成しようとすると、Adobe Commerceに予期したとおりのエラーメッセージが表示されるようになりました。 [GitHub-33099](https://github.com/magento/magento2/issues/33099)

* ホームページに複数のカタログリストが含まれる場合、すべてのカタログ商品リストで商品の評価が正しくなりました。 [GitHub-33867](https://github.com/magento/magento2/issues/33867)

### CMS コンテンツ

<!-- ACP2E-106-->

* マーチャントは、エンティティの編集ページからアクティブな予定更新を編集できなくなりました。

<!-- ACP2E-65-->

* 権限が制限された管理者は、スケジュールされた更新後に CMS 階層の CMS ページを表示できるようになりました。

### 設定可能な製品

<!-- ACP2E-687-->

* Adobe Commerceで、製品の詳細ページで数量を変更した後、選択したオプションを使用して、設定可能な製品の正しい製品価格が表示されるようになりました。 以前は、数量が変更された後、価格は初期値にリセットされていました。

<!-- ACP2E-461-->

* この `products` クエリで、設定可能な製品の価格を正確に反映するように取得できるようになりました。 **在庫切れの表示** 設定を行います。 以前は、クエリは正確な価格を返しませんでした。

<!-- ACP2E-412-->

* 設定可能なオプションが、を使用して管理で作成された設定可能な製品にリンクされました。 `POST /V1/configurable-products/configurable1/child`.

<!-- ACP2E-360-->

* 複数選択属性が製品の編集中に正しく保存されるようになりました。 以前は、Adobe Commerceは、製品の保存時に、選択されていない属性と選択された属性のデフォルトオプションを保存していました。

<!-- ACP2E-55-->

* Adobe Commerceで、グローバルの作成中に、設定可能な属性が期待どおりに表示されるようになりました。 `select` パッチスクリプトを使用した属性。 以前は、有効なグローバル属性は非表示になっていました。

<!-- AC-2521-->

* この `addConfigurableProductsToCart` ミューテーションを使用して、カスタムオプションで設定可能な製品を追加できるようになりました。 以前は、Adobe Commerceが次のエラーをスローしていました。 `Magento 2.3.4 graphql Notice: Undefined index: option_value in /var/www/html/mg234/vendor/magento/module-configurable-product-graph-ql/Model/Resolver/ConfigurableCartItemOptions.php on line 62`. [GitHub-28860](https://github.com/magento/magento2/issues/28860)

<!-- ACP2E-43-->

* 設定可能な製品の子製品の 1 つの使用可能性がスケジュールされた更新によって変更されると、Adobe Commerceには、設定可能な製品の在庫ステータス、使用可能な設定、表示された価格が正しく表示されるようになりました。 以前は、設定可能な製品に子が 2 つあり、1 つの子製品の可用性がスケジュール済み更新で無効になっている場合、親製品の在庫ステータスが **在庫切れ** 更新が有効な場合、更新が完了すると、表示された価格と設定の使用可否が誤って計算されていました。

* オプションのカスタムオプションを使用して、設定可能な製品を並べ替えることができるようになりました。 以前は、再注文の試行が失敗し、次のエラーが表示されていました。  `Some of the selected options are not currently available`. [GitHub-35409](https://github.com/magento/magento2/issues/35409)

<!-- AC-959-->

* この `addConfigurableProductsToCart` 複数の製品で、ミューテーションが期待どおりに機能するようになりました。 以前は、製品情報が正しくない場合、または無効なエラーメッセージが返されていました。 [GitHub-30948](https://github.com/magento/magento2/issues/30948)

### 顧客

<!-- ACP2E-390-->

* Adobe Commerceでは、ストアフロントの Web サイト設定に従って、事前定義済みの EAV システム属性が正しく表示されるようになりました。 以前は、ある Web サイトで有効になり、別の Web サイトで無効になった Web サイトレベルの顧客属性は、両方の Web サイトで有効になっていると表示されていました。

### 顧客セグメント

<!-- ACP2E-473-->

* 顧客セグメント固有の関連製品ルールが期待どおりに動作するようになりました。 この問題は、特定の Web サイトに訪問者とセグメントの関係を追加するメソッドを呼び出すことで修正されました。 以前は、このルールのセグメントは、登録された顧客と Web サイトに基づいてのみ取得されていました。

### ダウンロード可能

<!-- MC-40675-->

* ダウンロード可能な製品からサンプルリンクやファイルを削除できるようになりました。 [GitHub-31887](https://github.com/magento/magento2/issues/31887)

### 電子メール

<!-- ACP2E-717-->

* システム発行の E メールが、「 」を含む受信者に正常に送信されるようになりました。 — 」と入力します。

<!-- ACP2E-184-->

* お客様は、放棄された買い物かごに関する電子メールのリマインダーを正しいスケジュールで受け取るようになりました。 新しい `TIMESTAMPDIFF(DAY, ,)` SQL 関数が `TO_DAYS()` 関数を使用して、日時に基づいてタイムスタンプの差を計算します。 以前は、買い物かごの放棄（タイムゾーン）とサーバー時間 (UTC) の 2 つの日時値が正しく計算されなかったので、電子メールリマインダーがスケジュールごとに送信されませんでした。

<!-- AC-776-->

* Adobe Commerceが、買い物客がクリックした後に無効な E メールフォーマットを入力した場合、Shipping ページにエラーメッセージを表示するようになりました **発注**. 以前は、エラーメッセージは支払いページに表示されていました。 [GitHub-33590](https://github.com/magento/magento2/issues/33590)

### フレームワーク

<!-- ACP2E-658-->

* この `bin/magento setup:config:set` コマンドは、既に設定されているキャッシュ ID のプレフィックスを上書きしなくなりました。 `app/etc/env.php`.

<!-- ACP2E-517-->

* この `bin/magento setup:static-content:deploy -s compact` コマンドに、子テーマのスタイルが期待どおりに含まれるようになりました。 以前は、デプロイ後、ストアフロントにテーマ CSS ファイルが存在しませんでした。

<!-- AC-1999-->

* 新しいスニフが追加され、 `void` 要素。

<!-- AC-2896-->

* 新しいソースを製品に割り当てて数量を変更した後、Adobe Commerceで SQL エラーがスローされなくなりました。 [GitHub-35262](https://github.com/magento/magento2/issues/35262)

<!-- AC-401-->

* 属性の並べ替え順が `di.xml` ファイルを更新します。

<!-- AC-1716-->

* この `updateCartCurrency` 関数は、買い物かごオブジェクト内のオブジェクトではなく文字列を設定するようになりました。 以前は、Adobe Commerceは `getQuote` なぜなら `updateCartCurrency` 関数は、買い物かごオブジェクト内に文字列ではなくオブジェクトを設定します。 [GitHub-34199](https://github.com/magento/magento2/issues/34199)

<!-- AC-2428-->

* 次の理由により、単体テストで廃止の通知は発生しなくなりました。`\DateTimeFormatter::formatObject()`. このメソッドは、 `$format`.

<!-- AC-2893-->

* Adobe Commerceに `preg_replace()` エラーが発生しました。 3 番目の引数 (`$subject`) は、現在はタイプです `array|string` の代わりに `bool`.

<!-- AC-2583-->

* この `isFreeShipping` メソッドは、ブール値ではなく整数を返すようになりました。[GitHub-35164](https://github.com/magento/magento2/issues/35164)

<!-- AC-2855-->

* クラスのメソッドに対してプラグインを作成する際、Adobe Commerceで次のエラーがスローされなくなりました。 `vendor/magento/module-backend/Model/Menu.php`: `Error: Call to undefined method ReflectionUnionType::getName()`. [GitHub-35292](https://github.com/magento/magento2/issues/35292)

<!-- AC-1518-->

* Adobe Commerceで `/checkout/sidebar/updateItemQty/?item_qty=error` 店の前で 以前は、次のエラーが発生していました。  `Warning: A non-numeric value encountered in /vendor/magento/module-checkout/Controller/Sidebar/UpdateItemQty.php on line 69`. [GitHub-34380](https://github.com/magento/magento2/issues/34380)

<!-- ACP2E-847-->

* Adobe Commerceもはやトリガーa `trim(): Passing null to parameter #1 ($string) of type string is deprecated` AMPQ 接続が SSL 設定なしで設定されている場合にエラーが発生しました。

<!-- AC-2414-->

* 修正された `longblog` データベース定義 `long blob`. [GitHub-35108](https://github.com/magento/magento2/issues/35108)

<!-- AC-1526-->

* 一重引用符を含むノックアウトテキストが翻訳可能になりました。 [GitHub-34319](https://github.com/magento/magento2/issues/34319)

<!-- AC-2505-->

* A `TypeError` in `magento2/app/code/Magento/Security/Model/AdminSessionsManager.php` は次の値から修正されました： `int` から `string`.  [GitHub-34415](https://github.com/magento/magento2/issues/34415)

<!-- AC-2511-->

* `.htpasswd` が `nginx` 設定ファイル。 [GitHub-35150](https://github.com/magento/magento2/issues/35150)

<!-- AC-2013-->

* カテゴリ製品リストページの読み込み時間が、 `Magento_Ui/js/core/app` as a `deps` から `app/code/Magento/Ui/view/frontend/requirejs-config.js`. [GitHub-34847](https://github.com/magento/magento2/issues/34847)

<!-- AC-2101-->

* この `ProductRepository.php:get` メソッドはキャッシュキーを 1 回返すようになりました。 以前は 2 回返されていました。 [GitHub-34958](https://github.com/magento/magento2/issues/34958)

<!-- AC-2507-->

* cron ジョブの例外ハンドラーで作成された新しい例外にエラーメッセージを追加しました。 [GitHub-34941](https://github.com/magento/magento2/issues/34941)

<!-- AC-2247-->

* の ReadMe ファイル `GraphQl-GroupedProductGraphQl` モジュールが更新されました。 [GitHub-34951](https://github.com/magento/magento2/issues/34951)

<!-- AC-2079-->

* ストアフロントの印刷注文/請求書/クレジットメモページには、Web サイトでの表示用に指定されたロゴの代わりに、デフォルトの Luma ロゴが表示されなくなりました。 [GitHub-34942](https://github.com/magento/magento2/issues/34942)

### 一般的な修正点

<!-- AC-2883-->

* 最大セッションサイズを 0 に設定しています ( 管理者 **ストア**  >  **設定**  >  **設定 — 詳細**) は管理者からログアウトしなくなりました。 [GitHub-35312](https://github.com/magento/magento2/issues/35312)

<!-- ACP2E-675-->

* 顧客アドレス属性の設定は、デフォルト以外の Web サイトに割り当てられる管理者から新しい顧客アドレスを追加したときに、顧客が割り当てられている Web サイトに基づいて正しく読み込まれるようになりました。

<!-- ACP2E-630-->

* カテゴリページと製品編集ページの両方で、制限付き管理者がカテゴリの作成をブロックするようになりました。 以前は、カテゴリの作成はカテゴリページでブロックされていましたが、製品の編集ページでは引き続き可能でした。

<!-- ACP2E-448-->

* Page Builder でバンドル製品を追加した際に、Adobe Commerceで例外がスローされなくなりました。

<!-- ACP2E-427-->

* カテゴリを、顧客セグメントの条件としてカテゴリツリーから選択できるようになりました。

<!-- ACP2E-381-->

* 最初、ミドルまたは姓に傾斜アポストロフィ (&#39;) が付いたiOSデバイス上に顧客アカウントを作成できるようになりました。 以前は、ストレートアポストロフィのみが許可され、iOS 11 以降のデフォルトの傾斜アポストロフィを使用すると、 `Name is not valid!` エラー。

<!-- ACP2E-378-->

* この `products` クエリが、「関連製品を表示」の設定を正確に反映した製品情報を返すようになりました。 この `related_products`, `upsell_products`、および `crosssell_products` GraphQL ProductInterface のフィールドが、「関連製品を表示」、「アップセル製品を表示」、「クロスセル製品を表示」の各設定に従って解決されるようになりました。

<!-- ACP2E-234-->

* この **製品を新規開始日に設定** 現在は、 **製品を新規に設定** 属性は一括製品一括更新で設定されます。 以前は、 **製品を新規開始日に設定** は次のように表示されました： **1970 年 1 月 1 日**.

<!-- ACP2E-277-->

* ロールが制限されたユーザーに、新しいモジュールへのアクセス権が自動的に付与されなくなりました。

<!-- ACP2E-50-->

* カテゴリに基づくターゲットルールは、ルール内で宣言されているカテゴリの製品のみを表示します。 以前は、関連製品ルールでは、製品に割り当てられ、ルールで定義されていないカテゴリの製品が表示されていました。

<!-- ACP2E-16-->

* を含む製品で、関連する製品ルール条件が期待どおりに動作するようになりました。 `multiselect` 属性。

<!-- AC-2719-->

* 商人が階層価格属性 (`tier_price`) を製品比較に使用できます。 以前は、 **ストアフロントに匹敵** この属性の設定が有効になっていました。 [GitHub-35244](https://github.com/magento/magento2/issues/35244)

<!-- AC-2441-->

* 無効な cookie ドメイン (**ストア**  > **設定**  >  **Web**  >  **デフォルトの Cookie 設定 Cookie ドメイン**) をクリックします。 以前は、Web サイトがクラッシュしていました。 [GitHub-35048](https://github.com/magento/magento2/issues/35048)

<!-- AC-2765-->

* 単一の Web サイトに対する役割を持つ管理者が PageBuilder を使用してコンテンツ要素に製品を追加した場合、Adobe Commerceでエラーがスローされなくなりました。 以前は、Adobe Commerceが SQL エラーをスローしていました。

<!-- AC-197-->

* 編集ページおよび住所ページの住所の 2 行目に検証機能が追加されました。 2 番目に指定された最小および最大のテキスト長が適用されるようになりました。

<!-- ACP2E-798-->

* Adobe Commerceで、アップグレード後に管理者でカタログルールを作成する際に、次のエラーがスローされなくなりました。 `A technical problem with the server created an error. Try again to continue what you were doing. If the problem persists, try again later`.

<!-- AC-2445-->

* Adobe Commerceで  **ウィッシュリストに RSS フィードをリンクするには、ここをクリックしてください** クリックする前のチェックボックス **ウィッシュリストを共有**. [GitHub-34998](https://github.com/magento/magento2/issues/34998)

<!-- AC-2019-->

* のタイトル **パスワードを表示** チェックボックス ( 顧客ログイン、顧客登録、顧客編集（パスワードの変更セクション）、顧客設定の新しいパスワードフォーム ) が翻訳可能になりました。 [GitHub-34857](https://github.com/magento/magento2/issues/34857)

<!-- ENGCOM-9062-->

* ラベルとコメントの説明を `app/code/Magento/NewRelicReporting/etc/adminhtml/system.xml`. [GitHub-31947](https://github.com/magento/magento2/issues/31947)

<!-- ENGCOM-8600-->

* 不要な項目を削除しました `csp_whitelist.xml` ファイル。 [GitHub-30607](https://github.com/magento/magento2/issues/30607)

### ギフトカード

<!-- AC-560-->

* `products` クエリが、ギフトカード製品を含む製品データを `gift-card` URL キー。

### GraphQL

<!-- AC-2361-->

* 見つからない `price_range` 属性がGraphQLに追加されました `BundleItemOption` タイプ。 [GitHub-35010](https://github.com/magento/magento2/issues/35010)

<!-- AC-2367-->

* この `products` クエリが **検索結果で使用** レイヤーナビゲーション設定は無効です。 [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-1760-->

* A `price_including_tax` フィールドが `CartItemPrices`. [GitHub-29057](https://github.com/magento/magento2/issues/29057)

<!-- AC-2520-->

* この `new_from_data` および `new_to_datefields` in `ProductInterface` は非推奨（廃止予定）になりました。 [GitHub-34783](https://github.com/magento/magento2/issues/34783)

<!-- AC-2364 1456-->

* この `categories` ファイルシステム上に見つからないイメージを含むカテゴリのリストを取得する際に、クエリで例外がスローされなくなりました。 以前は、Adobe Commerceは次の例外をスローしていました。 `Category image not found`. [GitHub-34266](https://github.com/magento/magento2/issues/34266)

<!-- AC-2368-->

* この `products` クエリが返されました `category_uid` を期待どおりに集計します。 [GitHub-32557](https://github.com/magento/magento2/issues/32557)

<!-- AC-2373-->

* この `updateCartItems` ミューテーションで、製品在庫が最大在庫数に達すると、期待どおりに製品が削除されるようになりました。 [GitHub-30220](https://github.com/magento/magento2/issues/30220)

<!-- AC-2366 734 MC-42964 -->

* この `urlResolver` クエリは、複数のホームページに同じ識別子がある場合に、パスの区切り文字 (/) を正しく解決するようになりました。 以前は、クエリは区切り文字を解決せず、null を返していました。 [GitHub-33615](https://github.com/magento/magento2/issues/33615)

<!-- AC-1881-->

* `customer` クエリで、注文の問い合わせ時に、バンドル製品の複数選択オプションが期待どおりに取得されるようになりました。 [GitHub-34717](https://github.com/magento/magento2/issues/34717)

<!-- AC-1668-->

* Adobe Commerceのリクエストがおこなわれた後、GraphQLのセッションは終了しなくなりました。 以前は、 `ClearCustomerSessionAfterRequest` プラグインは買い物客にログアウトしました。 [GitHub-34550](https://github.com/magento/magento2/issues/34550)

<!-- AC-818-->

* この `products` クエリが返されなくなりました `price_range` 無効なバリアントの影響を受ける設定可能な製品の値。 [GitHub-33629](https://github.com/magento/magento2/issues/33629)

<!-- ACP2E-634-->

* で設定可能な製品価格範囲 `products` クエリ応答が、 **在庫切れの製品を表示** 設定が有効になっています。 以前は、最小価格と最大価格の計算で、無効化されたオプションが考慮されていました。

<!-- ACP2E-531-->

* この `products` クエリで位置で並べ替えた場合、複数のカテゴリが正しくフィルターされ、返されるようになりました。

<!-- ACP2E-499-->

* `setShippingAddressesOnCart` リクエストで地域 ID が正常に検証されるようになりました。 以前は、Adobe Commerceで、地域コードではなく地域 ID を使用すると、エラーがスローしていました。

<!-- ACP2E-470-->

* `products` クエリは、リクエストで渡されたストアに関連付けられたカテゴリのみを返すようになりました。

<!-- ACP2E-363-->

* この `categoryList` クエリは、ストアがヘッダーで指定されている場合に、クエリによって実行されたストアのルートカテゴリを反映した結果を返すようになりました。 以前は、ヘッダーで別のストアが指定されていた場合でも、デフォルトのルートカテゴリのカテゴリが結果に含まれていました。

<!-- AC-1955-->

* この `products` クエリが **検索結果のレイヤーナビゲーションで使用** の設定は無効です。 [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-2365-->

* この `cart` クエリは、無料注文の支払い方法を 1 つだけ返すようになりました。 以前は、すべてのアクティブな支払い方法がクエリ応答で返されていました。 [GitHub-34036](https://github.com/magento/magento2/issues/34036)

<!-- AC-210-->

* の前にプラグインを追加しました。 `collectQuoteTotals` ストアクレジットが複数回適用されないようにするための呼び出し。

<!-- ACP2E-636-->

* この `generateCustomerTokenAsAdmin` ミューテーションで、顧客トークンを期待どおりに取得するようになりました。 以前は、トークンが返されず、このエラーが返されていました。 `Customer email provided does not exist`.

<!-- AC-2371-->

* GraphQLスキーマは、カスタム `type` 製品属性が定義されている。 以前は、スキーマは無効でした。 `type` 製品タイプの属性がカスタムで上書きされました `type` 属性。 [GitHub-34929](https://github.com/magento/magento2/issues/34929)

<!-- AC-2797-->

* お客様が `createCustomer`, `createCustomerV2`, `updateCustomer`または `updateCustomerV2` ミューテーションが、アクティブなニュースレター購読と共に追加されるようになりました。 以前は、リクエストに適切な入力パラメーターが含まれている場合でも、顧客がニュースレターを購読解除していました。 [GitHub-33599](https://github.com/magento/magento2/issues/33599)

<!-- AC-1883-->

* この `products` 特定のストア表示のクエリで、マルチサイトデプロイメントで特定の Web サイトのルートカテゴリにあるカテゴリのみが返されるようになりました。 以前は、クエリは他の Web サイトのルートカテゴリからカテゴリを返していました。 [GitHub-34570](https://github.com/magento/magento2/issues/34570)

<!-- AC-2712-->

* この `products` クエリは、指定されたカテゴリ ID のサブカテゴリのみを返すようになりました。 以前は、すべてのカテゴリが返されていました。 [GitHub-35220](https://github.com/magento/magento2/issues/35220)

<!-- AC-2794-->

* この `customerOrders` クエリが、次の場合に期待どおりに応答するようになりました。 `gift_message` オブジェクトが応答で指定されていますが、ギフトメッセージは存在しません。 以前は、クエリは次のメッセージを返していました。 `Can't load gift message for order is returned`. [GitHub-28957](https://github.com/magento/magento2/issues/28957)

<!-- AC-2515-->

* の `catalog_category_product` 原因となったインデクサー `products` 別のストアのカテゴリを返すクエリ。 [GitHub-31253](https://github.com/magento/magento2/issues/31253)

<!-- AC-2063-->

* この `generateCustomerToken` 突然変異は、 `customer_log` カスタマートークンの生成後に期待どおりに実行されるかを確認します。 [GitHub-33378](https://github.com/magento/magento2/issues/33378)

### Google Analytics

<!-- AC-2574 2685-->

* Google Tag モジュールがコードベースに追加されました。このモジュールは、2023 年 7 月のGoogle Analytics4 への移行をサポートしています。  現在、Google Universal Analytics プロパティで新しいデータを使用および収集できますが、Google Universal は 2023 年 7 月に提供終了となります。 [GitHub-35204](https://github.com/magento/magento2/issues/35204), [GitHub-35376](https://github.com/magento/magento2/issues/35376)

### 画像

<!-- ACP2E-71-->

* 製品の詳細ページの画像がちらつくことがなくなり、画像が期待どおりに中央に配置されたままになります。 以前は、製品の詳細ページで画像の読み込みが完了すると、画像が下に表示されました。

### インポート/エクスポート

<!-- ACP2E-676-->

* 書き出し CSV での関連、アップセル、クロスセルの製品位置が、CSV ファイルを再生成する前に管理者からクロスセルの製品を削除した後に正しくなりました。 以前は、クロス販売製品を削除した後も、クロス販売製品のポジションが再計算されず、製品のポジション順序が正しくありませんでした。

<!-- ACP2E-632-->

* Adobe Commerceは、レポートのエクスポート時に列をフィルタリングする前に、カスタムビューをチェックするようになりました。 以前は、エクスポートされたレポートでカスタムビューが考慮されず、エクスポートされた列が正しくありませんでした。

<!-- ACP2E-502-->

* Adobe Commerceは、長いファイル名を持つ画像を正常に読み込めるようになりました。 以前は、Adobe Commerceは画像を読み込まず、次のエラーをスローしていました。 `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s):`.

<!-- ACP2E-294-->

* カテゴリ ID 属性を、スケジュール済み書き出しフィルターで使用できるようになりました。

<!-- ACP2E-59-->

* 疑問符 (?) を含む製品をバンドルする 内の query builder が改善されたので、オプションタイトルを正常にインポートできるようになりました。 `populateExistingOptions` メソッド。 オプションタイトルも正しく表示されます。 以前は、最初のインポートの後、連続したインポートで破損した動作が発生し、オプションが 2 倍になりました。 買い物客も、製品を買い物かごに追加できませんでした。

<!-- ACP2E-766-->

* 読み込み時のカテゴリ名の検証を追加しました。 以前は、Adobe Commerceでカテゴリ名が検証されず、カテゴリ名が 255 文字を超えるとエラーが発生していました。

<!-- AC-2096-->

* 内の既存のレコード `catalog_url_rewrite_product_category` 新しいテーブルを挿入する前に、テーブルが削除されるようになりました。 以前は、マルチストアでの製品の読み込み中に次のエラーが発生していました。 `SQLSTATE[23000]: Integrity constraint violation`. [GitHub-34210](https://github.com/magento/magento2/issues/34210)

### インフラ

<!-- ACP2E-2039-->

* 非推奨の Context Menu プラグインがプラグインリストから削除されました。

<!-- ACP2E-2039-->

* ページビルダーモジュールの TinyMCE エディターツールバー関連ロジックが、 `delayedRender` TinyMCE のツールバーのロジックです。

<!-- MC-42655-->

* 競合状態が `contentUpdated` イベントリスナー。 [GitHub-32068](https://github.com/magento/magento2/issues/32068)

<!-- AC-3044-->

* この `getTypeID` 関数は、製品 ID ではなく、製品タイプ ID を返すようになりました。 [GitHub-35458](https://github.com/magento/magento2/issues/35458)

<!-- AC-2911-->

* jQuery UI スライダーと `SelectMenu` マッピングは次の場所で修正されました： `vendor/magento/module-theme/view/base/requirejs-config.js`.

* 監視者 `sales_order_state_change_before` は、順序オブジェクトからのデータの取得をサポートするようになりました。 この `sales_order_state_change_before` `event` 引数が更新されました。 [GitHub-26789](https://github.com/magento/magento2/issues/26789)

<!-- AC-2239-->

* `indexer:reset` は呼び出し用にリファクタリングされました `$indexer->invalidate()`. [GitHub-34988](https://github.com/magento/magento2/issues/34988)

<!-- AC-2055-->

* 現在は、 `htmlClass` 属性値。Tailwind UI などの追加コンポーネントの使用をサポートします。 [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### ログ

<!-- ACP2E-203-->

* 顧客、顧客アドレス、注文操作が、管理アクションレポートに正しく記録されるようになりました。 以前は、Adobe Commerceでは、 `postDispatch` ハンドラーが構成設定で指定されていませんでした。

### MFTF

#### アクショングループ

繰り返しアクションは、これらのテストではアクショングループに置き換えられました。

`AdminConfigurableProductChildrenOutOfStockTest` [GitHub-32378](https://github.com/magento/magento2/issues/32378)
`AdminCreateStoreViewTest` [GitHub-34631](https://github.com/magento/magento2/issues/34631)

#### 新しいテスト

`AdminUnlockAdminUserEntityTest` [GitHub-34836](https://github.com/magento/magento2/issues/34836)

`StorefrontNewsletterSubscriptionWithEnabledNeedToConfirmConfigTest` [GitHub-33344](https://github.com/magento/magento2/issues/33344)

#### リファクタリングされたテスト

`AdminCancelTheCreatedOrderWithCashOnDeliveryPaymentMethodTest` [GitHub-33692](https://github.com/magento/magento2/issues/33692)

### ニュースレター

<!-- ACP2E-35-->

* ログインしたお客様は、管理/ **マーケティング** > **ニュースレター購読者**.

<!-- AC-2102-->

* ニュースレターの購読確認 E メールで、 **送信者** 顧客がデフォルト以外のストアに割り当てられ、管理者から購読または購読解除された場合は、「 」フィールド。 以前は、顧客は、 **送信者** ヘッダー。 [GitHub-34963](https://github.com/magento/magento2/issues/34963)

<!-- AC-2509-->

* ニュースレター電子メールテンプレートの購読解除 URL が期待どおりに機能するようになりました。 [GitHub-33310](https://github.com/magento/magento2/issues/33310)

### 注文

<!-- ACP2E-550-->

* ストアフロントに表示されないカスタム顧客属性を使用して、新しい注文から新しい顧客を正常に作成できるようになりました。 以前は、Adobe Commerceは、カスタム顧客属性の正しい値を保存していませんでした。

<!-- ACP2E-279-->

* 注文の編集後、ゲスト顧客の詳細が正常に保存されるようになりました。 以前は、 `customer_firstname` および `customer_lastname, x_forwarded_for`.

<!-- ACP2E-92-->

* 小数の合計数量を含むクレジット・メモを作成できなくなりました。 **小数数量** は、製品またはグローバル設定レベルで無効になっています。 以前は、商人は、適用されない小数総数量に対するクレジット・メモを作成できました。

<!-- ACP2E-56-->

* 環境設定で設定されたタイムゾーンがローカルコンピューターで設定されたタイムゾーンと異なる場合に、請求書、出荷、クレジットメモ、CMS ページ、CMS ブロックグリッドで日付でのフィルターが正しく機能するようになりました。 以前は、日付が誤って解析され、フィルターされた結果には設定された日付範囲外のデータが含まれていました。

<!-- AC-1536-->

* Adobe Commerceは、「アカウントの管理」編集ページで顧客に割り当てられているメインの E メールアドレスを変更する際に、注文に割り当てられているカスタム E メールアドレスを変更しなくなりました。 以前は、ある顧客のメイン E メールアドレスを編集した際、その顧客に対して作成されるすべての注文に新しい E メールアドレスが割り当てられていました。 [GitHub-34397](https://github.com/magento/magento2/issues/34397)

<!-- AC-2664-->

* Adobe Commerceは、PHP 7.4 を実行しているデプロイメントで、クレジット・メモ・グリッド・ページにリクエストされたストアのレコードを表示するようになりました。以前は、クレジット・メモを作成して表示しようとした後、次のエラーが発生しました。 `The store that was requested wasn't found. Verify the store and try again`.

<!-- AC-2442-->

* Adobe Commerceでは、名前の前に数字が付いた店舗ビューから作成された注文のクレジットメモがクレジットメモグリッドページに表示されるようになりました。 以前は、Adobe Commerceに次のエラーが表示されていました。 `The store that was requested wasn't found. Verify the store and try again. Exception in /var/www/html/vendor/magento/module-store/Model/StoreRepository.php:75`. [GitHub-35122](https://github.com/magento/magento2/issues/35122)

<!-- ACP2E-31-->

* Adobe Commerceの「管理」および「ストアフロント」の請求書ページの合計に、無料配送料 (0) が表示されるようになりました。 以前は、注文の送料がゼロの場合、Adobe Commerceでは請求書ページの送料合計に送料の合計が表示されませんでした。

<!-- ACP2E-740-->

* Adobe Commerceで、カスタマーストアクレジットが使用されている場合に、チェックアウト時に正しい注文ステータスが表示されるようになりました。

<!-- AC-1778-->

* この `increment_id` 列 `sales_order` 表が増加しました。 以前は、と想定していたサードパーティモジュール `sales_order.increment_id` の長さが 50 文字の場合、1 つのの最初の 32 文字のみ保存されます `increment_id`. [GitHub-34521](https://github.com/magento/magento2/issues/34521)

### 支払い方法

<!-- ACP2E-25-->

* 管理者は、PayPal の PayflowPro 支払い方法を使用して、管理者に注文をすることができるようになりました。 以前は、Adobe Commerceに次のエラーが表示されていました。 `No such entity with cartId = 0`.

<!-- AC-2093-->

* Venmo、PayPal Later または PayPal を使用して支払が行われた場合、チェックアウトワークフローの「支払いレビュー」ページに正しい支払い方法名が表示されるようになりました。

<!-- AC-1195-->

* この `cart` クエリは、無料注文のすべてのアクティブな支払い方法を返さなくなりました。 [GitHub-34036](https://github.com/magento/magento2/issues/34036)

#### Braintree

<!-- BUNDLE-3088-->

* Braintreeを通じてApple Pay で支払われた注文に対して、商人が一部払い戻しを提出できるようになりました。 これは、Adobe Commerce 2.4.4 で既知の問題でした。

#### PayPal

<!-- ACP2E-296-->

* Adobe Commerceは、PayPal でのゲスト注文で正しい顧客名を表示するようになりました。 以前は、顧客名はゲストとして表示されていました。

<!-- AC-2606-->

* createPaypalExpressToken ミューテーションのリゾルバーが、use_paypal_credit 入力フィールドで指定された値を正しく使用するように更新されました。 以前は、無効な `paypal_credit` フィールドに入力します。 [GitHub-35180](https://github.com/magento/magento2/issues/35180)

### パフォーマンス

<!-- ACP2E-474-->

* ダイナミックブロックの読み込みのパフォーマンスが向上しました。 以前は、訪問者セグメントが Web サイトごとにキャッシュされなかったので、同じデータに対してデータベースに対して重複したクエリが実行されていました。

<!-- ACP2E-52-->

* 設定可能な製品の関連製品データキャッシュに TTL（有効期限）が追加され、Redis のキャッシュ管理が改善されました。 以前は、Redis キー削除ポリシーが揮発性削除ポリシーに設定されている場合、TTL 値が欠落しているため、これらのキャッシュは削除されませんでした。

<!-- ACP2E-464-->

* 新しい `Grid Filter Condition Type` 顧客/顧客アドレス属性は、属性フィルタとデータベース内の属性値との照合方法を制御します。オプションは、 `Partial Match`, `Prefix Match`、および `Full Match`.

<!-- AC-1136-->

* カタログ検索のフルテキストインデクサーがストアループの外側に再配置され、インデックスの再作成が効率化されました。 [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-2508-->

* の問題を修正しました。 `array_merge` ループ内で [GitHub-33929](https://github.com/magento/magento2/issues/33929)

### 価格

<!-- ACP2E-445-->

* デフォルトの範囲に値がない（ただし、store-view レベルで定義される）価格属性は、適切にインデックス付けされるようになりました。 以前は、EAV テーブルから価格属性値を取得する SQL 式では、デフォルトのスコープで値が定義されていないシナリオは考慮されていませんでした。

<!-- ACP2E-313-->

* 製品の詳細ページに表示される価格が、選択した数量で異なる階層価格のチェックアウトワークフローに表示される価格と同じになりました（例えば、購入 2 品目と 5 品目で異なる価格の製品）。 以前は、チェックアウト価格は最も低い製品数量の価格を反映していました。

### プロモーション

<!-- ACP2E-690-->

* この **使用時間** 割引の値は、ゲストの顧客が割引を使用して注文し、その後アカウントを登録した場合に 2 回増加しなくなりました。

### ReCAPTCHA

* この **送信** ボタンが非アクティブになり、ReCaptcha が完全に読み込まれるまで、「ログイン」ページと「アカウントを作成」ページが非アクティブになります。

### 返品認証 (RMA)

<!-- MC-40432-->

* この `GET /V1/returnsAttributeMetadata` 現在は、 `rma_item` エンティティのデフォルトの属性セット ID がデフォルトのインストール ID と異なります。 以前は、これらの ID が異なる場合、このエンドポイントは空の結果を返していました。

<!-- ACP2E-247-->

* この **デフォルトを使用** 製品の編集ページで RMA を有効にするために使用されるチェックボックスが、Default Store で期待どおりに動作するようになりました。 以前は、製品を保存するとすぐに「 」チェックボックスがオフになっていました。

### 報酬

<!-- ACP2E-433-->

* 店舗クレジット機能が無効になった場合、報酬ポイントを払い戻すことができるようになりました。

<!-- ACP2E-757-->

* 報酬ポイントを適用した場合のチェックアウトパフォーマンスが向上しました。 条件 `entity` が null の場合、 `magento_reward_history` 状況に応じて、テーブルは必須ではありません。

<!-- ACP2E-674-->

* ゲスト注文のクレジットメモが次の項目をチェックしなくなりました： `customer_id`：クエリをスキップします。 `magento_reward_history` 報酬ポイントのデータベーステーブル。 この変更により、パフォーマンスが向上しました。

### 役割

* この **ストア** >  **設定** > **サービス** リソースアクセスがに設定されている場合、ページにAdobe Commerce Web API 情報が期待どおりに表示されるようになりました。  **カスタム** をクリックします。 [GitHub-35506](https://github.com/magento/magento2/issues/35506)

### 検索

<!-- ACP2E-645-->

* レイヤーナビゲーション上のカラースウォッチで製品をフィルタリングすると、修正後の製品に対して正しい画像が表示されます。

<!-- ACP2E-615-->

* Elasticsearchクエリが `int` は検索可能なバックエンドとして設定されます `type` 属性。 以前は、Adobe Commerceは `Elasticsearch\Common\Exceptions\BadRequest400Exception` 例外です。

<!-- ACP2E-99-->

* 検索の同義語を **一致する最小キーワード数** パラメーターをElasticsearchクエリで使用します。 以前は、このパラメーターが設定で指定され、特定のキーワードに対して検索語句が追加された場合、検索結果は返されませんでした。

<!-- ACP2E-72-->

* Adobe Commerceで、検索候補と **各提案の結果数を表示** の設定が有効になっている。 以前は、キーワードの横に表示されるカウントはゼロでした。

<!-- AC-700-->

* カタログページ上のカスタム属性で並べ替えられた製品が、期待された順序で表示されるようになりました。 以前は、製品は属性オプション値 ID で並べ替えられていました。これは、属性に追加された順序を反映しています。 [GitHub-33810](https://github.com/magento/magento2/issues/33810)

<!-- AC-645-->

* レイヤーナビゲーションで製品をカラースウォッチでフィルタリングし、正しい製品画像が表示されるようになりました。 以前は、レイヤーナビゲーション `PageCache` キーに設定可能な製品のフィルターパラメーターが含まれていませんでした。

<!-- AC-2051-->

* PHP のエラーを修正しました。 `catalogsearch/advanced/result` および  `catalogsearch/advanced/index` ページ。  以前は、Adobe Commerceで、詳細検索文字列で配列が渡されると、次のエラーが表示されていました。  `Warning: trim() expects parameter 1 to be string, array given | magento/module-catalog-search`. [GitHub-33586](https://github.com/magento/magento2/issues/33586)

### 送料

<!-- AC-2052-->

* 許可されている輸送方法が選択されていない場合、Adobe Commerceは UPS の送料を読み込む際にエラーをスローしなくなりました。 以前は、買い物客がこれらの条件でチェックアウトワークフローに配送先住所を入力すると、他の配送方法は表示されず、Adobe Commerceはストアフロントにエラーを表示していました。 [GitHub-34411](https://github.com/magento/magento2/issues/34411)

<!-- AC-2621-->

* 計算表の料金配送額に仮想製品の価格が除外されるようになりました。 以前は、これらの製品の送料は正しく計算されませんでした。[GitHub-35185](https://github.com/magento/magento2/issues/35185)

<!-- ACP2E-209-->

* 割引クーポンが適用された注文のチェックアウトワークフローの「注文の概要」ブロックに、価格がゼロのテーブルレート送料が正しく表示されるようになりました。 以前は、発送方法は表示されませんでした。

### ステージング

<!-- ACP2E-404-->

* Adobe Commerceは、キャッシュされたページが変更されないままのセールスルールに対してステージングの更新を適用した後、フルページキャッシュをクリーンしなくなりました。

<!-- ACP2E-304-->

* コンテンツステージングダッシュボードに非アクティブな永続的な更新が表示されなくなりました。

<!-- ACP2E-257-->

* ステージングダッシュボードからステージング更新の終了日を変更すると、これらの変更がステージング更新とそのエンティティに正常に適用されるようになりました。 （ステージングの更新を処理するためのキューが導入されました。）

<!-- ACP2E-238-->

* マーチャントは、スケジュールされた更新の終了日を削除したり、削除して更新を再作成したりできるようになりました。 以前は、終了日が削除された場合、その時刻に対してエンティティのスケジュールが維持されていました。 Adobe Commerceで、削除されたロールバック用に古い更新が削除されるようになりました。

<!-- ACP2E-149-->

* CMS ページの「スケジュールされた変更」セクションに、CMS ページのアクティブなスケジュール更新が期待どおりに表示されるようになりました。

<!-- ACP2E-81-->

* この `custom_design_to` スケジュールされた更新が変更された場合、属性値が期待どおりに更新されるようになりました。 以前は、終了時間のない 2 つの異なるカテゴリデザインの更新は、1 つとして扱われていました。 最初の更新の実行中にスケジュールされた更新の 1 つが削除された場合、 `custom_design_from` 時間の値が次の値より大きくなりました： `custom_design_to` 次のスケジュールされた更新の時間値。

<!-- ACP2E-58-->

* Formsは、スケジュールされた更新の編集後に、期待どおりにデータが入力されるようになりました。

<!-- ACP2E-18-->

* この `vendor/magento/module-catalog-staging/Setup/Patch/Data/MigrateCatalogProducts.php` データベースにカスタムオプションと `special_from_date` 属性が設定されている。

<!-- ACP2E-741-->

* 実行中の更新によって変更が追加された場合、スケジュールされた 2 回目の更新中に変更が保存されるようになりました。 以前は、変更は保存されず、マーチャントは変更を再入力して保存する必要がありました。

<!-- ACP2E-21-->

* バルクアクションログに、失敗に関する情報が表示されるようになりました `to be moved` スケジュールされた更新。 以前は、これらのエラーに関する情報は、 `cron.log` ファイルのみ。

<!-- ACP2E-420-->

* ロケールに関係なく、定期更新で商品価格を編集する際、マーチャントではコンマ区切りの価格の使用が制限されるようになりました。 以前は、予定された更新にコンマを含む価格をロケールに応じて 1,000 で割っていました。

<!-- AC-3214-->

* PHP 8.1 を実行しているデプロイメントでの DHL 国内配送に関する問題は、国際配送に対してのみ追加可能なタグを必要とすることで解決されました。

### 税

<!-- ACP2E-735-->

* 買い物かご内の製品に対して、固定製品税 (FPT) が正しく表示されるようになりました。 以前は、買い物かご内の複数の製品が **固定製品税 (FPT)** および **FPT に税を適用** が有効になっている場合、すべての FPT が買い物かごの最後の製品に割り当てられ、他の製品に対してリセットされました。

<!-- ACP2E-350-->

* チェックアウトワークフローの注文概要セクションの固定製品税 (FPT) の合計が正しく計算されるようになりました。

<!-- ACP2E-291-->

* Adobe Commerceは、シンプルな製品の数量が変更された後に、期待どおりに、製品ページ上のシンプルな製品の税層価格を除外する機能を更新するようになりました。

<!-- ACP2E-182-->

* ドロップダウンリストから選択した国が EU 国リストに含まれているかどうかを確認するための検証がストア設定ページに追加されました。 この **VAT 番号の検証** ボタンは、EU 諸国でのみ表示されるようになりました。 以前は、このボタンは、英国を含むすべての国で表示されていました。

<!-- ACP2E-45-->

* 階層価格は、 **カタログに商品価格を表示** が **税別** または **税込み及び除外**. 以前は、設定にもかかわらず、製品の詳細ページに税の階層価格が表示されていました。

<!-- AC-1925-->

* ポルトガル語のロケールを使用して、店舗で有効な住所に対する注文に対して、税が正しく適用されるようになりました。 [GitHub-34271](https://github.com/magento/magento2/issues/34271)

<!-- AC-1084-->

* この `cart` 返品時に税を含まなくなったクエリ `subtotal_with_discount_excluding_tax`. [GitHub-33905](https://github.com/magento/magento2/issues/33905)

<!-- ACP2E-651-->

* 注文データ (`GET /V1/orders/`) の場合、行の合計に負の値を返さなくなりました。

### テスト

<!-- AC-2004-->

* 次のエラーを修正しました： `Magento.GraphQl.CatalogGraphQl.ProductSearchTest.testSearchSuggestions` AWSElasticsearch設定で実行する場合

<!-- AC-1113-->

* この `testCreateProductOnStoreLevel` 統合テストで、データベース上のネストされたトランザクションが発生しなくなりました。

* 製品イメージが PHP 8.1 に設定されていない場合、友達を送信機能の WebAPI テストを実行する際に、次の例外が発生しなくなりました。  `exception main.ERROR: /var/www/html/lib/internal/Magento/Framework/DataObject.php:131 strpos(): Passing null to parameter #1 ($haystack) of type string is deprecated`. [GitHub-34864](https://github.com/magento/magento2/issues/34864)

### 翻訳とロケール

<!-- ACP2E-537-->

* インライン翻訳ツールを使用して、同じ要素を複数回編集できるようになりました。 以前は、このツールを使用して行った最初の変更のみが含まれていました。

<!-- ACP2E-437-->

* ストア表示セレクターで、管理テキストまたはラベルを編集する際に、翻訳パネルがブロックされなくなりました。 これらの機能を翻訳ウィンドウから編集できるようになりました。インターフェイスでは、「 **送信**.

<!-- ACP2E-362-->

* ポルトガル語（ブラジル）とフランス語（フランス）のロケールの管理日時形式が有効になりました。

<!-- ACP2E-785-->

* 抑音符付きのアクセントを追加しました [ \` ] 文字を名前バリデーターに追加して、このアクセントを含む姓または名に対して顧客アカウントを作成できるようにします。

<!-- ACP2E-682-->

* 上の **買い物かごに追加** ボタンが、関連するロケールで指定された言語に翻訳されたままになりました。 翻訳ファイルが、 `translate_strategy=embedded`. 以前は、買い物かごに商品を追加すると、テキストは英語に戻っていました。

<!-- ACP2E-752-->

* 検索シノニムが、割り当てられたストア範囲を考慮するようになりました。 以前は、特定のストアに割り当てられたシノニムは、他のストアでも検索できました。

<!-- AC-1178-->

* フィリピン語（フィリピン）のロケールの問題は解決されました。 [GitHub-33996](https://github.com/magento/magento2/issues/33996)

### UI

<!-- ACP2E-557-->

* の製品名が長い **カタログ** > **製品** グリッドが、単一の線で表示されるのではなく、ワードラップされるようになりました。

<!-- ACP2E-347-->

* 最小と最大の生年月日範囲が正しいタイムスタンプとして保存され、有効なタイムスタンプから有効な日付形式に変換されるようになりました。

<!-- ACP2E-280-->

* の使用不能 `magento.com` では、管理者ログイン中にパフォーマンスの問題が発生しなくなりました。 リリース通知を取得するリクエストのタイムアウトが追加されました。

<!-- ACP2E-88-->

* 管理者の注文、顧客および製品のグリッドフィルターの結果が、Chrome ブラウザーに表示される際に、期待どおりに保持されるようになりました。

<!-- AC-2750-->

* これで、 `Magento_LoginAsCustomerAdminUi` が有効かつ **ログイン先の表示を保存** は手動選択に設定されます。 以前は、Adobe Commerceが次のエラーをスローしていました。 `(Magento\Framework\Exception\LocalizedException): Unable to get Customer ID`. [GitHub-33096](https://github.com/magento/magento2/issues/33096)

<!-- AC-2076-->

* 買い物客が製品の画像ギャラリーで最後のサムネール画像に到達すると、「次へ」矢印が期待どおりに無効になります。

<!-- AC-2060-->

* この **キーワードで検索** 入力フィールドに `aria-label` 要素を **カタログ** > **製品** ページ。

<!-- AC-3058-->

* 管理フッターの「プライバシーポリシー」リンクが新しいプライバシーポリシーにリンクされるようにAdobeしました。

<!-- AC-2880-->

* 実稼働モードで JavaScript のバンドルが有効になっている場合、管理者が管理者メニューオプションにアクセスできるようになりました。  [GitHub-35325](https://github.com/magento/magento2/issues/35325)

<!-- AC-2851-->

* 管理者は、現在のユーザーの有効期限を 2038 よりも長く設定し、ユーザーを正常に保存できるようになりました。 以前は、有効期限が変更されたユーザーは、ログアウト後にログインし直すことができませんでした。

<!-- AC-751-->

* Adobe Commerceで、管理者が住所の行数が多い場合に、情報を示すエラーメッセージが表示されるようになりました。 **ストア** > **属性**  > **顧客の住所**.  これで、管理者は、追加のアドレス情報を削除して、アドレスを正常に保存できるようになりました。 以前は、Adobe Commerceは余分な行をコミットしましたが、データは保存しませんでした。

<!-- ACP2E-546-->

* データベースとローカルストレージの製品リスト表示の設定が更新されました。 ページの再読み込み中およびビューの変更中に、カスタムグリッドビューが保存されるようになりました。

<!-- ACP2E-747-->

* Web サイトの制限が有効な場合に、ストア表示を切り替えることができるようになりました。 以前は、ストア表示切り替えボタンに関する問題により、ストア表示を切り替えることができませんでした。

<!-- AC-2042-->

* favicon アイコンアップロードフォームがサポートされるようになりました。 `.ico` ファイルタイプ。 以前は、この拡張子タイプの favicon ファイルを Admin でアップロードしようとすると、Adobe Commerceに次のエラーが表示されていました。 `Warning: imagecreatefromstring(): one parameter to a memory allocation multiplication is negative or zero, failing operation gracefully in /var/www/html/vendor/magento/module-media-storage/Model/File/Validator/Image.php on line 64`. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

<!-- AC-3122-->

* 管理グリッドのドロップダウン選択メニューの表示の問題を修正しました。 [GitHub-35386](https://github.com/magento/magento2/issues/35386)

<!-- AC-2055-->

* [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### URL の書き換え

<!-- AC-2535-->

* 特定のストア表示での製品の URL のみが、 `url_rewrite` テーブルと管理を、特定のストアビューの属性コード表示ステータスが **個別に表示されない**.  以前は、 `url_rewrite` 表。 [GitHub-34937](https://github.com/magento/magento2/issues/34937)

### ビデオ

<!-- ACP2E-485-->

* ページビルダーを使用してYouTube URL パラメーターを使用し、新しいビデオを追加できるようになりました。 以前は、これらのパラメーターは URL から自動的に削除されていました。

<!-- AC-2251-->

* Vimeo ビデオをバックグラウンドで実行するように、 `banner` 要素 (CSP が `restrict mode`. 以前は、Adobe Commerceは JavaScript エラーをスローしていました。

### Web API フレームワーク

<!-- ACP2E-694-->

* 同時要求による更新中の競合状態を防ぐため、注文に対してミューテックスが実装されました。 以前は、同時 REST API 呼び出し中の競合状態により、管理項目順序テーブルの配送状況情報が上書きされていました。

<!-- ACP2E-677-->

* REST API を使用して特定のストア表示で製品を更新する際に、ペイロードで明示的に定義されない限り、製品画像の役割の継承が保持されるようになりました。

<!-- AC-2231-->

* Swagger スキーマ (`/rest/schema`) は一意の操作 ID を使用するようになりました。

<!-- AC-2845-->

* で作成された買い物かごの価格ルール `POST /V1/salesRules/` エンドポイントのステータスを「無効」から「有効」に変更した後、既存のクーポンコード値を保持するようになりました。 [GitHub-35298](https://github.com/magento/magento2/issues/35298)

<!-- AC-2764-->

* で作成された買い物かごの価格ルール `POST /V1/salesRules/` エンドポイントに有効なが含まれるようになりました `from_date` および `to_date` 値。 [GitHub-35265](https://github.com/magento/magento2/issues/35265)

<!-- AC-2522-->

* `CartItemInterface` 次を含む `customizable_options`. [GitHub-31180](https://github.com/magento/magento2/issues/31180)

<!-- AC-2898-->

* REST API の一括PUTおよびDELETEリクエストが、 `Magento_ReCaptchaWebapiRest` モジュールが有効になっている。 [GitHub-35348](https://github.com/magento/magento2/issues/35348)

<!-- AC-763-->

* Bulk Rest API が `bySku` 設定可能な製品のオプション。 以前は、500 エラーが返されていました。

<!-- AC-1169-->

* この `/V1/products/base-prices` エンドポイントがで期待どおりに動作するようになりました。 **カタログ価格モード — Web サイト**. [GitHub-30132](https://github.com/magento/magento2/issues/30132)

<!-- AC-441-->

* を使用した新しい特別な価格スケジュールの作成 `POST /V1/products/special-price` エンドポイントが期待どおりに動作するようになりました。 以前は、エンドポイントが次のエラーを返していました。 `Future Update already exists in this time range. Set a different range and try again`.

### ウィッシュリスト

<!-- ACP2E-459-->

* ウィッシュリストページから品目数量を更新すると、製品詳細ページの数量が期待どおりに更新されるようになりました。 Adobe Commerceが製品 URL から更新された値を取得し、 `qty` ウィッシュリスト自体の製品の詳細ページのフィールド。

## 既知の問題

**問題**:管理者ユーザーは、Braintreeが有効な場合、管理者から顧客の注文を作成したり、再注文を行ったりすることはできません。 管理者ユーザーが **注文** または **並べ替え**&#x200B;を使用している場合、Adobe Commerceは注文を送信せず、  `system.log` 次のエラーを表示： `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.  **回避策**:  `BUNDLE-3137-composer.patch` が利用できるようになりました。 詳しくは、 [管理者が注文/並べ替えを作成できないのはBraintree支払いが有効なときです](https://support.magento.com/hc/en-us/articles/8322266352525) この問題の説明とパッチへのアクセスに関するナレッジベース記事。 クラウドマーチャントは、コマース v1.0.18 用のクラウドパッチをダウンロードする必要があります。修正は、Adobe Commerce 2.4.5-p1 にも含まれます。 <!-- AC-6222-->

**問題**: [!DNL RabbitMQ] Adobe Commerce 2.4.5 の新規インストール（アップグレードではない）後、インフラストラクチャ要素（交換、キュー）が初期化されない場合があります。この誤った設定は、 [!DNL RabbitMQ] 非同期操作が実行されたり、パフォーマンスプロファイルが生成されたりすると、致命的なエラーが発生する場合があります。 クラウドのデプロイメントには影響はありません。 **回避策**:オンプレミスでAdobe Commerce 2.4.5 の新規インストールを実行するマーチャントは、 `bin/magento setup:upgrade --keep-generated` 使用後 `bin/magento setup:config:set` 設定する [!DNL RabbitMQ] を渡すか、Adobe Commerceをインストールする [!DNL RabbitMQ] 設定オプションを `setup:install` コマンドを使用します。 詳しくは、 [[!DNL RabbitMQ]](../../../installation/prerequisites/rabbitmq.md).

## コミュニティへの貢献

私たちは、より広いMagento Open Sourceコミュニティに感謝し、このリリースに対する彼らの貢献を認めたいと思います。

コミュニティエンジニアリングチーム [Magento寄稿者](https://magento.com/magento-contributors) は、貢献度の高い個人およびパートナーのリストを月、四半期、年別に管理しています。 寄稿者ページから、GitHub 上の結合された PR へのリンクをたどることができます。

### パートナーへの貢献

次の表に、パートナーによる貢献の概要を示します。 この表は、プル要求に貢献したパートナー、外部のプル要求番号、および関連付けられている GitHub 問題番号（使用可能な場合）を示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-5-partner.md}}

### 個々の投稿者への投稿

次の表に、コミュニティメンバーからの投稿を示します。 この表は、プル要求に貢献したコミュニティメンバー、外部のプル要求番号、および関連付けられている GitHub 問題番号（使用可能な場合）を示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-5-issues.md}}

## 必要システム構成

当社の技術スタックは、PHP および MySQL 上で構築されています。 詳しくは、 [必要システム構成](../../../installation/system-requirements.md).

## インストールおよびアップグレードの手順

Adobe Commerce 2.4.5 は、 [コンポーザー](../../../installation/composer.md).

