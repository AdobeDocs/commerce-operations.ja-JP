---
title: Magento Open Source2.4.3 リリースノート
description: 2.4.3Magento Open Sourceリリースの新機能、機能強化、バグ修正および既知の問題について説明します。
exl-id: fba0e147-1aa2-4c41-bc7d-51dd6755e014
source-git-commit: 55e0e688999c47f72593df46648609d9f9f98398
workflow-type: tm+mt
source-wordcount: '13300'
ht-degree: 0%

---

# Magento Open Source2.4.3 リリースノート

Magento Open Source2.4.3 では、パフォーマンスとセキュリティが強化され、プラットフォームが大幅に改善されました。 セキュリティの強化には、reCAPTCHA の範囲の拡大、組み込みのレート制限の組み込みなどが含まれます。 コアコンポーザーの依存関係とサードパーティライブラリは、PHP 8.x と互換性のある最新バージョンにアップグレードされました。Page Builder は、バンドルされた拡張機能として Page Builder で使用できるようになりました。Magento Open Source これが、Adobe CommerceおよびMagento Open Sourceのデフォルトのコンテンツ編集ツールになりました。

このリリースには、コアコードに対する 370 件以上の新しい修正と 33 件のセキュリティ強化が含まれています。 これには、コミュニティメンバーによる 290 件近くの GitHub の問題の解決が含まれています。 このコミュニティへの投稿は、コアコードの小規模なクリーンアップから、GraphQLでの大幅な機能強化まで多岐にわたります。

このリリースには、コアコードに対する 370 件以上の新しい修正と 33 件のセキュリティ強化が含まれています。 Magento Open Source2.4.2 のリリースノートで識別された既知の問題は、すべてこのリリースで修正されました。

{{bics}}

詳しくは、 [Adobe Commerce 2.4.2-p2 リリースノート](../security/2-4-2-p2.md) Adobe Commerce 2.4.2-p2 に関する情報。

## その他のリリース情報

これらの機能のコードは四半期ごとのリリースにバンドルされていますが、これらのプロジェクト (Progressive Web Application(PWA)Studio など ) の一部も個別にリリースされています。 これらのプロジェクトのバグ修正は、個別のプロジェクト固有のリリース情報に記載されています。この情報は、各プロジェクトのドキュメントに記載されています。

## 適用 `AC-3022.patch` DHL を輸送船に供給し続ける

DHL はスキーマバージョン 6.2 を導入し、近い将来にスキーマバージョン 6.0 を廃止します。 DHL 統合をサポートするAdobe Commerce 2.4.4 以前のバージョンは、バージョン 6.0 のみをサポートします。これらのリリースをデプロイしているマーチャントは、適用する必要があります `AC-3022.patch` 最も早い便宜で、DHL を輸送船として提供し続ける。 詳しくは、 [パッチを適用して、DHL を配送先として提供し続けます](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) パッチのダウンロードとインストールに関する情報については、ナレッジベースの記事を参照してください。

## MC-43048__set_rate_limits__2.4.3.patch を適用して、API レート制限の問題に対処します。

このホットフィックスは、配列に 20 個を超える項目を含む要求を Web API が処理できない問題の解決方法を提供します。 この問題は、Magento Open Source2.4.3、Adobe Commerce 2.4.3、または 2.3.7-p1 を実行しているデプロイメントに影響します。 これらのリリースには、サービス拒否 (DoS) 攻撃を防ぐために組み込みのレート制限が追加され、デフォルトの最大値が 20 に設定されています。 このパッチは、デフォルトの制限値をより大きい値に戻します。 ストアで DoS 攻撃が発生していると思われる場合は、Adobeで、デフォルトの入力制限を小さい値に下げて、リクエストできるリソースの数を制限することをお勧めします。 詳しくは、 [Web API は、配列内の 20 個を超える項目を持つリクエストを処理できません](https://support.magento.com/hc/en-us/articles/4406893342093) ナレッジベース記事。

## AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch を適用して、アップグレード時の PHP の致命的なエラーに対処します。

Magento Open Source2.4.3 へのアップグレード中に、次の致命的なエラーが発生する場合があります。

```terminal
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

このエラーは、 `str_contains` 関数です。PHP 8.x 関数です。 Open Source 2.4.3 アプリケーションは PHP 8.x をサポートしていません。このホットフィックスは、この関数をサポートされる PHP 7.x 関数に置き換えます。 詳しくは、 [Adobe Commerceアップグレード 2.4.3、2.3.7-p1 PHP 致命的なエラー修正プログラム](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) ナレッジベース記事。

## ハイライト

このリリースでは、次の点に注意してください。

### セキュリティの大幅な強化

このリリースには、33 件のセキュリティ修正とプラットフォームのセキュリティ改善が含まれています。 これらのセキュリティ修正の多くは、2.4.2-p2 および 2.3.7-p1 に移植されています。

#### リモートコード実行 (RCE) およびクロスサイトスクリプティング (XSS) の脆弱性を閉じるのに役立つ、33 種類のセキュリティ強化機能

これらの問題に関する確認済みの攻撃は、現在までには発生していません。 ただし、一部の脆弱性は、顧客情報にアクセスするために悪用されたり、管理者セッションを引き継ぐ可能性があります。 これらの問題のほとんどは、攻撃者が最初に管理者へのアクセス権を取得する必要があります。 その結果、管理者を保護するために必要なすべての手順 (IP許可リストに加える、 [二段階認証](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)、VPN の使用、ではなく一意の場所の使用 `/admin`、およびパスワードの正常性が向上しました。 詳しくは、 [Adobeセキュリティ情報](https://helpx.adobe.com/security/products/magento/apsb21-64.html) これらの修正された問題に関する議論を

#### その他のセキュリティ強化

このリリースのセキュリティ強化により、次のような最新のセキュリティのベストプラクティスへの準拠が改善されました。

* A **新しい Composer プラグイン** は、依存関係の混乱を防ぎ、パブリックパッケージリポジトリー上の内部パッケージと同じ名前の悪意のあるパッケージを識別するのに役立ちます。 詳しくは、 [Adobeリリース 2.4.3 リリースを含む新しい Composer プラグイン](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) ブログ投稿。

* **レート制限が API に組み込まれるようになりました。** ：サービス拒否 (DoS) 攻撃を防ぐために使用します。 Web API では、クライアントからリクエストできるリソースのサイズまたは数に制限が設けられるようになりました（デフォルトの最大値は 20 に設定され、ビジネスニーズに応じて異なる値に設定できます）。 詳しくは、 [レート制限](https://developer.adobe.com/commerce/webapi/get-started/api-security/) を参照してください。 <!-- MC-35358-->

* **ReCAPTCHA の範囲が拡張されました** 次を含めます。

   * 対応するHTMLページを持つ Web API は、ReCAPTCHA でカバーされます。 （これは、統合によってアクセスされる Web API を除外します）。 ReCAPTCHA の有効範囲は、エンドポイントをスパム攻撃から保護します。 OAuth を使用するサードパーティの統合サービスによって Web API にアクセスすると、ReCAPTCHA は無効になります。<!-- MC-34472-->

   * 発注ストアフロントページおよび支払い関連の Web API。 これらのページの ReCAPTCHA 保護は、デフォルトで無効になっており、管理者から有効にできます。 この報道は、ストアをカーディング攻撃から守るための抗ブルートフォースメカニズムを追加します。

{{cve-notice}}

### インフラストラクチャの改善

このリリースには、フレームワークの品質を向上させる機能強化と、次の機能領域が含まれています。

* 顧客アカウント

* カタログ

* CMS

* OMS

* インポート/エクスポート

* プロモーションとターゲティング

* 買い物かごとチェックアウト

* B2B

* ステージングとプレビュー

**PayPal Pay Later がサポートされるようになりました。** PayPal を含むデプロイメントで使用できます。 この機能を使用すると、買い物客は購入時に全額を支払う代わりに、隔週の分割払いで注文に対して支払うことができます。 <!-- MC-40556-->

**新規 `use_application_lock` インデックス作成モード**. The `use_application_lock` モードでは、環境変数を使用して、または `app/etc/env.php` ファイル。 このモードを有効にした場合、失敗後にインデクサーを手動でリセットする必要がなくなりました。  詳しくは、 [再インデックス処理に対するアプリケーションロックモードの使用](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Platform の機能強化

バージョン 2.4.3 は PHP 8.x とはまだ互換性がありませんが、次のプラットフォームのアップグレードは、PHP 8.x との将来の互換性に近いものになります。

* Core Composer の依存関係とサードパーティライブラリは、PHP 8.x と互換性のある最新バージョンにアップグレードされました。 <!-- MC-39514-->

* KnockoutJS ライブラリが v3.5.1（最新バージョン）にアップグレードされました。 <!-- MC-40694-->

* 非推奨（廃止予定）の TinyMCE v3 ライブラリが削除されました。 The `Magento_Tinymce3Banner` TinyMCE v3.x に関連するモジュールおよび MFTF テストがAdobe Commerceから削除されました。 <!-- MC-42199 42170 -->

* Magento Open Source2.4.3 はテスト済みで、Redis 6.0.12 との互換性が確認されています。 （バージョン 2.4.x は Redis 5.x との互換性が維持されます）。

* Laminas ライブラリの依存関係は、PHP 8.x 互換バージョンにアップグレードされました。 一部の冗長な依存関係が `composer.json` ファイル。 **Magento Open Source2.4.3 は Laminas 3.4.0 を使用**. <!-- MC-39513-->

### パフォーマンスの強化

このリリースには、製品価格およびカタログルールのインデクサーのインデクス作成時間を短縮する機能が含まれています。 マーチャントは、顧客グループまたは共有カタログから Web サイトを除外できるようになりました。これにより、インデックス作成用のレコードの数が減り、インデックス作成に要する時間が短縮されます。

### Adobe Stock統合

このリリースには、Adobe Stock Integration v2.1.1 が含まれています。

### GraphQL

このリリースでは、共有ルートのGraphQLカバレッジが追加されました。 The [ルートクエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/route.html) および [RoutableInterface](https://devdocs.magento.com/guides/v2.4/graphql/interfaces/routable-interface.html) は、製品、カテゴリ、CMS ページのルーティングリクエストをサポートします。 The `urlResolver` クエリは廃止され、その機能は `route` クエリ。

詳しくは、 [GraphQL Developer Guide](https://devdocs.magento.com/guides/v2.4/graphql/) を参照してください。

### Page Builder

Page Builder は、バンドルされた拡張機能として Page Builder で使用できるようになりました。Magento Open Source Adobe Commerce 2.4.3 およびMagento Open Source2.4.3 のデフォルトのコンテンツ編集ツールになりました。WYSIWG エディターを任意のサードパーティモジュールに置き換えることができます。

以下の管理領域で、TinyMCE エディターがページビルダーに置き換えられました。

* CMS ページ
* CMS ブロック
* カテゴリの説明
* 製品の説明

TinyMCE で作成されたすべてのコンテンツは、HTMLとして Page Builder に移行されました。

### PWA Studio

機能強化とバグ修正について詳しくは、 [PWA Studioリリース](https://github.com/magento/pwa-studio/releases). 詳しくは、 [互換性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) を参照してください。

### アップグレード互換性ツール

の範囲 [アップグレード互換性ツール](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) は、コミュニティからのフィードバックに基づいて拡張されました。 参加する [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) Slackチャネルを使用して、Adobe製品チームやコミュニティからサポートを受け、ツールの将来の方向性をガイドするのに役立ちます。

### ベンダーが開発した拡張機能

このリリースの機能と変更点に関する更新については、次の記事を参照してください。

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://docs.magento.com/user-guide/payment/braintree.html)

* [DotDigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [クラルナ](https://marketplace.magento.com/klarna-m2-klarna.html)

* [頂点雲](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Yotpo 製品レビュー](../../../upgrade/modules/upgrade.md)

## 修正された問題

2.4.3 コアコードでの数百の問題を修正しました。

### インストール、アップグレード、導入

<!-- MC-41154-->

* The `bin/magento setup:db:status` コマンドが正常にアップグレードされた後、すべてが最新であることを示すメッセージを返すようになりました。 以前は、アプリケーションで次のエラーが表示されていました。 `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* 新しい設定可能な製品の作成に失敗した場合に、フォームの再読み込み時に設定値が保持されるようになりました。 以前は、フォームの再読み込み中に値が失われ、アプリケーションが次のエラーを表示していました。 `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* 実行時にアプリケーションが例外をスローしなくなりました。 `bin/magento setup:upgrade` Redis を使用したMagento Open SourceデプロイメントからAdobe Commerceにアップグレードする場合。

<!-- ENGCOM-8508 -->

* Galera Cluster 上で実行されているデプロイメントで、より多くのお客様をサポートするようになりました。 [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* アプリケーションが `—use-rewrites=0` オプションまたは `web/seo/use_rewrites` 0 に設定 `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* 更新済み `sortOrder` ～に向けて荷物を積む `AsyncCssPlugin`. アプリケーションが読み込まれます。 `AsyncCssPlugin` 前 `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` では、表示パスをチェックして要素が存在するかどうかを判断し、設定パスが含まれているかどうかを `config.xml` path を使用します。 [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* Grunt またはサーバー側のコンパイルで Less ファイルをコンパイルすると、同じ結果が得られるようになりました。 以前。 `.abs- styles`は、他の `.abs- styles` in `_extends.less`は、Grunt を使用してコンパイルした場合、正しく出力されませんでした。 その結果、実稼動デプロイメントと開発デプロイメントで違いが生じていました。 [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### Adobe Stock統合

<!-- MC-39754-->

* 情報メッセージと管理者へのリンクがアプリケーションに表示されるようになりました。 **ストア** > **設定** > **詳細** > **システム** ページを開き、「Adobe Stockを検索」ページで **API キー（クライアント ID）** および **クライアントの秘密鍵** が設定されていません。 以前は、アプリケーションで次のエラーが表示されていました。 `We couldn't find any records` リンクはありません。

### バックエンド

<!-- MC-40389-->

* アクセスが制限された管理者（1 つの Web サイトへのアクセスのみが割り当てられた管理者など）は、「グローバル」スコープに設定されたカテゴリを編集できなくなりました。

<!-- MC-39037-->

* 生成されたシステムレポート (**システム** > **サポート** > **システムレポート**) が正しくレンダリングされるようになりました。 以前は、レポートの内容の表示がずれていました。

<!-- MC-30152 ENGCOM-8625-->

* アプリケーションは、 **価格** 期待どおりに **動的な価格** 設定は、バンドル製品の作成時に有効になります。 以前は、 **価格** フィールドに、 **動的な価格** の設定が有効になっています。 [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* 2 つの URL からアクセスできるようにアプリケーションが設定されているデプロイメントで、管理 URL がデフォルトの Web サイト URL と異なる場合、無限リダイレクトは発生しなくなりました。

### 製品のバンドル

<!-- MC-41810-->

* これで、 `addProductsToCart` ミューテーション：複数のチェックボックスオプションを含むバンドル製品を買い物かごに追加します。

<!-- MC-41614-->

* バンドル製品の価格インデックス作成が、一時テーブルを使用して実行されるようになり、データベーステーブルのロックを回避できます。 以前は、アプリケーションで物理テーブルを使用していたため、ロックされたテーブルになりました。

<!-- MC-41177 magento/magento2#32594-->

* バンドル品目の価格を 0.00 に設定できるようになりました。以前は、価格を 0.00 に設定した後、編集ページに戻った場合、価格はデフォルト値に戻されていました。 [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* 注文がおこなわれる前に価格が変更された場合、バンドル製品を含む注文の注文詳細に、バンドル製品の正しい価格が表示されるようになりました。

<!-- MC-40035-->

* バンドル製品の在庫ステータスが、子製品の在庫ステータスに基づいて更新されるようになりました。 以前は、1 つのオプションが製品から削除されると、バンドル製品が在庫切れと表示されていました。また、バンドル製品には、同じ SKU を持つ 2 つのオプションがありました。

<!-- MC-39276-->

* 管理者がバンドル製品の値を変更できるようになりました。 `Shipment Type` 属性を別の属性グループに移動した後。 以前は、この属性は常に `Together` 属性セット内のデフォルトグループ以外の属性グループに移動した場合の値。

<!-- MC-38900-->

* ザGraphQL `setGuestEmailOnCart` ミューテーションでゲスト E メールが正しく更新されるようになりました。 以前は、見積もりと見積もりの住所のテーブルは更新されていませんでした。

<!-- MC-37719-->

* REST API 呼び出しを使用して、バンドル製品に子製品を追加、削除または更新すると、トリガーが期待どおりにインデックスを再作成するようになりました。 以前は、これらのアクションではインデックスの再作成がトリガーされず、その結果、手動でインデックスの再作成が実行されるまで、バンドル製品の在庫ステータスは変更されませんでした。

<!-- MC-35725 ENGCOM-8568-->

* これで、バンドル製品の価格帯が階層価格で正しく表示されるようになりました。 [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* これで、アプリケーションに、買い物かごページと、チェックアウトワークフローの出荷手順で、バンドルオプションの価格が変更された後の予想と同じ合計価格が表示されるようになりました。

<!-- MC-32617-->

* 顧客の買い物かごからバンドル製品にアクセスして、正常に設定できるようになりました。 以前は、製品を設定ページは完全に読み込まれず、設定を保存できませんでした。

<!-- MC-30317 ENGCOM-7141-->

* マーチャントは、マルチストアデプロイメントの各ストア表示で、バンドル製品に一意の価格を割り当てることができるようになりました。 Web サイト固有の価格は、 `catalog_product_bundle_selection_price` 表。 以前は、Web サイトの範囲でバンドル製品の価格をベースにしていなかったのは、  **ストア** > **設定** > **カタログ** > **カタログ** > **価格** > **カタログ価格範囲** はに設定されています。 `Website`. Web サイト固有の価格は、 `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* バンドル製品の請求書で、関連する単純製品の正しい数量が表示されるようになりました。 **動的な価格設定** は無効です。 以前は、バンドル製品に関連付けられた単純な製品は、バンドル製品ではなく親製品の数量を持っていました。 [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* The `updateProductsInWishlist` ミューテーションで、ウィッシュリストのバンドル製品に属する項目が正常に更新されるようになりました。 以前は、このミューテーションによって項目が削除され、新しい項目が作成されて、項目 ID が変更されていました。

### キャッシュ

<!-- ENGCOM-8554-->

* The `varnish6.vcl` ファイルが更新され、顧客ページのキャッシュがバイパスされました。

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA は買い物客が提供するデータを正しく検証し、買い物客が PayPal Payflow Pro でチェックアウトを試みた後に、CAPTCHA フィールドが期待どおりに表示されるようになりました。

<!-- MC-41281-->

* CAPTCHA 検証が、チェックアウトワークフローの支払いページでランダムに失敗しなくなりました。

<!-- MC-41001-->

* 完了試行の失敗数を超えた後、CAPTCHA フィールドが期待どおりに表示されるようになりました。 以前は、アプリケーションが CAPTCHA チャレンジを再試行するように促しましたが、CAPTCHA フィールドは表示されませんでした。

<!-- MC-40359-->

* CAPTCHA がチェックアウトページで期待どおりに動作するようになりました。 以前は、買い物客が CAPTCHA の課題に正しく答えた後、チェックアウトページのローダーが完了せず、アプリケーションが次のエラーを表示していました。 `captchaData[formId] is undefined`. （このエラーは、2.3.5-p1 を実行するデプロイメントに以前にアクセスしたのと同じブラウザーを買い物客が使用した場合にのみ発生していました。）

<!-- ENGCOM-8630-->

* `_.isEmpty()` チェックイン `defaultCaptcha.js` ファイルが正常に完了しました。 以前は、これらのチェックは完了せず、その結果、アップグレード後にチェックアウトページを読み込めませんでした。 [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### 買い物かごとチェックアウト

<!-- MC-41911-->

* 買い物かご内の製品数量を変換および更新する際に、ロケール固有の小数ロケーターが考慮されるようになりました。

<!-- MC-40657-->

* 買い物客が **発注** 」ボタンをクリックします。 以前は、買い物客がチェックアウトワークフローで支払い方法を変更すると、アプリケーションは「割引コードの適用」ブロックに次のメッセージを表示していました。 `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-39581-->

* 買い物客が **更新** ボタンをクリックし、発送ステップに戻ります。

<!-- MC-37807 ENGCOM-8530-->

* カスタマイズ可能なオプションを持つ製品 `(File)` マルチシッピングのチェックアウトプロセス全体で、期待どおりにアクティブなリンクを含めるようになりました。 以前は、このリンクはありませんでした。 [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* 管理買い物かごで、複数の通貨をサポートする店舗の正しい通貨で製品価格が表示されるようになりました。 以前は、価格が複数回指定した通貨に変換されていました。最初は、製品がストアフロントから買い物かごに追加されたときで、次にその注文が管理画面に表示されたときです。

<!-- MC-35640-->

* 買い物客は、最低広告価格 (MAP) が通常の製品価格を超える製品を買い物かごに追加できるようになりました。

<!-- MC-35289-->

* 複数のアドレスをチェックアウトする際に、購入者がチェックアウトワークフローから請求先住所を正しく変更できるようになりました。

<!-- MC-29335 magento/magento2#32251 -->

* ゲストが作成したすべての有料支払トランザクションがデータベースに保存され、管理者に期待どおりに表示されるようになりました。 以前は、同時注文のごく一部のみがデータベースに保存され、ほとんどの注文は、データベースのロックによるタイムアウトが原因で失われていました。 [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989-->

* ゲストが製品をミニカートに入れる際に、特殊文字を含むインラインようこそメッセージがアプリケーションに正しく表示されるようになりました。 以前は、アプリケーションが製品をミニカートに追加したり、ようこそメッセージを表示したりしませんでした。 [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* 店舗配信が有効な場合、チェックアウトワークフローの出荷ページが正常に読み込まれるようになりました。 以前は、アプリケーションが JavaScript エラーをスローし、配送のチェックアウトページが完全には表示されませんでした。

<!-- ENGCOM-9006-->

* 追加された `itemResolvers` カタログへの引数 `di.xml` ファイル。 その結果、設定可能な製品モジュールとグループ化された製品モジュールが無効化されても、チェックアウトが機能しなくなりました。 [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* これで、 **支払いと配送先情報** セクションが予期したとおりに表示されるので、管理者の並べ替えワークフローの実行中に変更します。 [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* 買い物かごに複数のオプションを含むバンドル製品が含まれている場合、アプリケーションは、買い物かごレベルの固定割引を含む買い物かごの価格ルールを正しく適用するようになりました。 以前は、買い物かごの価格ルールが注文に完全に適用されていませんでした。 [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* The **買い物かごに追加** カテゴリリスト表示のボタンが期待どおりに動作するようになりました。 [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* これで、POST `/V1/carts/mine/items` をクリックして、グループ化された製品のカスタム数量を買い物かごに追加します。 [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* アプリケーションは、チェックアウトワークフローの請求先住所領域に配送先住所を入力しなくなりました。 以前は、 **都道府県** 請求先住所のフィールドが空で、発送先住所と請求先住所が異なる場合、アプリケーションが請求先住所を入力しました **都道府県** フィールドに、配送先住所からの情報を入力します。 [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### カタログ

<!-- MC-36787-->

* 一括更新 **数量増分の有効化** および **数量増分** 属性が期待どおりに動作するようになりました。 [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41575-->

* 管理者との最近の製品の同期を有効にした後、アプリケーションで JavaScript エラーがスローされなくなりました。 以前は、アプリケーションで次の JavaScript エラーが表示されていました。 `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* カスタムテーマレイアウトの更新が期待どおりに適用されるようになりました。 以前は、カスタムテーマのレイアウトの更新は無視されていました。

<!-- MC-41499-->

* 製品カテゴリのキャッシュが、次の条件で期待どおりにクリアされました： `cron` 期間 `indexer_update_all_views` 実行。 以前は、インデックスの再作成後のカテゴリページの製品数が正しくありませんでした。

<!-- MC-41422-->

* ストア表示の製品アップデート REST API リクエストで属性が指定されていない場合、属性値が変更されなくなりました。 以前は、属性が指定されていない場合、アプリケーションは属性値をデフォルトのスコープ値にリセットしていました。

<!-- MC-41284-->

* 管理製品グリッド（管理者） **カタログ** > **製品**) では、製品が SKU でフィルタリングされている場合に、正しい製品数が表示されるようになりました。

<!-- MC-40873-->

* カテゴリ権限が有効な場合に製品が CMS ページに追加され、指定した顧客グループの価格が表示されなくなると、アプリケーションに正確な在庫ステータスが表示されるようになりました。 以前は、実際の在庫状況に関係なく、すべての製品が在庫切れとして表示されていました。

<!-- MC-40859-->

* 「Advanced Pricing Customer Group Price」ブロック価格入力フィールドの幅の最小値が 5 桁になりました。 以前は、低解像度表示では、このフィールドには 2 つのシンボルのみが表示されていました。

<!-- MC-40825-->

* 製品を削除した後に、アプリケーションが製品メディア画像を正常に削除するようになりました。 以前は、製品が正常に削除された後も、製品メディア画像はフォルダー内に残っていました。

<!-- MC-40811 magento/magento2#32042-->

* 管理で製品を作成または編集し、スケジュールデザインの更新を作成すると、ページレイアウトが期待どおりに更新されるようになりました。 [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* 値が 0 のカスタム製品属性を空白として正常に保存できるようになりました。 以前は、アプリケーションはこの値を空白に更新しませんでした。

<!-- MC-40736 ENGCOM-8789-->

* カスタムカテゴリレイアウトの更新ファイルが、期待どおりに製品に適用されるようになりました。 以前は、更新ファイルハンドル (`catalog_category_view_*`) が製品ハンドルと一致しませんでした。 [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* 管理製品リストの固定製品税 (FPT) 列の並べ替えが無効になっています。 以前は、FPT 列を並べ替えた後に、製品ページを再読み込みできませんでした。

<!-- MC-40443-->

* 一致する製品の価格が Web サイトごとに異なる場合、複数 Web サイトへのデプロイメントで、Page Builder 製品のウィジェットプレビューが期待どおりに動作するようになりました。

<!-- MC-40344 ENGCOM-8629-->

* GETを使用した製品検索での位置での並べ替え `/rest/V1/products/?searchCriteria[filterGroups]` は、期待どおりに機能します。 以前は、製品コレクションにフィールドがありませんでした `position` 並べ替えの値。 [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* 管理者ユーザーは、 **名前** および **SKU** 製品グリッドのフィールド。 以前は、複数のスペースが 1 つのスペースに折りたたまれていました。

<!-- MC-39869-->

* 管理での販売可能数量が 0 の場合、製品がストアフロントに在庫切れとして表示されるようになりました。 以前は、これらの製品はストアフロントに在庫として表示され、アプリケーションにアクティブなが表示されていました **買い物かごに追加** 」ボタンをクリックします。 [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* 管理者は、カスタマイズ可能なオプションを使用して製品を追加できるようになりました `(File)` を「管理顧客」ページの「買い物かご」セクション（顧客のアクティビティ列）から「注文品目」グリッドに追加します。 以前は、に挿入される前に値の形式が正しく設定されていなかったので、項目はリストに追加されませんでした。 `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* 1 つのオプションのみを持つバンドル済み製品の製品オプションを選択するように買い物客に求めるメッセージが表示されなくなりました。

<!-- MC-39617-->

* 新しいウィジェットの作成中に、レイアウトの更新（アンカーおよびアンカー以外のカテゴリ）ですべてのサブカテゴリがアプリケーションに表示されるようになりました。

<!-- MC-39481-->

* The `product` 製品名が 1 つのストア表示に対してのみ更新された場合、クエリがマルチストア展開のすべてのストア表示のデフォルト値を上書きしなくなりました。 [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Magento Open Sourceで、管理関連製品、アップセル、クロスセルリストのページごとの値を変更すると、合計ページ数が期待どおりに更新されます。 [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* 管理者が、2 つ以上のカスタマイズ可能なオプションを使用して製品を追加できるようになりました。 `(File)` を SKU 別の注文に変更します。

<!-- MC-39140-->

* 権限が制限された管理者が管理者の CMS ページに製品ウィジェットを追加した場合、アプリケーションがエラーをスローしなくなりました。 以前は、管理者が **保存** ボタン：  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* 製品の詳細ページが開き、「日付のカスタマイズ可能」オプションが、 **JavaScript カレンダーの使用** が有効になっている。 値が現在の設定に基づいて形式設定されていない場合、カスタム日付オプション値リゾルバーが別の形式にフォールバックされるようになりました。 以前は、カスタム日付オプションの値は空でした。

<!-- MC-39104-->

* 製品が在庫切れの場合、カート内で 1 つのエラーのみが表示されるようになりました。 以前は、アプリケーションに冗長なメッセージが表示されていました。 [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-38575-->

* これで、 `required_options` および `has_options` バンドル製品の作成または更新時に、 `POST /V1/product/:sku` endpoint. 以前は、これらのカスタム属性は、1(1) に設定しようとしたにもかかわらず、0（ゼロ）に設定されていました。

<!-- MC-35717  magento/partners-magento2ee#427-->

* 管理者は、カスタマイズ可能なオプションを含む製品を追加できるようになりました `(File)` を SKU 別の注文に変更します。 [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* 製品と価格を、 `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* REST の場合、ストアフロントで期待どおりにグループ製品を使用できるようになりました。 `PUT /V1/products/:sku/links` リクエストは、新しい子製品を新しいグループ製品に関連付けるために使用されます。 以前は、を実行した後、製品のインデックスが正しく作成されませんでした `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* これ以降、 `NULL` SKU 値。 以前は、カスタムインポーターを使用して、またはデータベース内で直接 SKU 値を持たない製品を作成することができましたが、管理者から編集しようとすると、アプリケーションがエラーをスローしていました。 [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* 必要なカスタムオプションを単純なプロダクトに追加しても、親複合プロダクトから警告なしに削除されなくなりました。 情報に関する警告が表示され、製品は保存されなくなりました。  以前は、アプリケーションは製品の変更を保存し、警告を表示しませんでした。 [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### カタログルール

<!-- MC-39896-->

* The `products` カタログ価格ルールが品目に適用される場合に、クエリが現在の値を返すようになりました。 [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* で始まる一時テーブル `catalogrule_product__temp` は、買い物かごやカタログルールの有効期限が切れたり、無効になったり、非アクティブになったりした後にインデックス再作成が失敗した場合に、期待どおりに削除されるようになりました。 [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* タイムゾーンは、 `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` および `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### CMS コンテンツ

<!-- MC-41471-->

* サイズの大きい画像が **フロントエンドのサイズ変更を有効にする** 設定が有効になっています。

<!-- MC-40663 ENGCOM-8883-->

* CMS ページ保存コントローラーのエラー処理を修正しました。 以前は、 `Error` オブジェクトが `cms_page_prepare_save` イベント、アプリケーションがこのオブジェクトを `addExceptionMessage` 関数，この関数は、 `Exception`. これは、 `addErrorMessage` 関数に置き換えます。 [GitHub-30149](https://github.com/magento/magento2/issues/30149)

### 設定可能な製品

<!-- MC-40719-->

* 製品の設定可能なオプションをクリックしたときに、製品の画像ギャラリー内で製品サムネールが重複しなくなりました。

<!-- MC-37418-->

* ウィッシュリストから設定可能な製品を編集する際にアプリケーションが表示する設定ポップアップが、 **OK** 」ボタンをクリックします。

<!-- MC-39878  magento/magento2#31472-->

* 設定可能な製品を 1 つだけ含む注文に対して、請求書が正しく生成されるようになりました。 [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* 買い物客は、デフォルト以外のストア表示から、設定可能な製品を買い物かごに追加できるようになりました。 以前は、デフォルト以外のストア表示の買い物客が設定可能な製品を追加しようとすると、アプリケーションが次のエラーを表示していました。 `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### コンテンツセキュリティポリシー CSP)

<!-- ENGCOM-8577-->

* コンテンツセキュリティポリシーで、base64 でエンコードされた画像とフォントの読み込みが `data: scheme`.

### cron

<!-- MC-30804-->

* パフォーマンスに関する次の問題を軽減または排除するために、Cron クリーンアップクエリのリファクタリングが行われました。 `cron` ジョブが保留状態のままになり、MySQL クエリの処理速度が低下し、CPU 使用率が増加します。 [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` ステータスにある `running` 24 時間を超える時間は、自動的にステータスに変更されるようになりました `error`.  その結果、ジョブの新しいインスタンスが再び実行される可能性があり、ジョブが誤ってステータスに設定されたままの場合に、ジョブステータスを手動で変更する必要がなくなります `running`. 以前は、 `cronjob` ステータスで動きが取れない `running`を使用すると、同じジョブの新しいインスタンスが開始されなくなるので、ジョブステータスを手動で変更する必要がありました。 [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` ジョブは期待どおりに完了し、このシリアル化エラーをスローしなくなりました。  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  以前のエラーの後、cron ジョブが期待どおりに実行されるようになりました。 失敗した実行は、 `cron_schedule schedule`を指定した場合、以降の実行は自動的には失敗しません。 以前は、 `cron_schedule` 保留中のジョブが入ったテーブル `indexer_update_all_views` cron ジョブが実行されませんでした。 [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` ～の結果としてデッドロックが起こらなくなった `cron` グループが重複している大規模なデプロイメントでロックを設定しようとしています。 [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` もはやデッドロックは起こらない `cron_schedule` ほんの数回の後のテーブル `cron` ジョブが実行されました。 [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### カスタム顧客属性

<!-- MC-41611-->

* The **都道府県** ストアフロント顧客アカウントアドレス帳のフィールドがとして読み込まれ、ドロップダウンページ要素のままになります。 The **送信** すべてのページ要素が完全に読み込まれるまで、ボタンは無効になります。 以前は、アプリケーションはこのフィールドをテキストボックスとして読み込んでドロップダウン要素としてレンダリングすると、買い物客はテキストフィールドに値を入力して保存する可能性があり、後でチェックアウト中にエラーが発生していました。

<!-- MC-40329-->

* ファイルのアップロード時に、「管理者の顧客アドレス」フィールドに添付ファイルが含まれた顧客アドレス属性を保存しても、アプリケーションでエラーがスローされなくなりました。 これは、コントローラのアクションに return ステートメントが見つからなかったために発生しました。 以前は、アプリケーションは次のエラーをスローしていました： `Something went wrong while saving the file`.

<!-- MC-39354-->

* RESTGET買い物かご API 呼び出しで、請求先住所と配送先住所に対して正しいカスタム属性値が返されるようになりました。 以前は、マイアカウントストアフロントページと管理者の注文の詳細ページで、カスタムアドレス属性が正しく表示されませんでした。

<!-- MC-24495-->

* 入力タイプがの顧客アドレス属性を含むファイルが正常に処理されるようになりました。 `file (attachment)`. 以前は、添付ファイルのアップロード中に、アプリケーションが次のエラーをスローしていました。 `Something went wrong while saving the file`.

### 顧客

<!-- MC-40579-->

* アカウント作成日によるフィルタリングで、設定されたタイムゾーン設定に従い、関連する作成済みアカウントをすべて取り込む結果が生成されるようになりました。

<!-- MC-40502-->

* 顧客グリッドフィルターで、以前にデータがキャッシュされていた場合に、制限されたユーザーに対して正しい Web サイトオプションが使用されるようになりました。 以前は、顧客グリッドフィルターは、Web サイトのパラメーターをキャッシュから取得し、制限付きユーザーに対して誤ったデータを含めていました。

<!-- MC-39189-->

* 複数の Web サイトのデプロイメントで 1 つの Web サイトが削除された場合に、管理者のお客様ページで例外がスローされなくなりました。 以前は、管理者が包括的な顧客リストにアクセスしようとすると、すべての顧客が表示されず、次のエラーが表示されていました。 `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* 権限を持つ管理者は、お客様の「アカウント情報」タブから別の Web サイトに顧客を再割り当てできるようになりました。

<!-- MC-39852-->

* 入力タイプが `(File)`. 以前は、ファイルをアップロードして保存しようとすると、アプリケーションは次のエラーをスローしていました。 `Something went wrong while saving the file`.

### ディレクトリ

<!-- MC-39520-->

* チェックアウトワークフローの出荷時に買い物客が無効な郵便番号を入力した場合に、アプリケーションで例外がスローされなくなりました。 [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### ダウンロード可能

<!-- MC-35779-->

* ダウンロード可能な製品と、ダウンロード可能なオプションを含む設定可能な製品の両方が注文に含まれている場合、新しい注文電子メールにダウンロード可能な製品へのリンクが表示されるようになりました。 以前は、アプリケーションでスタンドアロンダウンロード可能な製品へのリンクが表示されていましたが、ダウンロード可能なオプションを含む設定可能な製品へのリンクは表示されませんでした。

### 房室

<!-- MC-41756-->

* 顧客アドレス属性の日付値が、2 桁の形式ではなく 4 桁の形式で保存されるようになりました。

### 電子メール

<!-- MC-39757-->

* 管理者のパスワードリセットページのパスワードリセットリンクが期待どおりに動作するようになりました。 以前は、カスタムテンプレートを reset admin password ページに使用すると、管理者が電子メール内のリンクをクリックすると、次のメッセージが表示されていました。 `Your password reset link has expired`. これは、カスタム電子メールテンプレートにユーザー ID の間違った変数が含まれていたためです。

<!-- MC-41588-->

* ストア表示レベルで有効にした場合、管理者からの顧客電子メールの送信が正しく機能するようになりました。 以前は、ストア表示レベルで電子メール通知設定が有効になっていて、グローバルレベルではない場合、アプリケーションは顧客の電子メールを送信しませんでした。

<!-- MC-40950-->

* 一部の Web サイトで非同期電子メール送信が有効になっていないマルチサイトデプロイメントで、アプリケーションが期待どおりに電子メールを送信するようになりました。 以前は、この設定を無効にした Web サイトが 1 つ以上ある場合、有効にしても、どの Web サイトからも電子メールが送信されませんでした。 請求書、出荷、クレジット・メモのメールにも同様の問題が発生していました。 ただし、注文コメント、請求書コメント、出荷コメント、クレジットメモコメントの各メールは正常に送信されました。 [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-30127 magento/magento2#31455-->

* 請求書および請求書PDFに、期待どおりのバンドル製品の価格が含まれるようになりました。 以前は、請求書PDFにバンドル製品の間違った価格が含まれていました。 [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* E メールテンプレートのフィルターメソッドに文字列のキャストが追加され、戻り値が `string`. 以前は、開発者モード以外で例外がキャッチされると、アプリケーションは `phrase` オブジェクト。 これが致命的な原因となった `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* 非同期送信が有効な場合 (**ストア**  >  **設定**  >  **セールス**  > **セールスメール**  >  **一般設定**  >  **非同期送信**) を複数サイトデプロイメントの 1 つの Web サイトで使用できます。 [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* お客様が「Contact Us」フォームから電子メールを送信しようとすると、例外が発生した場合に、アプリケーションで予期したとおりにエラーがログに記録されるようになりました。 [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### フレームワーク

<!-- MC-41712-->

* 管理の親クラスで、元のクラスおよび継承されたインターフェイスと共に、docblock 注釈がチェックされるようになりました。 以前は、親クラスがチェックされていなかったので、イベントをトリガーした顧客関連のアクションを管理で実行するとエラーが発生していました。 アプリケーションがこのエラーを例外ログに記録しました： `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* Redis ページキャッシュが有効になっているデプロイメントで Redis サーバーが停止した場合、アプリケーションが致命的なエラーをスローすることはなくなりました。

<!-- MC-40739-->

* 現在は、このアプリケーションで **バックアップからメディアフォルダを除外** 設定：バックアップが有効なとき `bin/magento config:set system/backup/functionality_enabled 1`. 以前は、メディアフォルダは、 `/magento` が double //で正しく形成されていません。

<!-- MC-40654 ENGCOM-8881-->

* アプリケーションは、管理買い物かごページに対して、すべての翻訳可能な文字列を期待どおりに変換するようになりました。 以前は、翻訳の読み込みが遅すぎて、コントローラーアクションのプリディスパッチに登録されたすべてのオブザーバーがスキップされていました。 [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* 新しい顧客アカウントの作成ページのフォーム検証が、 **顧客としてログイン** 「拡張機能の有効化」設定は無効です。 以前は、アプリケーションは JavaScript エラーをスローしていました。

<!-- MC-39193-->

* フォークされた子プロセスの例外処理 `ProcessManager` が改善されました。 例外が発生した場合、メインプロセスが終了し、エラーメッセージが 1 回だけ表示されます。 以前は、複数のインデクサーエラーがログに記録され、複数のメッセージが表示されていました。 [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* グローバルMagento Open Sourceプラグイン ( 例： `webapi_rest` および `graphql` ) を呼び出し、新しいカスタム領域タイプに対して `di.xml` この領域ファイルのには、登録されたプラグインが含まれていません。

<!-- MC-38770-->

* 初期化中に発生した例外はキャッシュされなくなり、500 応答コードがトリガーされるようになりました。

<!-- ENGCOM-8232-->

* 最後に `communication.xml` ファイルが、以前に作成したすべてのハンドラーを上書きしなくなりました。 [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### 一般的な修正点

<!-- MC-41194-->

* これで、「My Product Reviews」ページと「MyAccount」ページの最近のレビューで、正しい星数が表示されます。 以前は、アプリケーションは最初のレビューにのみレビューを適用し、他のレビューは開始されていなかったページに残していました。

<!-- MC-40653-->

* ヘッダー内のアカウントリンクが WCAG 標準に従うようになりました。 以前は、ヘッダーのアカウントリンクに重複した ID が含まれていたので、WCAG 検証が失敗していました。

<!-- MC-39765-->

* ゲスト買い物客が無効なアドレスを使用した場合に、アプリケーションがシステムログ生成エラーをスローしなくなりました。 以前は、アプリケーションは、ページをレンダリングする代わりに、次のエラーを断続的に表示していました。 `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* 画像のサイズ変更プロセスが、サポートされていない形式の画像で停止しなくなりました。 以前は、 `catalog:images:resize` でサポートされていない画像形式が見つかりました。プロセスが停止し、アプリケーションで次のエラーが表示されました： `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* ロゴ画像の WEBP および AVIF のサポートが管理者に追加されました。 [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* これ以降、 `media_gallery` 属性。 以前は、 `media_gallery` ～を元に戻す `global`を返した場合、アプリケーションはエラーをスローしました。

<!-- MC-36818  magento/partners-magento2ee#470-->

* スケジュールされた更新として追加された関連製品は、更新の終了日以降、ストアフロントの製品ページに表示されなくなりました。 [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-33499 magento/partners-magento2ee#446-->

* エンティティタイプが選択された場合、スケジュール済みエクスポートのリストでフィルタリングが期待どおりに機能するようになりました。 以前は、フィルターが機能せず、アプリケーションが JavaScript エラーをスローしていました。 [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* カテゴリ画像が、期待どおりに `catalog/tmp/category` ディレクトリの `catalog/category` ディレクトリは、データベースの保存方法を使用してカテゴリを保存する際に使用します。 画像の行 ( `media_storage_file_storage` テーブルにも正しい `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* CMS 階層に変更を送信した後、無効化されたキャッシュについて、マーチャントに期待どおりに通知されるようになりました。 以前は、CMS 階層の保存中にアプリケーションがキャッシュを無効にしませんでした。

<!-- MC-24725-->

* 買い物かごの買い物かごセクションへの冗長なAJAXリクエストが削減されました。 以前は、アプリケーションが買い物かごの小計を正しく読み込めなかったため、買い物かごの再読み込みが再びトリガーされていました。

<!-- MC-23740-->

* 予約語が URL キーに含まれないようにするための、URL の検証が追加されました。 詳しくは、 [既知の Uniform Resource Identifier(URI) の定義](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* PHP 7.4 を実行するデプロイメントでは、PHP 7.4 を実行すると、404 エラーが返されるようになりました。 **「カテゴリ/製品」URL の書き換えを生成** 設定は次のように設定されています： **いいえ**&#x200B;を探し、買い物客が存在しないカテゴリパスにアクセスしようとします。 以前は、アプリケーションは次のような 500 エラーを返していました。 `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- ENGCOM-8901-->

* `nowdoc` は置き換えられました `heredoc` （内） `Magento_Backend` ストアスイッチャー。 [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8685-->

* アルゼンチン、ボリビア、チリ、エクアドル、ガイアナ、パラグアイ、ペルー、スリナム、ベネズエラの各地域が `directory_country_region` 表。 [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* アルバニア、デンマーク、ギリシャ、アイスランド、ポルトガル、スウェーデンの各地域が追加されました。 `directory_country_region` 表。 [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* 例外が発生した場合、MysqlMQ メッセージキューでメッセージにエラーのフラグが設定されるようになりました。 [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* 管理クレジット・メモおよび請求書ページの税金情報を読み込む際に、アプリケーションが正しい区分オブジェクトを参照するようになりました。 [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* Royal Mail Click &amp; Drop 統合が期待どおりに動作するようになりました。 以前は、この統合をアクティブ化しようとすると、アプリケーションが次のエラーをスローしていました。 `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* 間違った出荷、クレジット・メモ、または請求書 ID が URL で渡された場合に、情報エラー・メッセージが表示されるようになりました。 以前は、アプリケーションは致命的なエラーをスローしていました。 [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* 静的ファイルの場所での再帰が削除されました。  アプリケーションに 500 エラーではなく 404 ページが表示されるようになりました。 以前は、デフォルトの NGINX 設定のバグが無限再帰を引き起こしていました。 [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* の名前 `cms_index_noroute.xml` ファイルが次の値に修正されました： `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* The `.editorconfig` ファイルがリファクタリングされ、 `db_schema_whitelist.json` ファイル。 [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* ブラウザーウィンドウのサイズを変更しても、バインディング虫めがねトリガーが重複しなくなりました。 [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* フィルタリング時に SQL 例外がスローされなくなりました。 `Magento\Users\Model\ResourceModel\Users\Collection` 作成者 `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### ギフトカード

<!-- MC-32651-->

* ギフトカード作成ページに価格範囲の検証ロジックが追加されました。 以前は、管理者は最小値が最大値を超えるカードを作成できました。 [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* The `addRequisitionListItemsToCart` クエリで、リクエストに次の値が含まれていない場合に、カスタムギフトカードの金額が期待どおりに返されるようになりました。 `allow_open_amount`.

### ギフトメッセージ

<!-- ENGCOM-8539-->

* 管理者は、ログイン後、リクエストされた管理者ページに直接リダイレクトされるようになりました。  以前は、管理者がログインすると、管理者ダッシュボード（または起動ページとして設定されたページ）にリダイレクトされ、移動先に手動で移動する必要がありました。 [GitHub-31042](https://github.com/magento/magento2/issues/31042)

### Google Tag Manager

<!-- MC-39072-->

* Google Tag Manager が有効な場合、チェックアウトワークフローの支払いページの請求先住所の UI コンポーネントで、見積もり住所が正しく使用されるようになりました。 以前は、支払いページで JavaScript エラーが発生していました。

### GraphQL

<!-- MC-41885-->

* ザGraphQL `products` クエリは、属性編集ページで使用されたのと同じ並べ替え順で並べ替えられた属性オプションを返すようになりました。

<!-- MC-41473-->

* に対する応答 `{ category(id: 2){ children { name children { name } } } }` GraphQLリクエストに、正しく並べ替えられたカテゴリツリーが含まれるようになりました。

<!-- MC-41030-->

* The `CartItemPrices` オブジェクトに新しいGraphQLフィールドが含まれるようになりました `fixed_product_taxes`：買い物かご項目に適用される固定商品税の配列を返します。 以前は、買い物かご項目に適用された固定商品税は、買い物かごクエリには含まれませんでした。

<!-- MC-40920-->

* GraphQLへの空のリクエストで、応答コード 500 ではなく 200 がスローされるようになりました。 以前は、GraphQLパーサーがクエリ結果が生成される前に例外をスローしていました。

<!-- MC-40867 magento/partners-magento2ee#532 -->

* The `applyRewardPointsToCart` ミューテーションで、カートの総計が更新され、差し引かれた報酬ポイントの値が正確に反映されるようになりました。 [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* GraphQLを使用してアップセル製品をリンクすると、無効な製品がGraphQLの応答に含まれなくなりました。

<!-- MC-40262-->

* 商人はGraphQL `setShippingAddressesOnCart` ゲストのチェックアウトが無効な場合に買い物客の買い物かごの請求先住所と配送先住所を設定する方法です。

<!-- MC-39508-->

* The `categoryList` クエリで、 `CategoryTree` オブジェクト。 [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* ザGraphQL `product` クエリが正しい顧客グループの価格を返すようになりました。

<!-- MC-38822-->

* ザGraphQL `products` クエリ応答で、製品属性の位置に従って集計を並べ替えるようになりました。

<!-- ENGCOM-8462-->

* 製品およびカテゴリ URL のサフィックスに null 値が含まれる場合、GraphQLクエリ中にタイプエラーがスローされなくなりました。 [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* The `CustomizableDateValue` オブジェクトに `type` 属性。 値は、DATE、DATE_TIME、TIME のいずれかに設定できる列挙です。

<!--  magento/partners-magento2ee#421-->

* The [`dynamicBlocks` クエリ](https://devdocs.magento.com/guides/v2.4/graphql/queries/dynamic-blocks.html) 指定されたフィルターに一致する動的ブロックのコンテンツを返します。

<!-- ENGCOM-8603-->

* POST `V1/products/special-price-delete` リクエストで、指定した `store_id` 期待どおり。 以前は、この呼び出しにより、指定した SKU のすべての特別価格がすべての店舗から削除されていました。 [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* 次のエラーを修正しました： `country_code` 属性 `createGiftRegistry` 突然変異。

<!-- magento/partners-magento2ee#280 -->

* の問題を修正しました。 `giftRegistryUid` の属性 `updateGiftRegistryItems` 突然変異。

<!-- magento/partners-magento2ee#280 -->

* 次の条件を満たさないようにするためのチェックを追加しました。 `updateGiftRegistryRegistrants` ランダムな人々を登録者としてギフト登録者に追加するために使用される突然変異。

<!-- magento/magento2#31380 -->

* The `addConfigurableProductsToCart` ミューテーションは、指定した製品の正しいサムネールを返すようになりました。 以前は、親製品のサムネールが返されていました。

<!-- ENGCOM-8477-->

* The `products` 特別価格期間が将来の日付に設定された場合、クエリで製品の特別価格が表示されなくなりました。 [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* The `customer` クエリ応答に次が含まれるようになりました `total_giftcard` 属性 `OrderTotal` オブジェクト。

<!-- MC-41084 ENGCOM-9042 -->

* 次の原因となっていた問題を修正しました。 `products` クエリを使用して、階層価格が設定されていない品目の価格階層に関する誤った情報を返します。 [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### 画像

<!-- MC-38951-->

* POSTを使用してバンドルプロダクトを作成または更新する際に、 required_options 属性と has_options バンドル属性を期待どおりに設定できるようになりました `/V1/product/:sku` endpoint. 以前は、これらのカスタム属性は、1(1) に設定しようとしたにもかかわらず、0（ゼロ）に設定されていました。

### インポート/エクスポート

<!-- MC-41576-->

* 「エクスポート」ページの「エンティティ属性」グリッドの製品エンティティのカテゴリ ID フィルターが、期待どおりに機能するようになりました。

<!-- MC-41439-->

* グループ化された製品の在庫ステータスが、すべての子製品の在庫が不足している場合に、在庫切れとして更新されるようになりました。 [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* 子製品の在庫ステータスが読み込みによって更新された場合、設定可能な製品の在庫ステータスが期待どおりに自動的に更新されるようになりました。 以前は、子製品の在庫ステータスが読み込みによって更新された場合、製品の在庫ステータスは自動的には更新されませんでした。

<!-- MC-41151-->

* スケジュールされた書き出しで空の値を保存できるようになりました。 以前は、書き出しの作成または保存後に、アプリケーションが空のフィルター値を更新していました。 両方 `no` および `not specified` の値は、データベースでは 0 で表され、の値は `not selected` が上書きされました： `no`.

<!-- MC-41092-->

* 書き出しプロセスで、製品、在庫ソース、顧客エンティティを書き出す際に、ユーザーの役割の範囲が考慮されるようになりました。 以前は、エクスポートプロセスでユーザーロールのスコープが無視され、プライベートユーザーロールのエクスポートエンティティのエクスポートが許可されていました。

<!-- MC-40943-->

* これで、アプリケーションは製品税区分をに設定します。 `None` 製品が `tax_class_name` 値 `None` または `0`. 以前は、 `product tax_class_name` が `None` CSV ファイルで、新しい税区分が作成されました `None`：既存の税区分を複製した 次の場合 `product tax_class_name` は `0` CSV ファイルで、アプリケーションはその値を無視し、製品の税区分はインポート後に変更されませんでした。

<!-- MC-40898-->

* 管理者が `name` 束製品の `bundle_values` 管理者から。 以前は、管理者から名前を変更すると、製品が在庫切れとしてストアフロントに表示されていました。 製品も同じ SKU と結合されて、1 つの bundle-option セクションになりました。

<!-- MC-40333-->

* 顧客データをエクスポートする際に、アプリケーションでユーザー範囲が考慮されるようになりました。 以前は、顧客を書き出そうとすると、アプリケーションはすべての Web サイトから顧客データを書き出しました。

<!-- MC-40305-->

* CSV ファイルのインポート時に、アップセル、クロスセル、関連製品間の製品の関係が、以下の場合に期待どおりに削除されるようになりました `__EMPTY__VALUE__` が CSV ファイルで指定されている。

<!-- MC-40012-->

* 多数の顧客のカスタムアドレスデータのエクスポート（管理者） **システム** > **書き出し**) が定期的にメモリエラーにならなくなりました。 以前は、カスタムアドレスデータを書き出す際に、アプリケーションはすべての顧客データを読み込もうとし、メモリ不足に陥り、アプリケーションは割り当てに失敗したメモリエラーをスローしました。

<!-- MC-39977-->

* 重複した層の価格は、デフォルトの CSV インポートプロセス中にインポートされなくなりました。 以前は、重複層価格の輸入を防ぐための検証が行われず、重複層価格が発生した場合、商人は製品を保存できませんでした。 また、商人は、製品の変更をスケジュールしようとした際に、次のエラーを見つけました。 `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* すべての製品画像は、読み込み時に検証されるようになりました。 以前は、製品に複数の画像が含まれる場合、アプリケーションは最初の画像のみを検証していました。 [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* インポート時に期待どおりに顧客住所から地域を削除できるようになりました。 以前は、顧客の住所が空の地域と共にインポートされた場合、割り当て済みの地域は変更されませんでした。

<!-- MC-38810-->

* JSON またはHTMLコンテンツを追加の製品属性として持つ製品は、CSV ファイルに正しく書き出されるようになりました。 以前は、CSV ファイルのフィールドに重複したデータ文字列が含まれていました。

### 索引

<!-- MC-39718 ENGCOM-8567-->

* 子プロセスが失敗した場合にエラーが発生し、Process Manager が終了するようになりました。 以前は、渡された関数（インデクサーディメンションなど）の数が `MAGE_INDEXER_THREADS_COUNT` 環境変数。 [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* RESTPUTを使用して製品をリンクする際、ストアフロントの検索結果で、製品が期待どおりに使用できるようになりました `/V1/products/:sku/links` インデクサーモードが次の値に設定されている場合にリクエスト **保存時に更新**.

<!-- MC-38310 magento/magento2#32693-->

* インデクサーモードがに設定されている場合、カタログ価格ルールのインデクサーが期待どおりに動作するようになりました。 **保存時に更新**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* 商品を含まない無効なカテゴリを削除しても、カタログ検索およびカテゴリフラットインデックステーブルには影響しなくなりました。 以前は、非アクティブなカテゴリを削除すると、完全なインデックス再作成がトリガーされていました。 [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* カスタムインデクサーで、サブスクリプションに異なるエンティティ列名を使用できるようになりました。 以前は、データベーストリガーはインデクサーの最後の設定で次の列名を使用していました。 **スケジュール別に更新** 指定されたインデクサーではなく、 [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* 顧客データセクション (`Magento_Customer/js/section-config`) を返します。 [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* 次のインデクサーは、カテゴリ内の製品を追加、削除、または並べ替えた後は無効になりません。 `catalog_category_product` および `catalogsearch_fulltext` （そして従者）。 以前は、これらの不注意な削除により、サイトの完全なインデックス再作成がトリガーされていました。 フラットカタログが有効になっていない場合、これらの条件で完全な再インデックスが防止されるようになりました。

### インフラ

<!-- MC-41445-->

* 依存関係 `pelago/emogrifier` は、バージョン 3.1.0 から 5.0.0 に更新されました。この更新により、後方互換性のない変更が `Magento\Email\Model\Template\Filter` クラス。 変更されたコードは、E メールテンプレートのレンダリング中に実行されます。 詳しくは、 [BIC リファレンス](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* 次の問題を修正しました： `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` 新しい製品を保存できなかった問題を修正しました。

<!-- MC-42199-->

* 非推奨（廃止予定）の TinyMCE v3 ライブラリが削除されました。 The `Magento_Tinymce3Banner` TinyMCE v3.x に関連するモジュールおよび MFTF テストがAdobe Commerceから削除されました。

<!-- MC-41497-->

* アプリケーションで `Invalid header value detected` 「お問い合わせ」フォームでエラーが発生しました。買い物客が、フランス語の読み分け符号（「é」、「è」など）を含む E メールアドレスを入力した場合に発生します。 アプリケーションは、ユーザー名の UTF-8 文字を ASCII エンコーディングに変換するようになりました。 以前は、UTF-8 文字は電子メールアドレスの一意のセクションで ASCII エンコーディングに変換されませんでした。

<!-- MC-39947-->

* 親クラスにプラグインが追加された場合に、アプリケーションが PHP の致命的なエラーをスローしなくなりました。 [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* 次のモジュールの README.md ファイルを更新しました。 `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` は、PHP 8 の互換性を考慮して v6.0.3 に更新されました。

<!-- ENGCOM-9073-->

* `ramsey/uuid` は、PHP 8.0 との互換性を保つために更新されました。 [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` は、PHP 8 の互換性を考慮して v1.4.4 に更新されました。 [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* タブとスペースの無効な組み合わせを修正しました。 `phpstan.neon` ファイル。 [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* 古いプロパティの使用を削除しました `$_isScopePrivate` をコードベース全体に渡して使用する。 [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* ページレイアウトが  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  その結果、 `getPageLayouts()` 関数は、異なるモジュールで宣言された実際のページレイアウトのリストを期待どおりに返すようになりました。 以前は、ハードコードされたレイアウトのみが返されていました。 [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* The `composer.lock` ファイルが、Coding Standard の最新バージョンに更新されました。 [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* の依存関係が不足しているのを `web-token/jwt-framework` パッケージを `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* パッシブリスナーが `fotorama.js` lighthouse 指標のスコアを改善するためのライブラリ。 [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Google Analyticsモジュールの README.md ファイルが更新されました。 [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Process Manager で、フォークされたプロセスで例外が正しく処理されるようになりました。 メインプロセスが終了し、エラーメッセージが 1 回だけ表示されるようになりました。 また、分岐したプロセスの例外は、メインプロセスでスローされる際に処理されるようになりました。 以前は、アプリケーションは複数のインデクサーエラーをログに記録し、複数のエラーメッセージを表示していました。  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* プラグインが親クラスに追加された場合に、アプリケーションがエラーをスローしなくなりました。 ( `optionsProvider` パラメーターは、 `getContentIdentities` in `Assest.php`.) 以前は、アプリケーションは次のエラーをスローしていました：  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* 実行中 `Magento\Framework\Filesystem\Io\Ftp::ls()` 空のフォルダーの場合、空の配列が期待どおりに返されるようになりました。 以前は、アプリケーションは次の例外をスローしていました。 `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* The `update` 役割とルールの両方のメソッドが、 `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* SameSite cookie パラメーターの連結が修正されました。 以前は、 `lex` サフィックス `value`, `domain`、およびその他のパラメーター。 [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` は、コードベース全体で v1.3.1 にアップグレードされています。 以前は、アプリケーションで次のエラーが表示されていました。  `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* エラーが実行された際に、より多くの情報を得られるエラーがアプリケーションに表示されるようになりました。 `bin/magento` 実稼働モードのコマンド。 以前は、アプリケーションでエラーメッセージが表示されなかったか、情報を持たないメッセージが表示されていました。 [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* The `ArrayIterator` PHP オブジェクトは、PHP 7.4 で期待どおりに動作するように更新されました。 [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* 配送業者がない場合に顧客が注文の完了を試みたときに、アプリケーションがエラーをスローしなくなりました。 代わりに、チェックアウトページとこのメッセージが表示されます。 `Sorry, no quotes are available for this order at this time`. 以前は、アプリケーションで空のチェックアウトページが表示され、次のメッセージが例外ログに記録されていました。 `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* アプリケーションでは、各 cookie を個別のコンテキストとして記録しなくなりました。 The `$_COOKIE` 配列も文字列に変換されました。 以前は、各 cookie は別々のコンテキストとしてログに記録されていたので、cookie の数が 50 を超えると、アプリケーションは次のメッセージをログに記録していました。 `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### 請求書

<!-- ENGCOM-8472 -->

* 管理で新しい請求書を作成する場合、 **次のメールコピー** チェックボックスが期待どおりに動作するようになりました。 以前は、請求書メールを送信するグローバル設定がで有効になっている場合、このチェックボックスは無視されていました。 **セールスメール**. 現在は一貫性があり、出荷およびクレジットメモ作成ページと同じように動作します。 [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### メディアギャラリー

<!-- MC-41728-->

* `bin/magento media-gallery:sync` XMP情報を持たない PNG 画像の処理時に、期待どおりに失敗するようになりました。

<!-- ENGCOM-8814-->

* エントリ `catalog_product_entity_media_gallery` 関連製品が削除されると、テーブルが期待どおりに削除されます。 [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* JavaScript の縮小が有効になっている場合、画像の詳細をメディアギャラリーで更新できるようになりました。 以前は、画像の詳細は保存されず、アプリケーションで次のエラーが表示されていました： `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

新機能と MFTF コアバグ修正については、 [機能テストフレームワーク変更ログ](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* The `magento indexer:reindex` および `cache:flush` コマンドと `AdminReindexAndFlushCache` 次のモジュールの実行を改善するため、アクショングループがテストから削除されました： `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal`、および `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` テストの失敗を防ぐため、がテストに追加されました。 [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* テストは次を使用してリファクタリングされました： `StorefrontCheckQuickSearchStringActionGroup` および `StorefrontAssertProductNameOnProductMainPageActionGroup` （既存のアクショングループ）。 [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### リファクタリングされたテスト

実行時間を改善するために、次のテストがリファクタリングされました。

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`  （廃止予定の代替案） `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### アクショングループ

繰り返しアクションは、これらのテストではアクショングループに置き換えられました。

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### 新しいアクショングループ

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  ( 製品グリッドを SKU でフィルタリングし、（テストの実行時間を短縮するために）最初の行をクリックする代わりに ) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### 削除されたアクショングループ

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* 削除済み  `CliIndexerReindexActionGroup` （値を変更）をテストから削除し、 `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`,  `Elasticsearch`,  `Elasticsearch6`,  `Indexer`, `LayeredNavigation`,  `LoginAsCustomer`,  `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`,  `Swatches`, `UrlRewrite`, `Weee`、および `Wishlist`モジュール。

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* 削除済み `CliCacheFlushActionGroup` から `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee`、および `Wishlist` モジュール。

### ニュースレター

<!-- ENGCOM-8948 MC-40885-->

* ニュースレターキューの作成からニュースレターの送信までの間に、ニュースレターの購読を解除した顧客に、ニュースレター E メールが送信されなくなりました。 [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* このアプリケーションは、ニュースレターの有効化設定 (**ストア**  >  **設定**  >  **設定**  >  **顧客**  >  **ニュースレター**  >  **一般オプション**) をクリックします。 以前は、マルチストアデプロイメントでは、これらの設定は常にデフォルトのスコープから取得されていました。 [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* REST 呼び出しGET `/V1/customers/search` は、複数のニュースレターを購読している顧客に対して、正しい情報を返すようになりました。 [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* 購読ステータスのキャッシュは、ニュースレタープラグインから削除されました。 [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### 注文

<!-- MC-40963-->

* 一部請求済注文の顧客勘定に店舗クレジットを返却する際に、請求済顧客残高が正しく計算されるようになりました。

<!-- ENGCOM-8710-->

* 返金後の顧客残高を節約する際に、変更した注文を期待どおりに保存するようになりました。 [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### 支払い方法

<!-- MC-41525-->

* アプリケーションが支払ブロックを `frontend` 電子メールの送信元の領域に関係なく、 ( 現在の領域は `frontend` 支払いブロックがレンダリングされる前に )。 以前は、支払いブロックは E メールの送信元の領域にレンダリングされていました。 その結果、セールスメールが管理者からトリガーされたか、REST API によってトリガーされたかに関わらず、アセットの URL が間違った領域 (`webapi_rest` または `adminhtml`) をクリックします。

<!-- MC-40810-->

* これで、アプリケーションは、チェックアウト時に指定された電子メールアドレスにダウンロード可能な製品のリンクを送信します。 以前は、ゲスト買い物客が PayPal Express Checkout を使用し、別のメールアドレスを入力して注文を送信し、チェックアウトすると、アプリケーションはダウンロード可能な製品リンクを最初のアドレスに送信していました。

<!-- MC-38051-->

* 複数の通貨をサポートする配置の「支払い方法」ページで、使用可能な店舗クレジットの正確な値が表示されるようになりました。

<!-- MC-37820-->

* ゲスト買い物客がチェックアウト中に注文の配送先住所を別の国に変更した場合、支払い方法リストが期待どおりに更新されるようになりました。 以前は、請求先住所を変更しても、考えられる支払い方法の更新をトリガーすることはできませんでした。

#### PayPal

<!-- MC-39895-->

* 買い物客は、特殊文字を含む配送先住所と PayPal Payflow Pro 注文を正常にチェックアウトできるようになりました。 以前は、申込みはこれらの注文の支払いを拒否していました。

<!-- MC-39861-->

* PayPal を使用した支払いが成功した後、買い物客が注文成功ページにリダイレクトされるようになりました。 以前は、セッションデータが失われたので、買い物客は空のページにリダイレクトされていました。

### パフォーマンス

<!-- MC-41647-->

* 大きなカタログに対する管理 SKU 検索のパフォーマンスが向上しました。 クエリオプティマイザーのヒントで、クエリの実行中にインデックスの使用が強制されるようになりました。

<!-- MC-41440-->

* のパフォーマンス  `catalog_product_alert` 大きなテーブル（数百万行）で実行する際の cron プロセスが改善されました。 以前は、 `catalog_product_alert` すべての製品アラートを読み込み、メモリ不足の例外が発生しました。

<!-- ENGCOM-8752-->

* 管理フォームのレンダリングに編集ページを 1 つだけ必要とする場合に、アプリケーションがすべての CMS ページを読み込まなくなりました。  これらのページの読み込みが高速化されました。 [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* の数値 `WHERE IN` 式が文字列ではなく数値としてキャストされるようになりました。これにより、一部のバージョンの MariaDB でクエリパフォーマンスが向上します。 [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* The `use_application_lock` モードでは、環境変数を使用して、または `app/etc/env.php` ファイル。 このモードを有効にした場合、失敗後にインデクサーを手動でリセットする必要がなくなりました。 このモードが有効になっていない場合、失敗後に手動でインデクサーをリセットする必要があります。 詳しくは、 [再インデックス処理に対するアプリケーションロックモードの使用](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### 価格

<!-- MC-41767-->

* 買い物客がストアフロントの製品数を更新すると、アプリケーションは製品の価格をグループ化された価格で正しく更新するようになりました。 [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* 製品に階層価格が割り当てられ、 `Magento\Framework\Api\ExtensibleDataObjectConverter` は、製品データの変換に使用されます。 以前は、 `Magento\Framework\Api\ExtensibleDataObjectConverter` は、製品が保存された際に製品データを配列に変換するために使用されたので、アプリケーションは製品を保存せず、次のエラーを表示していました。 `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* 定期価格の更新が、買い物客の買い物かごに既に含まれる製品に適用されるようになりました。 [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* 数量増分が有効で小数在庫が 1 未満の場合、階層価格が期待どおりに製品に適用されるようになりました。 以前は、最小限の価格が 1 に設定されていました。

### 製品ビデオ

<!-- MC-39755-->

* これで、 **ビデオを追加** ボタン（管理者） **カタログ** > **製品**) をクリックして、複数のビデオを連続して追加します。 以前は、ビデオフィールドは、前のビデオの詳細を保持していました。

<!-- MC-40817-->

* 製品ページ上の製品ビデオのフルスクリーンモードに入ると、モバイルデバイスで期待どおりに動作するようになりました。 以前は、フルスクリーンモードに入ると、フルスクリーンモードを終了する前にビデオが一時停止していました。

<!-- MC-39759-->

* ナビゲーション矢印ボタン (**次へ** および **前へ**) がストアフロント製品ビデオで期待どおりに表示されるようになりました。

<!-- MC-40463-->

* マーチャントは、 **ビデオを挿入** ボタンをクリックします。 以前は、アプリケーションで 404 エラーが表示されていました。 [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### 見積もり

<!-- MC-39531-->

* The `/V1/guest-carts/examplecartid/items` 呼び出しによって、要求されたストア表示が返されます。 以前は、リクエストされたストアビューではなく、ストアの最初のストアビューが返されていました。

<!-- MC-33893 ENGCOM-8992-->

* 請求書の送信を設定できるようになりました。 以前は、請求書の送信は設定できず、作成後は常に請求書が送信されていました。 請求書と注文の E メールは、どちらも 1 人の監視者の範囲で送信されました。 個別の監視者が、注文の E メールと請求書の E メールの送信を管理するようになりました。 [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### レポート

<!-- MC-39737-->

* 管理者の最終レビュー日 **レポート** > **レビュー** > **製品別** に正しいレビュー日が表示されるようになりました。 以前は、レビュー日ではなく製品の作成日が表示されていました。

### レビュー

<!-- MC-40116-->

* 製品レビュー評価の星が、マイアカウントページの「レビューの詳細」セクションで正しく計算されるようになりました。

<!-- MC-39763-->

* 製品レビューの詳細ページの「平均製品評価」セクションと「製品評価」セクションが正しくレンダリングされるようになりました。 以前は、アプリケーションがストアフロント評価を計算したときにレビュー ID が設定されず、製品レビューテンプレートが正しくレンダリングされませんでした。

<!-- MC-36149-->

* The **この製品を初めてレビューする** 管理者がレビューを承認した後、レビュー数に対して期待どおりにリンクが変更されるようになりました。

<!-- ENGCOM-8501 MC-30270-->

* 管理者は、製品編集ページの「製品レビュー」セクションで、製品レビューを期待どおりに並べ替えることができるようになりました。 [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* 管理者がレビューを承認し、ストアとは異なるドメインからレビューを保存した後、レビューが正しいストア ID で保存されるようになりました。 [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### 報酬

<!-- MC-39820-->

* 複数のアドレスを持つ買い物客がチェックアウトすると、支払い方法のリストが更新され、 **店舗クレジット（報酬ポイント）** オプション。

### セールス

<!-- MC-39796-->

* 管理者ユーザーは、 **バックオーダーが許可されています** 設定が有効 (**ストア** > **設定** > **カタログ** > **在庫** > **製品在庫オプション**) をクリックします。 以前は、アプリケーションはエラーをスローしていました。

<!-- MC-42280-->

* 姓が空白で終わる場合に、注文と返品ページで注文を検索できるようになりました。

<!-- MC-41438-->

* カタログ製品と割引税の対象となる注文に 100%の割引を割り当て、無料配送の条件を満たす買い物かご価格ルールを適用すると、請求書が正しい総計で作成されるようになりました。 以前は、注文の価格は正しいものの、請求書は正しくありませんでした。 [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* 日付別に注文をフィルターすると、正確な結果が返されるようになりました。 以前は、注文を注文日でフィルターした場合、00:00 UTC 以降に発注された注文は返されませんでした。

<!-- MC-40030-->

* クレジット・メモ・グリッドで、次の場合に正しい通貨記号が表示されるようになりました。 **Web サイト** 範囲は **価格** 属性をマルチストアデプロイメントに追加しました。

<!-- MC-40013-->

* 「新規注文の作成」ページが再読み込みされた後、支払い方法のラジオボタンがチェックアウトワークフローの「支払いと配送情報」セクションに表示されなくなりました。 [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* アラビア語のテキストが請求書で正しく表示されるようになりました。

<!-- MC-39864-->

* PayPal Payment Pro を支払ゲートウェイとして展開する店舗の注文または請求書に基づくクレジット・メモに対して、一部クレジット・メモ税の合計が正しく計算されるようになりました。 以前は、複数の請求書を持つ注文の場合、請求書の一部を取り消すために、クレジット・メモにその注文の全税が適用されていました。

<!-- MC-39521 ENGCOM-8528-->

* 顧客に新しい注文 E メールを送信する際に、アプリケーションがランダムなデータベースのデッドロックを作成しなくなりました。 以前は、更新された SQL 列ではなく、オブジェクト全体とその関連オブジェクトが保存されていたため、デッドロックが発生していました。 アプリケーションが次のタイプのエラーを表示しました： `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* ストアフロントの注文の詳細ページに、正しい出荷済製品数量が表示されるようになりました。 以前は、[ 注文出荷 ] ページのテンプレートがレンダリングされたので、製品数量が正しくありませんでした **出荷済数量** as a `int`. これは、次のように変更されました。 `float`.

<!-- MC-39026-->

* 注文請求書のコピーが **請求書のメールコピー** ボタンがオフになっている。 以前は、アプリケーションがに電子メールを送信していました。 **顧客** および **請求書メールコピーの送付先**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* 既存の顧客の新しい注文を管理者から作成する際に、顧客アカウントに重複する住所エントリが作成されなくなりました。 The **アドレス帳に保存** 「 」チェックボックスの名前が「 」に変更されました。 **アドレス帳に追加** 「 」と「 」は、デフォルトで「管理者」でオフになっています。

<!-- MC-38834-->

* これで、 **HTML印刷表示のロゴ** 設定（買い物客が自分のアカウントから注文を印刷する場合） 以前は、アプリケーションに、アップロードされたロゴの代わりに LUMA ロゴが表示されていました。

<!-- MC-38625-->

* ストアフロントのアイテムのページャーが、アイテム数が 20 を超えた場合に、期待どおりに機能するようになりました。 以前は、ポケットベルで子製品が考慮され、合計数が正しくありませんでした。

<!-- MC-23915 ENGCOM-8713-->

* 受注ページとクレジット・メモ・ページのグリッドに、小計と出荷および処理値に対する正しい通貨記号が表示されるようになりました。 [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Safari を使用する管理者は、管理者から注文に製品を正常に追加できるようになりました。 以前は、 **選択した製品を注文に追加** ボタンをクリックすると、回転荷重アイコンが表示され、ページがハングしました。

### セールスルール

<!-- MC-40671-->

* アプリケーションは、 **最大数量割引の適用先** または **割引数量ステップ（購買 X）** 条件を正しく設定できるようになりました。 以前は、 **最大数量割引の適用先** または **割引数量ステップ（購買 X）** が別の買い物かごの価格ルールの後に適用された場合、合計割引は **最大数量割引の適用先** または **割引数量ステップ（購買 X）** 製品価格の倍。

<!-- MC-39827-->

* クーポンレポートは、分割データベースが実装されたデプロイメントでのクーポンアクティビティを正確に反映するようになりました。

<!-- MC-39477-->

* 条件カテゴリを含む買い物かごの価格ルール **IS NOT** は、カテゴリに割り当てられていないが親製品が割り当てられている、設定可能な子/シンプルな製品に期待どおりに適用されるようになりました。

<!-- MC-39034-->

* ザGraphQL `cart` クエリで、クーポンが注文に適用された場合に、買い物かごの請求ステップに対する正しい総計が返されるようになりました。

### 検索 {#search-heading}

<!-- MC-41138-->

* カテゴリページに、次の重複したHTML要素 ID が含まれなくなりました。 `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* 部分的な単語の検索結果に予期しない一致や無関係な一致が含まれなくなり、検索結果がストアフロントと管理者の両方で一貫した結果になります。 部分的な単語検索で、ステマーを使用しない別のアナライザが使用されるようになりました。 以前は、検索結果に、検索キーワードを含まない製品が表示されていました。 （以前はデフォルトのアナライザにはステマーが含まれていましたが、検索時に部分的な単語の検索で同じアナライザが使用されたので、検索結果で予期しない一致や無関係な一致が生じる場合がありました）。

<!-- MC-40715-->

* クイック検索で、検索クエリに複数の単語が含まれ、製品名が検索不可として設定されている場合、結果が返されるようになりました。 以前は、製品名が検索不可として設定されていた場合、アプリケーションは複数の単語を含む検索クエリに対してクエリ例外をスローしていました。

<!-- MC-40672-->

* 検索結果に `weight` 属性は、検索可能として設定される際に期待どおりに表示されます。

<!-- MC-40409-->

* 「Elasticsearch」が有効な空のカテゴリページを表示した場合、アプリケーションでエラーがスローされなくなりました。 代わりに、ページが期待どおりにレンダリングされ、情報メッセージが表示されます。 以前は、空の全文インデックスがカテゴリページで例外をトリガーしていました。

<!-- MC-40376-->

* 買い物客が検索を開始した後に検索フィールドの外でクリックした場合、検索フィールドのオートコンプリート機能が期待どおりに動作するようになりました。 買い物客がタイピングを再開する際に、オートコンプリートの提案が再び表示されるようになりました。 以前は、アプリケーションにオートコンプリート候補が表示されず、検索ボックスをクリックしても、検索候補が再び表示されませんでした（追加の文字を入力しても表示されませんでした）。

<!-- MC-34217-->

* 詳細検索で完全な SKU または部分的な SKU に基づいて製品を検索すると、期待された製品が返されるようになりました。

<!-- MC-31395-->

* レイヤーナビゲーションフィルターに、正確な製品数が表示されるようになりました。 以前は、製品の製品数の値がカタログ権限でElasticsearchされていませんでした。

<!-- MC-23881 ENGCOM-8618-->

* ElasticsearchURL ページのパラメーターがページネーションを超えても、カテゴリでエラーがスローされなくなりました。 [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* カスタムElasticsearchフィールドマッパーを `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`.

<!-- ENGCOM-9029 MC-24026-->

* 開発者は、Elasticsearchマッピングを変更できます。 以前は、デフォルトのマッピングでElasticsearchサーバーに送信された動的テンプレートはハードコードされていたので、開発者はカスタムモジュールに関連付けられた追加のデータをElasticsearchでインデックス作成できませんでした。

<!-- ENGCOM-8464 -->

* 検索候補が無効な場合に、検索フィールド（フォームの縮小検索）が期待どおりに機能するようになりました。

### 送料

<!-- MC-41464-->

* 複数のアドレスを持つチェックアウト中に製品を削除した後で、買い物客が買い物かごページに戻ると、アプリケーションが出荷価格を期待どおりに更新するようになりました。

<!-- MC-41343-->

* 買い物かご内の一部の品目が無料配送の条件を満たす場合、適切な調整済みの送料がアプリケーションに表示されるようになりました。 以前は、買い物かご内の品目のサブセットが無料配送の条件を満たしている場合、アプリケーションは配送料を調整せず、買い物客に完全な配送料を表示していました。

<!-- MC-41186-->

* 特定の Web サイトに限定された管理者ユーザーは、同じ Web サイトに配置された注文の出荷を作成できるようになりました。 以前は、デフォルトのストア表示に対する権限を持たない管理者ユーザーが、管理者ユーザーがアクセス権を持つストア表示に配置された注文を出荷しようとしたときに、この例外がスローされていました。 `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* 注文が無料の DHL 配送の条件を満たしているかどうかを判断する際に、アプリケーションは関連する買い物かごの価格ルールの割引を考慮に入れるようになりました。

<!-- MC-40702-->

* 注文が非ベース通貨に配置された場合、複数の通貨をサポートする店舗で、発送ラベルでは、注文通貨ではなくベース通貨が期待どおりに使用されるようになりました。 [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678-->

* 複数配送ページから移動した後、チェックアウト時に買い物客が買い物かごページに戻った場合、アプリケーションに正しい注文の小計が表示されるようになりました。 [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* 管理注文の作成時に請求情報を編集しても、デフォルトの配送先住所と請求先住所が異なる顧客の配送先情報が変更されなくなりました。 [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* アプリケーションは、 **コメントを追加** 買い物客がクリックしたときのチェックボックス **発送方法と料金の取得** およびは、管理者から注文を作成する際の発送方法を選択します。

<!-- MC-36425-->

* 買い物客は、ブラウザの戻るボタンを使用して、複数の住所を含む注文をチェックアウトしながら、発送方法を選択ページに戻ることができるようになりました。 以前は、アプリケーションに破損した「発送方法を選択」ページが表示されていました。 [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* 買い物客が複数の住所への出荷ページで数量を変更し、ブラウザの戻るボタンをクリックした後も、製品数量が予想どおりに変更されなくなりました。

<!-- ENGCOM-9096-->

* チェックアウト時に買い物かごの価格ルールが適用された場合、定額配送方法の料金がゼロにならなくなりました。 [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* DHL を使用して注文を出荷しようとした際に、アプリケーションがエラーをスローしなくなりました。 **発送ラベルを作成** 「 」チェックボックスがオンになっており、製品名に unicode 文字が含まれている。 以前は、ラベルの作成をリクエストすると、アプリケーションが次のエラーを表示していました。 `The response is in wrong format`.

<!-- ENGCOM-8952 -->

* 管理者からの注文は、 `United States` は 1 つの Web サイトで有効になり、`Disable all countries` は、他の Web サイトのデフォルトのスコープとして有効になります。 以前は、アプリケーションは注文を行わず、次のエラーを表示していました。 `Please check the shipping address information. "regionId" is required. Enter and try again`.

### ストア

<!-- MC-40538-->

* アプリケーションは、 `0` を空の値として指定して、ストアのホームページを表示します。 以前は、リクエストパスの開始時に整数値がストア ID として処理されていましたが、SEO に予期しない影響が及びました。

<!-- MC-40313-->

* のプラグイン `\Magento\Framework\App\ActionInterface` under `lib/internal/Magento/Framework/App/Action/Plugin` 別のモジュールの動作をカスタマイズする際にプラグインを使用する必要があるというガイドラインに従うために、が削除されました。 [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* 選択を試みると、このメッセージがアプリケーションに表示されるようになりました。 `Website` のデフォルトは `Store View` は Web サイトの作成中に無効になります。 `Please enable your Store View before using this Web Site as Default`. 以前は、Web サイトがクラッシュし、アプリケーションにアラートが表示されませんでした。

### 税

<!-- MC-39571-->

* 最小注文額の検証中に、アプリケーションで非表示の税が考慮されるようになりました。

<!-- MC-38025 ENGCOM-8612-->

* 買い物客が買い物かごに戻り、買い物かごにバンドル製品を追加した後にチェックアウトに進むと、アプリケーションに「固定製品税 (FPT)」が期待どおりに表示されるようになりました。 [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* これで、アプリケーションは **VAT 番号** 管理者が既存の顧客に対して注文を作成する際に、「管理」の「新しい注文」ページの「住所情報」セクションの請求先住所と送付先住所の両方に、VAT 番号を保存した入力フィールドを入力します。 [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* これで、アプリケーションに「 **VAT 番号** 次の場合に顧客登録ページのフィールド `customer/create_account/vat_frontend_visibility` が有効になっている。

### テスト

<!-- MC-41393-->

* テスト環境は Redis 6.0.12 にアップグレードされました。

<!-- ENGCOM-8529-->

* 削除済み `CacheCleaner::cleanAll();` 統合テストから。

<!-- ENGCOM-8898-->

* このシナリオのテストが追加されました。顧客がキューに登録されているニュースレターを購読すると、管理者ユーザーは顧客アカウントを編集できます。

<!-- ENGCOM-8484-->

* を削除しました。 `cache:flush` 実行時間を短縮するためのテストからのコマンド `Catalog`, `CatalogUrlRewrite`、および `LoginAsCustomer` モジュール。

<!-- ENGCOM-8499-->

* 冗長なパラメーターが削除され、POSTが必要に応じてGETに変更されました。 `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### テーマ

<!-- MC-41474-->

* 顧客ログインページで **JS コードをページの末尾に移動する** 設定 (**ストア** > **設定** > **進む** > **開発者** > **JavaScript 設定**) と cookie は両方とも有効になっています。 `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* ヘッダー内のアカウントリンクが WCAG 標準に従うようになりました。 以前は、ヘッダーのアカウントリンクに重複した ID が含まれていたので、WCAG 検証が失敗していました。

<!-- MC-40278-->

* ストアのロゴイメージのストア設定が、レイアウト設定よりも優先されるようになりました。 以前は、ロゴ画像のサイズは固定されており、店舗によって異なりませんでした。

<!-- MC-35227-->

* 標準のページテーマを使用するストアフロントページで、ページ要素が一貫してMagento Open Sourceされるようになりました。 以前は、すべてのスタイルが空白のテーマで適用されていなかったので、このテーマを使用するページにはすべてのページ要素が表示されませんでした。 （例えば、虫めがねのアイコンが「自分の注文」ページの検索フィールドに表示されていなかった場合など）。

### 翻訳とロケール

<!-- MC-23553-->

* インライン翻訳を設定する際に、文字列に追加された括弧がエスケープされなくなりました。 以前は、 `escapeHtmlAttr` メソッドでは、角括弧がHTMLエンティティコードに変換されました。

<!-- ENGCOM-8694-->

* 管理者で翻訳できないフレーズが翻訳可能になりました。 （このプルリクエストは、すべての管理文字列をローカライズ可能にする継続的な作業に役立ちます）。 [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* 保存された支払い方法 (**マイアカウント**  >  **保管済支払い方法** ) が翻訳可能になりました。

<!-- MC-30798 ENGCOM-8717-->

* 管理者から送信された E メールの注文で、管理者のアカウントに関連付けられているロケールではなく、ストアロケールが使用されるようになりました。

### UI

<!-- MC-41784-->

* 管理フッターに正しい製品バージョンが表示されるようになりました。

<!-- MC-41067-->

* 管理出荷の作成中に、ソースのページネーションが期待どおりに表示されるようになりました。

<!-- MC-40240-->

* カスタムの日付属性を使用して製品をフィルタリングし、管理者ユーザーロケールが `en_GB`.

<!-- MC-39279-->

* iOSデバイスの製品ページの画像ギャラリー拡大鏡で、ピンチツーズームのジェスチャが期待どおりに動作するようになりました。

<!-- MC-38787-->

* 管理者製品グリッドの検索結果のページネーションが、期待どおり各検索に対して 1 ページ目から開始するようになりました。

<!-- MC-38423-->

* ズームされた場合の買い物かごの表示に関する異常値が解決されました。 以前は、このページがズームされると、要素が重なって表示されていました。

<!-- MC-38226-->

* PayPal Express Checkout を使用したチェックアウト時に表示される注文レビューページが正常に読み込まれるようになりました。 以前は、テンプレートには未使用の **配信方法を更新** ボタン（ページのレンダリング中にスクリプトによって部分的にのみ非表示にされたもの）

<!-- MC-37941-->

* 製品ページの「顧客レビュー」セクションの星評価とレビューテキストに、長い評価名が存在する場合に、正しい間隔で配置されるようになりました。

<!-- MC-37688-->

* 「請求書のアーカイブ」、「出荷」および「クレジット・メモ」ページの「処理」ドロップダウン・リストに、オプションが期待どおりに表示されるようになりました。

<!-- MC-23729  magento/magento2#31549-->

* 現在は、 `datetime` コンポーネント `timeOnly` オプションが **はい**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* 管理者で新しいウィジェットを作成した後、レイアウトの更新を削除できるようになりました。 **コンテンツ** > **ウィジェット**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* The **レイアウトの更新を削除** 管理から追加したレイアウトで、ボタンが期待どおりに機能するようになりました。 **コンテンツ** > **ウィジェット**. 以前は、複数のレイアウトを追加する際に、最初に選択した以外のレイアウトではこのボタンが機能しませんでした。 [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* これで、レイアウトファイルで設定されたページタイトルが、顧客アカウント編集ファイルのブラウザーページタイトルとして使用されます。 以前は、 `Magento\Customer\Controller\Account\Edit` コントローラーアクションにより、ページタイトル値が次の値に適用されました： `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* マーチャントがパスワードの表示と非表示を切り替えることを許可するチェックボックスが、次のページに追加されました。
   * 顧客ログイン
   * 顧客登録
   * 顧客編集（「パスワードを変更」セクション）
   * 新しいパスワードを設定 [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* 属性セットを変更した後に、管理者がグループ化された製品セットに製品を追加したときに表示されるグリッドセルの冗長なヘッダーを削除しました。 [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* これで、アプリケーションに「 `DateRange` の「ログイン済み」領域に対するフィルター **顧客**  >  **ログイン** ページに貼り付けます。 以前は、アプリケーションに `Text` フィルター。 [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* 管理ページでのレンダリングの問題を減らすために、JavaScript がテンプレートファイルから削除され、別のファイルに移動されました。 以前は、管理ページの縮小が有効になっているデプロイメントで、HTMLが正しく表示されませんでした。 アプリケーションが次のエラーを表示しました： `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* The `dropdownDialog` ウィジェットは、ドラッグ可能でサイズ変更可能なもののみを読み込むようになりました。 `jquery-ui` 必要なチャンクを作成します。 以前は、不要なコードが大量に読み込まれていたので、読み込み時間が水増しされ、パフォーマンスが低下していました。 [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### URL の書き換え

<!-- MC-41550-->

* マルチサイト展開での特定の Web サイトの製品 URL の書き換えが、一括更新によって製品が Web サイトに割り当てられた後、期待どおりに生成されるようになりました。

<!-- MC-40780 magento/magento2#32598-->

* 子カテゴリの URL パスが **デフォルト値を使用** URL キーのチェックボックスが親カテゴリに対して有効になっている。 以前は、階層内のカテゴリを移動すると、誤った `url_path` 値は、マルチストアビューデプロイメントで異なる URL キーを使用する場合に使用します。 [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* これで、アプリケーションが `url_path` カテゴリ階層でカテゴリを移動する際に、すべてのストア範囲に割り当てられるカテゴリの 以前は、階層内のカテゴリを移動すると、誤った `url_path`.

<!-- MC-39463-->

* カスタム URL を使用して管理者から作成された URL リダイレクトが正常に機能するようになりました。 以前は、GraphQLはGraphQLからの応答をキャッシュしていました `urlResolver` クエリを実行し、URL の書き換えの更新後に古い値を返す。

<!-- MC-38931  magento/magento2#31106-->

* 製品が Web サイトから削除された際に、製品 URL の書き換えが期待どおりに削除されるようになりました。 [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* が追加されました。 `main_table` への参照 `store_id` （内） `addStoreFilter` 関数 `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` コレクション。 以前は、 `join` をテーブル上のコレクションに追加します。このコレクションには、 `store_id` 列。 [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* The `PUT /V1/products/:sku` REST エンドポイントで、製品 URL の書き換えが期待どおりに再生成されるようになりました。 以前は、エンドポイントが再生成された製品でした。 `url_key` の値のみを返しますが、URL の書き換えはおこなわれません。 [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### ユーザー

<!-- MC-40777-->

* これで、有効な新しいユーザーの役割（管理者）を保存できるようになりました。 **システム** > **権限** > **ユーザーの役割**) を `Catalog` 次を除くツリーが選択されました： `Edit Product Design` ( **カタログ** > **在庫** > **製品** > **製品デザインを編集**) をクリックします。 以前は、この役割のユーザーが行った製品の変更が保存されず、次のエラーが表示されていました。 `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* 新しい管理者ユーザー用の電子メールを生成する際に、アプリケーションで正しいカスタム電子メールテンプレートが使用されるようになりました。 以前は、管理者の姓名を省略した古いデフォルトテンプレートがアプリケーションで使用されていました。

<!-- MC-38122-->

* 新しいユーザーに E メールを送信する際に、アプリケーションで正しい E メールテンプレートが使用されるようになりました。 以前は、カスタムテンプレートが選択されている場合でも、アプリケーションがデフォルトのテンプレートを使用していました。

### VersionCMS

<!-- MC-39953-->

* レイアウトを変更した後、CMS ページに適切なテーマが適用されるようになりました。 以前は、レイアウトの変更を保存した後、ページにどのテーマが割り当てられていたかに関わらず、割り当てられたテーマが Luma に変更されていました。

### ビデオ

<!-- MC-42059 ENGCOM-9039-->

* 高度な JavaScript のバンドルを有効にして使用する場合、ビデオが製品ギャラリーで期待どおりに利用できるようになりました。 [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* 設定可能な製品に属するシンプルな製品のYouTubeビデオが期待どおりに動作するようになりました。 以前は、画像は位置ではなく ID で並べ替えられていました。 その結果、一部のビデオは画像のように扱われました。 [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Web API フレームワーク

<!-- MC-41758-->

* カタログ API は、新しい値を追加し、古い値を削除することで、製品のカスタムオプション値を正しく更新するようになりました。 以前は、API は古い値を削除しませんでした。

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` アドレス ID を文字列ではなく整数で返すようになりました。

### Widget

<!-- MC-39128-->

* 管理者は、ウィジェットのレイアウトの更新をすべて削除できるようになりました。 以前は、ウィジェットが複数のレイアウトを更新した場合、管理者は最初の項目のみを削除できました。

<!-- MC-39107-->

* クリック **買い物かごに追加** 製品ウィジェットのボタンをクリックしても、ページが再読み込みされなくなりました。 以前は、 **買い物かごに追加** 製品ウィジェットのボタンをクリックすると、製品が買い物かごに追加される前に現在のページが再読み込みされていました。

### ウィッシュリスト

<!-- MC-40651-->

* このアイコンをクリックしたときに、設定可能な製品の設定がリセットされなくなりました。 **項目を編集** ボタンをクリックします。 [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* ウィッシュリスト内のカスタマイズ可能なファイルオプションを使用して製品を更新すると、正しい製品価格がアプリケーションに表示されるようになりました。 以前は、アプリケーションで間違った製品価格が表示され、アップロードされたファイルへのリンクは表示されませんでした。

<!-- MC-39060-->

* 複数のウィッシュリストを持つ顧客のウィッシュリスト内の製品の総数が、ウィッシュリスト内の項目数と一致するようになりました。 以前は、在庫切れの製品が製品の総数に含まれていました。

<!-- MC-36779 magento/magento2#31110-->

* 注文に製品を追加した後、ウィッシュリストから製品を削除するようになりました。 [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* 買い物客は、ウィッシュリストから買い物かごに関連製品を追加できるようになりました。 以前は、顧客が「 **すべて選択** 「関連製品」セクションのリンク。 [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## 既知の問題

**問題**: _reCAPTCHA が無効な場合の JavaScript エラー_. reCAPTCHA がチェックアウトで無効になっている場合、チェックアウトは進行しますが、アプリケーションには `Uncaught TypeError` エラーが発生しました。  この問題は、今後のリリースで修正される予定です。 <!-- MC-42589 42649-->

**問題**: _コンテンツセキュリティポリシーエラー_. ストアフロントでは、コンソールログに次のエラーが表示されます。 `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. ストアフロントのパフォーマンスには影響しません。 <!-- MC-42613-->

**問題**: _ギフトカードの金額の PayPal クレジット表示の異常値_. PayPal クレジットが有効で、複数のギフトカードの金額が設定されている場合、買い物客がギフトカードの価値の金額を変更しても、ストアフロントは割賦支払いの金額を更新しません。 この問題の修正は、Adobe Commerce 2.4.4 およびMagento Open Source2.4.4 に含まれます。<!-- MC-42499 AC-344-->

**問題**:  _The **注文に追加**ボタンが、SKU で買い物かごに追加された製品に対して機能しない_.  このエラーメッセージは、 **注文に追加** ボタンをクリックします。 `An error has happened during application run`. 製品は買い物かごに追加されません。 **回避策**:「製品を追加」機能を使用します。 <!-- AC-345-->

## コミュニティへの貢献

私たちは、より広いMagento Open Sourceコミュニティに感謝し、このリリースに対する彼らの貢献を認めたいと思います。

コミュニティエンジニアリングチーム [Magento寄稿者](https://magento.biterg.io/app/kibana) は、貢献度の高い個人およびパートナーのリストを月、四半期、年別に管理しています。 寄稿者ページから、GitHub 上の結合された PR へのリンクをたどることができます。

### パートナーへの貢献

次の表に、パートナーによる貢献の概要を示します。 この表は、プル要求に貢献したパートナー、外部プル要求、およびそれに関連付けられている GitHub 問題番号（使用可能な場合）を示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### 個々の投稿者への投稿

次の表に、コミュニティメンバーからの投稿を示します。 この表は、外部のプルリクエスト、関連付けられている GitHub の問題番号（使用可能な場合）、およびプルリクエストを寄稿したコミュニティメンバーを示しています。

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### 必要システム構成

当社の技術スタックは、PHP および MySQL 上で構築されています。 詳しくは、 [必要システム構成](../../../installation/system-requirements.md).

### インストールおよびアップグレードの手順

Magento Open Source2.4.3 は、 [コンポーザー](../../../installation/composer.md).

## 移行ツールキット

データ移行ツールは、既存のMagento1.x のストアデータをMagento2.x に転送するのに役立ちます。このコマンドラインインターフェイスには、検証、進行状況の追跡、ログ、テストの各機能が含まれます。 インストール手順については、 [データ移行ツールのインストール](../../../tools/data-migration-tool/install.md). 詳細を調べたり、 [データ移行リポジトリ](https://github.com/magento/data-migration-tool).

The [コード移行ツールキット](https://github.com/magento-commerce/code-migration) は、既存のMagento1.x のストア拡張機能とカスタマイズ機能をMagento2.x に転送するのに役立ちます。コマンドラインインターフェイスには、Magento1.x のモジュールとレイアウトを変換するためのスクリプトが含まれています。
