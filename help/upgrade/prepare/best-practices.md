---
title: ベストプラクティス
description: Adobeが推奨するベストプラクティスを使用して、Adobe CommerceおよびMagento Open Sourceプロジェクトのアップグレードプロセスを管理します。
feature: Upgrade, Best Practices
exl-id: 53c505a3-8b99-4fc3-b1b4-f2f75208a51b
source-git-commit: 012cba58b336b032b1c911539008c1fb961c2e07
workflow-type: tm+mt
source-wordcount: '1089'
ht-degree: 0%

---

# アップグレードのベストプラクティス

このトピックでは、Adobe CommerceおよびMagento Open Sourceプロジェクトの複雑さを管理するために必要なアクションを示します。 プロジェクトの開発が始まって各リリースを継続する際には、チームがアップグレードについて検討する必要があります。 これらのベストプラクティスに従うことで、アップグレードプロセスがはるかに簡単で迅速で安価になります。

>[!TIP]
>
>これらのレコメンデーションは、パートナー、商人、Adobeの専門家、コミュニティによる影響と効果に関する証拠でサポートされるベストプラクティスに基づいています。

## アップグレードに影響を与える点

アップグレードの複雑さを決定する変数を理解することが重要です。 これらの変数は、アップグレードするタイミングだけでなく、各プロジェクトの最初に考慮する必要があります。 プロジェクトの開発は、将来のアップグレードをスムーズに進め、アップグレードを完了するために必要な作業を制御できるようにするための鍵となります。

Adobe Commerceインスタンスをアップグレードする際の作業レベルは、次の要因によって異なります。

- **サイトの構築方法** カスタム作業の量とインストールされているサードパーティ製モジュールの数は、アップグレードの複雑さに大きく影響します。 カスタム作業とモジュールの品質により、アップグレードがスムーズに進むかどうかを判断できます。

- **複数のリリースをスキップしますか？** リリースをスキップすると、次のアップグレードがより複雑になり、以降のバージョンからアップグレードすると、プロセスがより簡単で安価になります。

- **どのようなアップグレードを実行していますか？** マイナーリリース（2.3.x から 2.4.0 など）へのアップグレードは、パッチリリース間のアップグレード（2.4.2 から 2.4.3 へのアップグレードなど）よりも広範です。 セキュリティのアップグレードは、実装が最も簡単なタイプです。

## アップグレード計画のベストプラクティス

既に実稼動中のプロジェクトで作業している場合、アップグレードを行うと、コードとカスタマイズの品質を向上させ、将来のアップグレードに合わせて最適化することができます。 今日投資する時間は長期的に時間を節約します。

異なるマーチャント向けに複数のサイトを管理する場合の最善の方法は、通常使用する主な機能とカスタマイズを備えたベースインスタンスを持つことです。 アップグレードを完了し、他のユーザーに対して実行する場合は、このベースインスタンスをテストサイトとして使用します。 この方法を使用すると、カスタマイズしたモジュールを様々な顧客に柔軟に再利用でき、プロジェクト全体でアップグレードを簡略化できます。

プロジェクトが実稼働中の場合は、監査を実行して品質を判断し、アップグレードをより効率的におこなうためにどのように改善できるかを理解することをお勧めします。

### アップグレードを考慮した開発

プロジェクトの作業を開始した時点から、現在の作業による今後のアップグレードの影響を検討する必要があります。 常に、Adobe Commerce開発のベストプラクティスに従ってください。

- [開発のベストプラクティス](https://developer.adobe.com/commerce/php/best-practices/)
- [コーディング規格](https://developer.adobe.com/commerce/php/coding-standards/)

Adobe Commerce Extensibility プラットフォームの導入を開始します（まだおこなっていない場合）。 このプラットフォームでは、SaaS に似たアップグレード性を維持しながら、プロセスの効率的なカスタマイズ、システムの統合、新しい機能の導入が可能です。 主な特長は次のとおりです。

- **UI 拡張機能**. を使用して、バックエンドやミドルウェアとは別にストアフロントを拡張し、発展させます。 [PWA Studio](https://developer.adobe.com/commerce/pwa-studio/).

- **API 拡張機能**. 用途 [GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/index.html) グラフデータモデルを進化させ、ラムダ関数をグラフレイヤーから直接実行して、Web API レイヤーを拡張する。

- **Adobe I/Oミドルウェアとサービス**. Adobeのミドルウェアと、次を基に構築された一連のアプリ接続を使用して、Adobe Commerceとシステムを接続します。 [Adobe I/O](https://www.adobe.io/). さらに、コアプラットフォーム機能を拡張するには、Adobe I/O上で実行される独自のビジネスロジックでデフォルトの動作を上書きします。

### アップグレードの計画

Adobe Commerceの機能が継続的に拡張されるので、利用可能な最新リリースに基づいて開発し、プロジェクト計画に対してアップグレード戦略を定義することが重要です。 これにより、セールスを迅速に拡張し、より効果的に運用し、競争に対して今、将来的に先んじて取り組むことが可能な最新の機能強化に関して、安全で準拠し、最新の状態を維持できます。

アップグレードの計画と予算を策定するには、 [リリーススケジュール](https://devdocs.magento.com/release). 事前にチームのバックログ内のアップグレードタスクを計画します。 GA でこの作業を完了することを目指します。

- プレリリースバージョンを使用して、各新リリースについて学習します。 プレリリースは、一般公開の 2 週間前にAdobe Commerceのマーチャントとすべてのパートナーが利用できる一般公開コードです。 複数のストアがある場合は、ベースストアのプレリリースを使用し、カスタムモジュールおよびテーマがそれと互換性があることを確認します。

- 以下を確認します。 [アップグレード計画のチェックリスト](https://support.magento.com/hc/en-us/articles/360057968951) Adobe Commerceを使用して、アップグレードの計画を立ててください。

- 年初にアップグレードを計画します。 各アップグレードを完了するには、予算とリソースを予約する必要があります。 アップグレード作業は、プロジェクトによって大きく異なる場合があります。 できるだけ正確な計画を立てるには、経験と知識を活用してください。

- アップグレードでここで説明した内容よりも多くの作業が必要な場合は、プロジェクトを監査し、環境を調整して、長期的なメンテナンスを減らすことをお勧めします。

### アップグレードの実行

アップグレードは、事前定義された予算に基づいて定期的におこなう必要があります。 年初に事前承認済みのアップグレードをスケジュールして、アップグレードが予定どおりに計画され、予定どおりに完了するようにすることをお勧めします。

アップグレードに必要な作業を評価します。

- 以下を確認します。 [リリースノート](https://devdocs.magento.com/guides/v2.4/release-notes/bk-release-notes.html) を参照して、新しいバージョンの範囲と影響を理解してください。

- 以下を使用： [[!DNL Upgrade Compatibility Tool]](../upgrade-compatibility-tool/overview.md) を参照してください。

- サードパーティの拡張機能を使用している場合は、アップグレード先のバージョンとの互換性を検証します。

### アップグレード後のテスト

テストとは、最も時間がかかるアップグレードの段階です。 その結果、このプロセスはできるだけ自動化される必要があります。 コアテストツールを使用することで、メリットを得ることができます。 この [アプリケーションテストガイド](https://developer.adobe.com/commerce/testing/guide/) 詳細を示します。

実稼動環境に移行する前に、ステージング環境を使用してアップグレードのテストと検証をおこないます。

を利用する **メンテナンスページ**. このページを事前に準備しておくと、バックグラウンドで作業がおこなわれていることを顧客に通知できます。 このページは数分間表示されますが、問題が発生した場合は、長く使用する必要がある可能性があります。 メンテナンスページに適したコンテンツやデザインを持つことで、ストアが利用できない場合でもユーザーに優れたエクスペリエンスを提供できます。
