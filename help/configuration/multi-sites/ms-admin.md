---
title: 複数の Web サイト、ストア、管理者での表示の設定
description: 追加の Web サイト、ストア、表示をコマース管理で設定します。
source-git-commit: 5e072a87480c326d6ae9235cf425e63ec9199684
workflow-type: tm+mt
source-wordcount: '1013'
ht-degree: 0%

---


# 管理での複数のビューの設定

このタスクでは、各ストアのルートカテゴリ（および必要に応じて追加のカテゴリ）を作成する必要があります。 このトピックで説明するタスクは、複数のストアを設定する 1 つの方法です。 詳細については、『Commerce ユーザガイド』の次のリソースを参照してください。

- [カテゴリ](https://docs.magento.com/user-guide/catalog/categories.html)
- [Web サイトの追加](https://docs.magento.com/user-guide/stores/stores-all-create-website.html)
- [ストア URL](https://docs.magento.com/user-guide/stores/store-urls.html)
- [コンテンツ](https://docs.magento.com/user-guide/cms/content-menu.html)

>[!INFO]
>
>例えば、Web サイトコードでフランス語の Web サイトを使用します `french` 」を参照してください。 詳細な手順に関するチュートリアルについては、 [チュートリアル：Apache で複数の Web サイトを設定](ms-apache.md) および [チュートリアル：nginx を使用した複数の Web サイトの設定](ms-nginx.md)

## 手順 1:ルートカテゴリの作成

ルートカテゴリの作成は任意ですが、各 Web サイトに一意のルートカテゴリを割り当てる場合は、このチュートリアルで作成する方法を示します。 必要に応じて、追加のカテゴリを作成できます。

ルートカテゴリを作成するには：

1. カテゴリの作成を許可されたユーザーとして管理者にログインします。
1. クリック **カタログ** > **カテゴリ**.
1. クリック **ルートカテゴリを追加**.
1. 内 **カテゴリ名** 「 」フィールドで、このカテゴリを識別する一意の名前を入力します。
1. 「カテゴリを有効にする」がに設定されていることを確認します。 **はい**.

   このページの他のオプションについて詳しくは、 [ルートカテゴリ](https://docs.magento.com/user-guide/catalog/category-root.html).

   次の図に例を示します。

   ![ルートカテゴリの作成と有効化](../../assets/configuration/add-root-category.png)

1. クリック **保存**.
1. これらのタスクを必要な回数だけ繰り返して、ストアのルートカテゴリを作成します。

## 手順 2:Web サイトの作成

Web サイトを作成するには：

1. Web サイト、ストア、ビューの保存を許可されたユーザーとして管理者にログインします。
1. クリック **ストア** > **設定** > **すべてのストア**.
1. の _ストア_ ページ、クリック **Web サイトを作成**.

   - **名前**- Web サイトを識別する名前を入力します。
   - **コード** — 一意のコードを入力します。例えば、フランス語の店舗の場合、 `french`
   - **並べ替え順** — オプションで数値ソート順序を入力します。

   次の図に例を示します。

   ![Web サイトの追加](../../assets/configuration/multi-site-website.png)

1. クリック **Web サイトを保存**.
1. 必要な回数だけ、これらのタスクを繰り返して Web サイトを作成します。

## 手順 3:ストアを作成

ストアを作成するには：

1. 内 _管理者_ パネル、クリック **ストア** > **設定** > **すべてのストア**.
1. の _ストア_ ページ、クリック **ストアを作成**.

   - **Web サイト** — このストアを関連付ける Web サイトの名前をクリックします。
   - **名前** — ストアを識別する名前を入力します。
   - **コード** — ストアを識別する一意のコードを入力します。
   - **ルートカテゴリ** — このストアのルートカテゴリの名前をクリックします。

   次の図に例を示します。

   ![ストアを追加](../../assets/configuration/multi-site-store.png)

1. クリック **ストアを保存**.
1. これらのタスクを必要な回数だけ繰り返してストアを作成します。

## 手順 4:ストア表示の作成

ストアビューを作成するには：

1. 内 _管理者_ パネル、クリック **ストア** > **設定** > **すべてのストア**.
1. ストアページで、 **ストア表示を作成**.

   - **ストア** — このストアビューを関連付けるストアの名前をクリックします。
   - **名前** — このストアビューを識別する名前を入力します。
   - **コード** — このストアビューを識別する一意の名前を入力します。
   - **ステータス** — 選択 **有効**.

   次の図に例を示します。

   ![ストアを追加](../../assets/configuration/multi-site-storeview.png)

1. クリック **ストア表示を保存**.
1. これらのタスクを必要な回数だけ繰り返して、ストアビューを作成します。

## 手順 5:Web サイトのベース URL の変更

のような一意の URL を使用して Web サイトにアクセスするには `http://french.magento.mg`を使用する場合は、管理で各サイトのベース URL を変更する必要があります。

Web サイトのベース URL を変更するには：

1. 内 _管理者_ パネル、クリック **ストア** > **設定** > **設定** > **一般** > **Web**.
1. 次の **ストア表示** ページ上部のリストで、次の図に示すように、いずれかの web サイトの名前をクリックします。

   ![範囲を選択](../../assets/configuration/multi-site-scope.png)

1. 右側のウィンドウで、を展開します。 **ベース URL**.
1. 内 _ベース URL_ セクション、クリア **システム値を使用**.
1. 次を入力します。 `http://french.magento.mg` URL: **ベース URL** および **ベースリンク URL** フィールド。

1. 前の手順を _ベース URL （セキュア）_ 」セクションに入力します。

   >[!INFO]
   >
   >クラウドインフラストラクチャ上にAdobe Commerceをデプロイするためのベース URL を設定する場合は、最初のピリオドを 3 ダッシュに置き換える必要があります。 例えば、ベース URL が `french.branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud`を入力して、 `http://french---branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud`. ローカルテスト用にベース URL を設定する場合は、ピリオドを使用します。

1. クリック **設定を保存**.

1. 他の Web サイトに対して、これらのタスクを繰り返します。

## 手順 6:ストアコードをベース URL に追加する

Commerce には、ストアコードをサイトのベース URL に追加するオプションが用意されており、これにより複数のストアを簡単に設定できます。 このオプションを使用すると、Commerce ファイルシステム上にディレクトリを作成して保存する必要がなくなります `index.php` および `.htaccess`.

これにより、 `index.php` および `.htaccess` 今後のアップグレードで、Commerce コードベースとの同期が解除される問題を修正しました。

詳しくは、 [コマースユーザーガイド](https://docs.magento.com/user-guide/stores/store-urls.html).

ストアコードをベース URL に追加するには：

1. 内 _管理者_ パネル、クリック **ストア** > **設定** > **設定** > **一般** > **Web**.
1. 次の **ストア表示** ページ上部のリストで、「 **デフォルト設定** を次の図に示します。

   ![デフォルトの設定範囲を選択](../../assets/configuration/multi-site-default.png)

1. 右側のウィンドウで、を展開します。 **Url オプション**.
1. をクリア **システム値を使用** 横のチェックボックス _ストアコードを URL に追加_.
1. 次の _ストアコードを URL に追加_ リスト、クリック **はい**.

   ![ストアのベース URL にストアコードを追加する](../../assets/configuration/multi-site-add-store-url.png)

1. クリック **設定を保存**.
1. プロンプトが表示されたら、キャッシュをフラッシュします。 (**システム** > **キャッシュ管理**) をクリックします。

## 手順 7:デフォルトのストア表示ベース URL の変更

この手順は最後に実行する必要があります。これは、管理者へのアクセス権が失われるからです。web サーバー固有のトピックで説明したように、仮想ホストを設定すると、アクセスが返されます。

デフォルトのストアビューのベース URL を変更するには：

1. 内 _管理者_ パネル、クリック **ストア** > **設定** > **設定** > **一般** > **Web**.

1. 次の _ストア表示_ ページ上部のリストで、「 **デフォルト設定**.

   ![デフォルトの設定範囲を選択](../../assets/configuration/multi-site-default.png)

1. 右側のウィンドウで、を展開します。 **ベース URL**.
1. 内 _ベース URL_ セクション、クリア **システム値を使用**.
1. 次を入力します。 `http://magento.mg` URL: **ベース URL** および **ベースリンク URL** フィールド。

1. 前の手順を **ベース URL （セキュア）** 」セクションに入力します。

   >[!INFO]
   >
   >クラウドインフラストラクチャ上でAdobe Commerceのベース URL を設定する場合は、最初のピリオドを 3 ダッシュに置き換える必要があります。 例えば、ベース URL が `french.branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud`を入力して、 `http://french---branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud`

1. クリック **設定を保存**.
