---
title: 管理での複数の web サイト、ストア、ストア表示の設定
description: Commerce Admin で、追加の web サイト、ストア、ストアビューを設定します。
exl-id: e6b4d14d-7504-48f9-a2e1-7e9a1bc76ab9
source-git-commit: f7c82844fd6d006e4ebbcf56f6e10338f67d0bdd
workflow-type: tm+mt
source-wordcount: '1052'
ht-degree: 0%

---

# 管理者での複数ビューの設定

このタスクでは、各ストアのルートカテゴリ（および必要に応じて追加のカテゴリ）を作成する必要があります。 このトピックで説明するタスクは、複数のストアを設定する 1 つの方法となります。 詳しくは、Commerce ユーザーガイドの次の資料を参照してください。

- [ カテゴリ ](https://docs.magento.com/user-guide/catalog/categories.html)
- [Web サイトの追加 ](https://docs.magento.com/user-guide/stores/stores-all-create-website.html)
- [URL を保存 ](https://docs.magento.com/user-guide/stores/store-urls.html)
- [ コンテンツ ](https://docs.magento.com/user-guide/cms/content-menu.html)

>[!INFO]
>
>例としてのみ、このトピックで `french` す web サイトコードを含むフランス語の web サイトを使用します。 詳細なチュートリアルについては、[ チュートリアル：Apache で複数の Web サイトを設定する ](ms-apache.md) および [ チュートリアル：nginx で複数の Web サイトを設定する ](ms-nginx.md) を参照してください。

## 手順 1：ルートカテゴリの作成

ルートカテゴリの作成は任意ですが、このチュートリアルでは、各 web サイトに一意のルートカテゴリを設定する場合に、その方法を説明します。 必要に応じて、追加のカテゴリを作成できます。

ルートカテゴリを作成するには：

1. カテゴリの作成を許可されたユーザーとして管理者にログインします。
1. **カタログ**/**カテゴリ** をクリックします。
1. 「**ルートカテゴリを追加**」をクリックします。
1. **カテゴリ名** フィールドに、このカテゴリを識別する一意の名前を入力します。
1. 「カテゴリを有効にする」が **はい** に設定されていることを確認します。

   このページの他のオプションについて詳しくは、[ ルートカテゴリ ](https://docs.magento.com/user-guide/catalog/category-root.html) を参照してください。

   次の図に例を示します。

   ![ ルートカテゴリの作成と有効化 ](../../assets/configuration/add-root-category.png)

1. **保存** をクリックします。
1. これらのタスクを必要な回数だけ繰り返して、ストアのルートカテゴリを作成します。

## 手順 2:Web サイトの作成

Web サイトを作成するには：

1. Web サイト、ストア、ストアビューの作成を許可されているユーザーとして管理者にログインします。
1. **ストア**/**設定**/**すべてのストア** をクリックします。
1. _ストア_ ページで、「**Web サイトを作成**」をクリックします。

   - **名前** - Web サイトを識別する名前を入力します。
   - **コード** – 一意のコードを入力します。たとえば、フランスのストアがある場合は、`french` と入力できます
   - **並べ替え順** - オプションで数値による並べ替え順を入力します。

   次の図に例を示します。

   ![Web サイトの追加 ](../../assets/configuration/multi-site-website.png)

1. **Web サイトを保存** をクリックします。
1. これらのタスクを必要な回数繰り返して、web サイトを作成します。

## 手順 3：ストアの作成

ストアを作成するには：

1. _管理者_ パネルで、**ストア**/**設定**/**すべてのストア** をクリックします。
1. _ストア_ ページで、「**ストアを作成**」をクリックします。

   - **Web サイト** – このストアを関連付ける Web サイトの名前をクリックします。
   - **名前** - ストアを識別する名前を入力します。
   - **コード** - ストアを識別する一意のコードを入力します。
   - **ルートカテゴリ** – このストアのルートカテゴリの名前をクリックします。

   次の図に例を示します。

   ![ ストアを追加 ](../../assets/configuration/multi-site-store.png)

1. **ストアを保存** をクリックします。
1. ストアを作成するために、これらのタスクを必要な回数だけ繰り返します。

## 手順 4：ストアビューの作成

ストア表示を作成するには：

1. _管理者_ パネルで、**ストア**/**設定**/**すべてのストア** をクリックします。
1. ストアページで、「**ストア表示を作成**」をクリックします。

   - **ストア** – このストア表示を関連付けるストアの名前をクリックします。
   - **名前** – このストア ビューを識別する名前を入力します。
   - **コード** – このストアビューを識別する一意の名前を入力します。
   - **ステータス** - **有効** を選択します。

   次の図に例を示します。

   ![ ストアを追加 ](../../assets/configuration/multi-site-storeview.png)

1. **ストア表示を保存** をクリックします。
1. これらのタスクを必要な回数だけ繰り返して、ストア表示を作成します。

## 手順 5:web サイトのベース URL の変更

`http://french.magento.mg` のような一意の URL を使用して web サイトにアクセスするには、管理者で各サイトのベース URL を変更する必要があります。

Web サイトのベース URL を変更するには：

1. _管理者_ パネルで、**ストア**/**設定**/**設定**/**一般**/**Web** をクリックします。
1. ページ上部の **ストア表示** リストで、次の図に示すように、web サイトのいずれかの名前をクリックします。

   ![ 範囲を選択 ](../../assets/configuration/multi-site-scope.png)

1. 右側のパネルで「**ベース URL**」を展開します。
1. 「_ベース URL_」セクションで、「システム値を使用 **をクリア** します。
1. 「**ベース URL**」フィールドと「**ベースリンク URL**」フィールドに `http://french.magento.mg` URL を入力します。

1. _ベース URL （セキュア）_ セクションで前の手順を繰り返します。

   >[!INFO]
   >
   >クラウドインフラストラクチャにAdobe Commerceをデプロイするためのベース URL を設定する場合は、最初のピリオドを 3 つのダッシュに置き換える必要があります。 例えば、ベース URL が `french.branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud` の場合は、「`http://french---branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud`」と入力します。 ローカルテストのベース URL を設定する場合は、ピリオドを使用します。

1. 「**設定を保存**」をクリックします。

1. 他の web サイトに対してこれらのタスクを繰り返します。

## 手順 6：ベース URL へのストアコードの追加

Commerceでは、ストアコードをサイトベース URL に追加するオプションが提供されます。これにより、複数のストアを簡単に設定できます。 このオプションを使用すると、`index.php` と `.htaccess` を格納するためにCommerce ファイルシステム上にディレクトリを作成する必要がなくなります。

これにより、今後のアップグレードで `index.php` と `.htaccess` がCommerce コードベースと非同期になるのを防ぐことができます。

[Commerce ユーザーガイド ](https://docs.magento.com/user-guide/stores/store-urls.html) を参照してください。

ベース URL にストアコードを追加するには：

1. _管理者_ パネルで、**ストア**/**設定**/**設定**/**一般**/**Web** をクリックします。
1. 次の図に示すように、ページ上部の **ストア表示** リストで **デフォルト設定** をクリックします。

   ![ デフォルトの設定範囲を選択 ](../../assets/configuration/multi-site-default.png)

1. 右側のパネルで「**URL オプション**」を展開します。
1. _URL にストアコードを追加&#x200B;**の横にある**システム値を使用_ チェックボックスをオフにします。
1. _Url にストアコードを追加_ リストで、「**はい**」をクリックします。

   ![ ストアベース URL へのストアコードの追加 ](../../assets/configuration/multi-site-add-store-url.png)

1. 「**設定を保存**」をクリックします。
1. プロンプトが表示されたら、キャッシュをフラッシュします。 （**システム**/**キャッシュ管理**）。

## 手順 7：デフォルトのストア表示ベース URL の変更

この手順を最後に実行する必要があるのは、管理者へのアクセス権が失われるからです。Web サーバー固有のトピックで説明したように、仮想ホストを設定すると、アクセス権が戻ります。

デフォルトのストア表示ベース URL を変更するには：

1. _管理者_ パネルで、**ストア**/**設定**/**設定**/**一般**/**Web** をクリックします。

1. ページ上部の _ストア表示_ リストで、「**デフォルト設定**」をクリックします。

   ![ デフォルトの設定範囲を選択 ](../../assets/configuration/multi-site-default.png)

1. 右側のパネルで「**ベース URL**」を展開します。
1. 「_ベース URL_」セクションで、「システム値を使用 **をクリア** します。
1. 「**ベース URL**」フィールドと「**ベースリンク URL**」フィールドに `http://magento.mg` URL を入力します。

1. **ベース URL （セキュア）** セクションで前の手順を繰り返します。

   >[!INFO]
   >
   >クラウドインフラストラクチャ上でAdobe Commerceのベース URL を設定する場合は、最初のピリオドを 3 つのダッシュに置き換える必要があります。 例えば、ベース URL が `french.branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud` の場合は、`http://french---branch-sbg7pPa-f3dueAiM03tpy.us.magentosite.cloud` と入力します

1. 「**設定を保存**」をクリックします。

>[!INFO]
>
>Web サイト、ストア、ストア表示コードには、文字（a ～ z または A ～ Z）、数字（0 ～ 9）、アンダースコア（_）のみを使用できます。 また、最初の文字は文字である必要があります。 大文字またはキャメルケースを使用する場合、内部的には、環境変数による設定の上書きに対応するために、大文字と小文字が区別されません。 [ 環境変数を使用して設定を上書き ](../reference/override-config-settings.md#environment-variables) を参照してください。