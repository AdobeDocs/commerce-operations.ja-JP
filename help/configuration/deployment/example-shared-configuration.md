---
title: 共有設定の使用例
description: 共有設定ファイルを使用して開発システムの設定を変更する方法の例を参照してください。
exl-id: c980ec01-ca2d-43db-b68d-8e9435e07e6a
source-git-commit: 95ffff39d82cc9027fa633dffedf15193040802d
workflow-type: tm+mt
source-wordcount: '464'
ht-degree: 0%

---

# 共有設定の使用例

この例では、開発システムで次の設定を変更し、ビルド・システムで共有構成ファイル `config.php` を更新し、本番システムに同じ設定を実装する方法を示します：

- タイムゾーン
- 重み単位

これらの設定は、管理者の **ストア**/設定/**設定**/一般/**一般** で利用できます。

次のリファレンスでは、同じ手順を使用して、システム固有の設定ではなく、大文字と小文字を区別しない設定を行うことができます。

- [その他の設定パスのリファレンス](../reference/config-reference-general.md)
- [支払構成パス参照](../reference/config-reference-payment.md)
- [Commerce Enterprise B2B Extension 設定パスのリファレンス](../reference/config-reference-b2b.md)

## 始める前に

開始する前に、[ 開発、ビルド、および実稼動システムの前提条件 ](../deployment/prerequisites.md) で説明されているように、ファイルシステムの権限と所有権を設定します。

## 前提

このトピックでは、実稼動システム設定を変更する例を示します。 必要に応じて、別の設定オプションを選択できます。

この例では、以下を想定しています。

- Git ソース管理を使用します
- 開発システムは、`mconfig` という名前の Git リモートリポジトリーで使用できます
- Git 作業ブランチの名前は `m2.2_deploy` です。

## 手順 1：開発システムでの設定

開発システムのタイムゾーンと重み付けの単位を設定するには：

1. 管理者にログインします。
1. **ストア**/設定/**設定**/一般/**一般** をクリックします。
1. 右側のウィンドウで「**ロケールオプション**」を展開します。

   次の図に例を示します。

   ![ 開発システムでのロケールオプションの設定 ](../../assets/configuration/split-deploy-set-locale.png)

1. **タイムゾーン** リストで、「**GMT+00:00 （UTC）**」をクリックします。
1. **重み付け単位** フィールドの横にある **システム値を使用** チェックボックスをオフにします。
1. **重み付け単位** リストから、**kgs** をクリックします。
1. 「**設定を保存**」をクリックします。
1. プロンプトが表示されたら、キャッシュをフラッシュします。

## 手順 2：共有設定を更新する

開発システムで共有設定ファイル `app/etc/config.php` を生成し、この節で説明するように、ソース管理を使用してビルドシステムに転送します。

{{$include /help/_includes/config-save-config.md}}

## 手順 3：ビルドシステムを更新しファイルを生成する

共有設定の変更をソース管理にコミットしたので、ビルドシステムでそれらの変更を取り込み、コードをコンパイルし、静的ファイルを生成できます。 最後の手順は、これらの変更を実稼動システムに取り込むことです。 その結果、実稼動システムの設定は、開発システムと一致します。

{{$include /help/_includes/config-update-build-system.md}}

## 手順 4：実稼動システムを更新する

このプロセスの最後の手順は、ソース管理から実稼動システムを更新することです。 これにより、開発システムおよびビルドシステムに対して行われたすべての変更が取り込まれます。つまり、実稼動システムは完全に最新の状態になります。

{{$include /help/_includes/config-update-prod-system.md}}

### 管理者で変更を確認します。

**これらの設定が管理者で編集できないことを確認するには**:

1. 管理者にログインします。
1. **ストア**/設定/**設定**/一般/**一般** をクリックします。
1. 右側のウィンドウで「**ロケールオプション**」を展開します。

   設定したオプションは次のように表示されます。

   ![ 設定オプションは管理で編集できません ](../../assets/configuration/split-deploy-not-editable.png)

>[!INFO]
>
>管理者でロックされている設定を変更するには、[`magento config:set --lock` コマンドを使用します ](../cli/set-configuration-values.md)。
