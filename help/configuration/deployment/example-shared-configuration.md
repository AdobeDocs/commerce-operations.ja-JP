---
title: 共有設定の使用例
description: 共有設定ファイルを使用して開発システムの設定を変更する方法の例を参照してください。
source-git-commit: 6a3995dd24f8e3e8686a8893be9693581d31712b
workflow-type: tm+mt
source-wordcount: '460'
ht-degree: 0%

---


# 共有設定の使用例

この例では、開発システムで次の設定を変更し、共有設定ファイルを更新する方法を示します。 `config.php`をビルドシステムに追加し、実稼動システムに同じ設定を実装します。

- タイムゾーン
- 重量単位

これらの設定は、 **ストア** /設定/ **設定** /一般/ **一般**.

以下の参照で、機密性の低い、システムに固有でない設定を構成する場合も、同じ手順を使用できます。

- [その他の設定パスの参照](../reference/config-reference-general.md)
- [支払設定パスの参照](../reference/config-reference-payment.md)
- [Commerce Enterprise B2B 拡張機能の設定パスのリファレンス](../reference/config-reference-b2b.md)

## 始める前に

開始する前に、ファイルシステムの権限と所有権を設定します。詳しくは、 [開発、ビルドおよび実稼動システムの前提条件](../deployment/prerequisites.md).

## 前提

このトピックでは、実稼動システムの設定を変更する例を示します。 必要に応じて、別の設定オプションを選択できます。

この例では、次のような場合を想定しています。

- Git ソース管理を使用している
- この開発システムは、という名前の Git リモートリポジトリで使用できます。 `mconfig`
- Git の作業ブランチに次の名前が付けられています： `m2.2_deploy`

## 手順 1:開発システムでの設定

開発システムでタイムゾーンと重みの単位を設定するには、次の手順を実行します。

1. 管理者にログインします。
1. クリック **ストア** /設定/ **設定** /一般/ **一般**.
1. 右側のウィンドウで、を展開します。 **ロケールオプション**.

   次の図に例を示します。

   ![開発システムでロケールオプションを設定する](../../assets/configuration/split-deploy-set-locale.png)

1. 次の **タイムゾーン** リスト、クリック **GMT+00:00 (UTC)**.
1. をクリア **システム値を使用** 横のチェックボックス **重量単位** フィールドに入力します。
1. 次の **重量単位** リスト、クリック **kgs**.
1. クリック **設定を保存**.
1. プロンプトが表示されたら、キャッシュをフラッシュします。

## 手順 2:共有設定を更新

共有設定ファイルを生成します。 `app/etc/config.php`を作成し、この節で説明するように、開発システムでソース管理を使用してビルドシステムに転送します。

{{$include /help/_includes/config-save-config.md}}

## 手順 3:ビルドシステムを更新し、ファイルを生成する

共有構成に対する変更をソース管理にコミットしたので、ビルドシステムで変更をプルし、コードをコンパイルし、静的ファイルを生成できます。 最後の手順は、変更内容を実稼動システムにプルすることです。 その結果、実稼動システムの設定が開発システムと一致します。

{{$include /help/_includes/config-update-build-system.md}}

## 手順 4:実稼動システムを更新する

プロセスの最後の手順は、本番システムをソース管理から更新することです。 これにより、開発システムとビルドシステムに対しておこなった変更がすべて取り込まれます。つまり、実稼動システムは完全に最新の状態になっています。

{{$include /help/_includes/config-update-prod-system.md}}

### 管理者での変更の確認

**これらの設定が管理で編集できないことを確認するには**:

1. 管理者にログインします。
1. クリック **ストア** /設定/ **設定** /一般/ **一般**.
1. 右側のウィンドウで、を展開します。 **ロケールオプション**.

   設定したオプションは次のように表示されます。

   ![管理で編集できない設定オプション](../../assets/configuration/split-deploy-not-editable.png)

>[!INFO]
>
>管理者でロックされている設定を変更するには、 [`magento config:set --lock` command](../cli/set-configuration-values.md).
