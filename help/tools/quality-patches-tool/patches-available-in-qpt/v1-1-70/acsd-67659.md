---
title: ACSD-67659：翻訳済みエラーメッセージが未定義のエラーコードを返す
description: ACSD-67659 パッチを適用すると、翻訳された例外メッセージが  [!DNL GraphQL] request のエラーコードのマッピングに使用され、既知のエラーが正しいエラーコードではなく未定義のエラーコードを返すAdobe Commerceの問題が修正されます。
feature: GraphQL
role: Admin, Developer
type: Troubleshooting
source-git-commit: 7c42b69524bfae5fcd606596f6737a204bae39cc
workflow-type: tm+mt
source-wordcount: '363'
ht-degree: 0%

---


# ACSD-67659：翻訳済みエラーメッセージが *UNDEFINED* エラーコードを返す

ACSD-67659 パッチでは、翻訳された例外メッセージが [!DNL GraphQL] 要求のエラーコードのマッピングに使用され、既知のエラーにより正しいエラーコードではなく *UNDEFINED* エラーコードが返される問題が修正されています。 このパッチは、[[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.70 がインストールされている場合に使用できます。 パッチ ID は ACSD-67659 です。 この問題はAdobe Commerce 2.4.9 で修正される予定であることに注意してください。

## 影響を受ける製品とバージョン

**Adobe Commerce バージョン用のパッチが作成されます。**

* Adobe Commerce（すべてのデプロイメント方法） 2.4.8-p2

**Adobe Commerce バージョンとの互換性：**

* Adobe Commerce（すべてのデプロイメント方法） 2.4.8 - 2.4.8-p2

>[!NOTE]
>
>このパッチは、新しい [!DNL Quality Patches Tool] リリースを含む他のバージョンにも適用される可能性があります。 パッチがAdobe Commerceのバージョンと互換性があるかどうかを確認するには、`magento/quality-patches` パッケージを最新バージョンに更新し、[[!DNL Quality Patches Tool]: Search for patches page](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html?lang=ja) で互換性を確認します。 パッチ ID を検索キーワードとして使用して、パッチを見つけます。

## 問題

翻訳された例外メッセージは、[!DNL GraphQL] 要求のエラーコードのマッピングに使用されるため、既知のエラーでは正しいエラーコードではなく *UNDEFINED* エラーコードが返されます。

<u> 再現手順 </u>:

1. 次のようなエラー文字列の翻訳を持つファイル `app/i18n/Magento/de_DE/de_DE.csv` を追加します。

   ```
   "Could not find a cart with ID ""%masked_cart_id""","we have an
   UNDEFINED issue",module,Magento_QuoteGraphQl
   ```

2. 管理パネルで、**[!UICONTROL Stores]** / **[!UICONTROL Settings]** / **[!UICONTROL All Stores]** / **[!UICONTROL Create Store View]** に移動して、ストア表示を作成します。
3. **[!UICONTROL Code]** を *test* に設定します。
4. 新しく作成 `german` たストア表示に言語を割り当てます。
5. `setup:upgrade` および `setup:static-content:deploy -f` コマンドを実行します。
6. ヘッダー `Store:test` を指定して次のGraphQL クエリを実行します。

   ```
   mutation {
       placeOrder(input: { cart_id: "test" }) {
           orderV2 {
               id
               number
           }
       }
   }
   ```

<u> 期待される結果 </u>:

エラー応答は、適切なエラーコードを返します。

```
{
    "errors": [
        {
            "message": "we have an UNDEFINED issue",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "CART_NOT_FOUND"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

<u> 実際の結果 </u>:

返される `error_code` は *UNDEFINED* です。

```
{
    "errors": [
        {
            "message": "Oh noo, we have an UNDEFINED issue, see!",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "UNDEFINED"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

## パッチの適用

個々のパッチを適用するには、デプロイメント方法に応じて、次のリンクを使用します。

* Adobe CommerceまたはMagento Open Source オンプレミス：[[!DNL Quality Patches Tool] > 使用状況 &#x200B;](/help/tools/quality-patches-tool/usage.md) [!DNL Quality Patches Tool] ガイドに記載されています。
* クラウドインフラストラクチャー上のAdobe Commerce：クラウドインフラストラクチャー上のCommerce ガイドの [&#x200B; アップグレードとパッチ &#x200B;](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html?lang=ja)/ パッチの適用」を参照してください。

## 関連資料

[!DNL Quality Patches Tool] について詳しくは、以下を参照してください。

* [[!DNL Quality Patches Tool]: 『ツールガイド』にあるクオリティパッチ &#x200B;](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) セルフサービスツール。
