---
title: ACSD-67093：日付範囲フィルターを使用して、GraphQLから注文を取得すると、誤った結果が返される
description: ACSD-67093 パッチを適用すると、Adobe Commerceの問題を修正できます。この問題では、日付範囲フィルターを使用してGraphQLから注文を取得すると、誤った結果が返されます。
feature: GraphQL, Orders
role: Admin, Developer
type: Troubleshooting
source-git-commit: f990805b455a6ac11b5d747748cc8d804071b970
workflow-type: tm+mt
source-wordcount: '348'
ht-degree: 0%

---

# ACSD-67093：日付範囲フィルターを使用して [!DNL GraphQL] から注文を取得すると、誤った結果が返される。

ACSD-67093 パッチでは、日付範囲フィルターを使用してGraphQLから注文を取得すると、誤った結果が返される問題を修正しました。 このパッチは、[[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.70 がインストールされている場合に使用できます。 パッチ ID は ACSD-67093 です。 この問題はAdobe Commerce 2.4.9 で修正される予定であることに注意してください。

## 影響を受ける製品とバージョン

**Adobe Commerce バージョン用のパッチが作成されます。**

* Adobe Commerce（すべてのデプロイメント方法） 2.4.8-p2

**Adobe Commerce バージョンとの互換性：**

* Adobe Commerce（すべてのデプロイメント方法） 2.4.8 - 2.4.8-p2

>[!NOTE]
>
>このパッチは、新しい [!DNL Quality Patches Tool] リリースを含む他のバージョンにも適用される可能性があります。 パッチがAdobe Commerceのバージョンと互換性があるかどうかを確認するには、`magento/quality-patches` パッケージを最新バージョンに更新し、[[!DNL Quality Patches Tool]: Search for patches page](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html) で互換性を確認します。 パッチ ID を検索キーワードとして使用して、パッチを見つけます。

## 問題

GraphQLの日付範囲フィルターが、誤った注文結果を返す。

<u> 再現手順 </u>:

1. 商品を作成します。
1. 顧客を作成し、注文します。
1. 注文を更新するか、1 日待ちます。

   ```
   UPDATE sales_order
   SET created_at = '2025-07-01 12:00:00',
       updated_at = '2025-07-01 12:00:00'
   WHERE entity_id = 1;
   
   UPDATE sales_order_grid
   SET created_at = '2025-07-01 12:00:00',
       updated_at = '2025-07-01 12:00:00'
   WHERE entity_id = 1;
   ```

   >[!NOTE]
   >
   >「現在の日付」または「現在の日付 – 1 日」を「`created_at`」および「`updated_at`」フィールド値に追加します。

1. 日付を変更せずに新しい注文を行います。
1. 顧客トークンを作成します。
1. すべての注文を注文日でフィルタリングします。

   ```
    query{
        customer{
            orders(pageSize: 10, currentPage: 1, filter: { order_date: {
                from: "2025-07-21", to: "2025-07-24" } }) { items { order_number created_at status grand_total }, total_count } } }
   ```

   >[!NOTE]
   > 日付フィ `from` ルドを現在の日付に、「`to` 日」フィールドを「現在の日付+ 2 日」に設定します。
   >
   > 例：`from: "2025-07-21"`、`to: "2025-07-24"` （今日が 2025-07-21 の場合）。

<u> 期待される結果 </u>:

フィルタリングされた日付のみを返す必要があります。

<u> 実際の結果 </u>:

すべての注文が返されます

## パッチの適用

個々のパッチを適用するには、デプロイメント方法に応じて、次のリンクを使用します。

* Adobe CommerceまたはMagento Open Source オンプレミス：[[!DNL Quality Patches Tool] > 使用状況 ](/help/tools/quality-patches-tool/usage.md)[!DNL Quality Patches Tool] ガイドに記載されています。
* クラウドインフラストラクチャー上のAdobe Commerce：クラウドインフラストラクチャー上のCommerce ガイドの [ アップグレードとパッチ ](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html)/ パッチの適用」を参照してください。

## 関連資料

[!DNL Quality Patches Tool] について詳しくは、以下を参照してください。

* [[!DNL Quality Patches Tool]: 『ツールガイド』にあるクオリティパッチ ](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) セルフサービスツール。
